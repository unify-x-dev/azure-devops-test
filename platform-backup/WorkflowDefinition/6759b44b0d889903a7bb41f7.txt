{
	"appsUsed":[
		
	],
	"createdTime":1734282653130,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296294013,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd65d60dd816d7799102",
		"status":"DEPLOYED",
		"version":97,
		"workflowVersion":145
	},
	"edges":[
		{
			"fromNodeId":"z35h8",
			"priority":0,
			"skip":false,
			"toNodeId":"_DWuYm",
			"type":"next"
		},
		{
			"fromNodeId":"_DWuYm",
			"priority":0,
			"skip":false,
			"toNodeId":"_bbDG8",
			"type":"next"
		},
		{
			"fromNodeId":"_bbDG8",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_ULhc2",
			"type":"if"
		},
		{
			"fromNodeId":"_ULhc2",
			"priority":0,
			"skip":false,
			"toNodeId":"StVrb",
			"type":"next"
		},
		{
			"fromNodeId":"_bbDG8",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"StVrb",
			"type":"next"
		},
		{
			"fromNodeId":"StVrb",
			"priority":0,
			"skip":false,
			"toNodeId":"_fKJt7",
			"type":"next"
		},
		{
			"fromNodeId":"_fKJt7",
			"priority":0,
			"skip":false,
			"toNodeId":"_mfTdR",
			"type":"next"
		},
		{
			"fromNodeId":"_mfTdR",
			"priority":0,
			"skip":false,
			"toNodeId":"_N7xPB",
			"type":"next"
		},
		{
			"fromNodeId":"_N7xPB",
			"priority":0,
			"skip":false,
			"toNodeId":"_BkM6Q",
			"type":"next"
		},
		{
			"fromNodeId":"_BkM6Q",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Bh6q5",
			"type":"next"
		},
		{
			"fromNodeId":"n_Bh6q5",
			"priority":0,
			"skip":false,
			"toNodeId":"_GGQCF",
			"type":"next"
		},
		{
			"fromNodeId":"_GGQCF",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"_GGQCF@1",
			"type":"branch"
		},
		{
			"fromNodeId":"_GGQCF@1",
			"priority":0,
			"skip":false,
			"toNodeId":"_R8xUT",
			"type":"next"
		},
		{
			"fromNodeId":"_R8xUT",
			"priority":0,
			"skip":false,
			"toNodeId":"_QECYL",
			"type":"next"
		},
		{
			"fromNodeId":"_QECYL",
			"priority":0,
			"skip":false,
			"toNodeId":"_iwVlW",
			"type":"next"
		},
		{
			"fromNodeId":"_iwVlW",
			"priority":0,
			"skip":false,
			"toNodeId":"_yr4jH",
			"type":"next"
		},
		{
			"fromNodeId":"_yr4jH",
			"priority":0,
			"skip":false,
			"toNodeId":"_BTPaE",
			"type":"next"
		},
		{
			"fromNodeId":"_BTPaE",
			"priority":0,
			"skip":false,
			"toNodeId":"HceOT",
			"type":"next"
		},
		{
			"fromNodeId":"HceOT",
			"priority":0,
			"skip":false,
			"toNodeId":"MY5nG",
			"type":"next"
		},
		{
			"fromNodeId":"_GGQCF",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"_GGQCF@2",
			"type":"branch"
		},
		{
			"fromNodeId":"_GGQCF@2",
			"priority":0,
			"skip":false,
			"toNodeId":"Hra9u",
			"type":"next"
		},
		{
			"fromNodeId":"Hra9u",
			"priority":0,
			"skip":false,
			"toNodeId":"_0S3Lz",
			"type":"next"
		},
		{
			"fromNodeId":"_0S3Lz",
			"priority":0,
			"skip":false,
			"toNodeId":"_7MMrD",
			"type":"next"
		},
		{
			"fromNodeId":"_7MMrD",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ct5Pf",
			"type":"next"
		},
		{
			"fromNodeId":"_Ct5Pf",
			"priority":0,
			"skip":false,
			"toNodeId":"GHtfK",
			"type":"next"
		},
		{
			"fromNodeId":"MY5nG",
			"priority":0,
			"skip":false,
			"toNodeId":"rp0ma",
			"type":"next"
		},
		{
			"fromNodeId":"GHtfK",
			"priority":0,
			"skip":false,
			"toNodeId":"rp0ma",
			"type":"next"
		},
		{
			"fromNodeId":"_GGQCF",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"rp0ma",
			"type":"branch"
		},
		{
			"fromNodeId":"rp0ma",
			"priority":0,
			"skip":false,
			"toNodeId":"sE03r",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6759b44b0d889903a7bb41f7",
	"lastModifiedBy":0,
	"lcName":"data rag as action",
	"modifiedTime":1761722846941,
	"name":"Data RAG As Action",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":46,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"z35h8",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"rowData",
						"columnData"
					],
					"properties":{
						"success":{
							"type":"string",
							"title":"Success"
						},
						"rowData":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Row Data"
						},
						"columnData":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Column Data"
						},
						"relevantKnowledgeList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"Knowledge Id"
									},
									"tableNames":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"Table Names"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Relevant Knowledge List"
						},
						"chunks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Chunks"
						},
						"sqlQuery":{
							"type":"string",
							"title":"sqlQuery"
						},
						"sqlQueryPlatformName":{
							"type":"string",
							"title":"sqlQueryPlatformName"
						},
						"hasMoreData":{
							"type":"boolean",
							"title":"hasMoreData"
						},
						"passMessageDirectlyToAgent":{
							"type":"string",
							"title":"Pass Message Directly To Agent"
						},
						"assumptions_for_sql_generation":{
							"type":"string",
							"title":"Assumptions For Sql Generation"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userQuery":{
							"type":"string",
							"title":"User Query"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"executeUsingModel":{
							"type":"string",
							"title":"executeUsingModel"
						},
						"tableIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Table Ids"
						},
						"SQLServerAddditionalMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"SQL Server Addditional Metadata"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_DWuYm",
			"index":2,
			"inputs":{
				"automationId":"68712e940efd02597703f2f3",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ z35h8.outputs.caseId }}",
					"aiAgentId":"{{ z35h8.outputs.aiAgentId }}",
					"userQuery":"{{ z35h8.outputs.userQuery }}",
					"tableIds":{
						"source":"{{ z35h8.outputs.tableIds }}",
						"ua:type":"mappedArray",
						"items":"{{ z35h8.outputs.tableIds[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Fetch Metadata",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":8,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_bbDG8",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ _DWuYm.outputs.metadata }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"=LEN({{ _DWuYm.outputs.metadata }})",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"no metadata ",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":9,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bbDG8@ngYSB-1@y",
			"id":"_ULhc2",
			"index":4,
			"inputs":{
				"result":{
					"success":"false",
					"passMessageDirectlyToAgent":"No tables and columns found for SQL formation."
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"StVrb",
			"index":5,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"knowledgeId":{
											"type":"string",
											"title":"knowledgeId"
										},
										"metadata":{
											"type":"string",
											"title":"metadata"
										},
										"column_description":{
											"type":"string",
											"title":"column_description"
										},
										"column_label":{
											"type":"string",
											"title":"column_label"
										},
										"column_name":{
											"type":"string",
											"title":"column_name"
										},
										"platform_name":{
											"type":"string",
											"title":"platform_name"
										},
										"column_datatype":{
											"type":"string",
											"title":"column_datatype"
										},
										"table_name":{
											"type":"string",
											"title":"table_name"
										},
										"tablePrimaryKey":{
											"type":"string",
											"title":"tablePrimaryKey"
										},
										"tableDescription":{
											"type":"string",
											"title":"tableDescription"
										},
										"tableNameUI":{
											"type":"string",
											"title":"Table Name UI"
										}
									},
									"additionalProperties":false,
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"metadataForChunk",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"metadataForChunk",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"knowledgeId"
									},
									"metadata":{
										"type":"string",
										"title":"metadata"
									},
									"column_description":{
										"type":"string",
										"title":"column_description"
									},
									"column_label":{
										"type":"string",
										"title":"column_label"
									},
									"column_name":{
										"type":"string",
										"title":"column_name"
									},
									"platform_name":{
										"type":"string",
										"title":"platform_name"
									},
									"column_datatype":{
										"type":"string",
										"title":"column_datatype"
									},
									"table_name":{
										"type":"string",
										"title":"table_name"
									},
									"tablePrimaryKey":{
										"type":"string",
										"title":"tablePrimaryKey"
									},
									"tableDescription":{
										"type":"string",
										"title":"tableDescription"
									},
									"tableNameUI":{
										"type":"string",
										"title":"Table Name UI"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":134,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_fKJt7",
			"index":6,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"hasMoreData":{
							"type":"boolean",
							"title":"hasMoreData"
						},
						"sqlQuery":{
							"type":"string",
							"title":"sqlQuery"
						},
						"sqlQueryPlatformName":{
							"type":"string",
							"title":"sqlQueryPlatformName"
						},
						"assumptions_for_sql_generation":{
							"type":"string",
							"title":"Assumptions For Sql Generation"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"hasMoreData":{
							"type":"boolean",
							"title":"hasMoreData"
						},
						"sqlQuery":{
							"type":"string",
							"title":"sqlQuery"
						},
						"sqlQueryPlatformName":{
							"type":"string",
							"title":"sqlQueryPlatformName"
						},
						"assumptions_for_sql_generation":{
							"type":"string",
							"title":"Assumptions For Sql Generation"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"platformName",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":189,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_mfTdR",
			"index":7,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"value":{
											"type":"object",
											"properties":{},
											"additionalProperties":false,
											"title":"Value"
										}
									},
									"required":[
										"value"
									]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"sqlOuptut",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"sqlOuptut",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"value":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"Value"
									}
								},
								"required":[
									"value"
								]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"sqlOutput",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":189,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_N7xPB",
			"index":8,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"columnNames",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"columnNames",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_BkM6Q",
			"index":9,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"knowledgeId":{
											"type":"string",
											"title":"Knowledge Id"
										},
										"tableNames":{
											"type":"array",
											"items":{
												"type":"string"
											},
											"title":"Table Names"
										}
									},
									"required":[
										"knowledgeId",
										"tableNames"
									]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"relevantKnowledge",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"relevantKnowledge",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"Knowledge Id"
									},
									"tableNames":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"Table Names"
									}
								},
								"required":[
									"knowledgeId",
									"tableNames"
								]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"n_Bh6q5",
			"index":10,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ z35h8.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_GGQCF",
			"index":11,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"uem",
							"conditions":{
								"filters":[
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"unifiedEntityModel"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"uem"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"mysql"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"sqlserver"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"unified_entity_by_unifyapps"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"storage_by_unifyapps"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"snowflake"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"redshift"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"oracledb"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"microsoft_azure_database"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"clickhouse"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"postgres"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"UnifiedPlatform"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"servicenow"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"watsonxdata"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"google_big_query"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"mariadb"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"starrocks"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"EQUAL",
											"value":"custom_api"
										}
									},
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"STARTS_WITH",
											"value":"custom_automation_"
										}
									}
								],
								"operator":"OR"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"conditions":{
								"filters":[
									{
										"property":"{{ _DWuYm.outputs.platform }}",
										"filter":{
											"operator":"CONTAINS",
											"value":"salesforce"
										}
									}
								],
								"operator":"AND"
							},
							"name":"salesforce"
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":51,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_GGQCF@1",
			"index":12,
			"inputs":{
				"name":"uem",
				"conditions":{
					"filters":[
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"unifiedEntityModel"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"uem"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"mysql"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"sqlserver"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"unified_entity_by_unifyapps"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"storage_by_unifyapps"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"snowflake"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"redshift"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"oracledb"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"microsoft_azure_database"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"clickhouse"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"postgres"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"UnifiedPlatform"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"servicenow"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"watsonxdata"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"google_big_query"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"mariadb"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"starrocks"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"EQUAL",
								"value":"custom_api"
							}
						},
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"STARTS_WITH",
								"value":"custom_automation_"
							}
						}
					],
					"operator":"OR"
				}
			},
			"skip":false,
			"subTitle":"uem",
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.metadata.source",
					"root.parameters.metadata.ua:type",
					"root.parameters.metadata.items.column_name",
					"root.parameters.metadata.items.column_description",
					"root.parameters.metadata.items.column_label",
					"root.parameters.metadata.items.column_datatype",
					"root.parameters.metadata.items.platformName",
					"root.parameters.metadata.items.table_name"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":67,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_R8xUT",
			"index":13,
			"inputs":{
				"automationId":"672eefb99d0e461f4f99c3bd",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userQuery":"{{ z35h8.outputs.userQuery }}",
					"platformName":"{{ _DWuYm.outputs.platform }}",
					"knowledgeInstructions":"{{ _DWuYm.outputs.knowledgeInstructions }}",
					"executeUsingModel":"{{ z35h8.outputs.executeUsingModel }}",
					"caseId":"{{ z35h8.outputs.caseId }}",
					"max_row_limit":"{{ n_Bh6q5.outputs.properties.preProcessingSettings.maxRowLimitForSQL }}",
					"aiAgentId":"{{ z35h8.outputs.aiAgentId }}",
					"AutomationIdForContextAdditionForSQLQueryGeneration":"{{ n_Bh6q5.outputs.properties.textToSQLSettings.AutomationIdForContextAdditionForSQLQueryGeneration }}",
					"FewShotExtraFilterNeeded":"{{ n_Bh6q5.outputs.properties.textToSQLSettings.fewShotExtraFilterNeeded }}",
					"AutomationIdForFewShotExtraFilter":"{{ n_Bh6q5.outputs.properties.textToSQLSettings.AutomationIdForFewShotExtraFilter }}",
					"assumptionNeededInFinalAnswer":"{{ n_Bh6q5.outputs.properties.textToSQLSettings.PublishAssumptionsTakenForSQLgeneration }}",
					"clarificationQuestionNeeded":"{{ n_Bh6q5.outputs.properties.textToSQLSettings.clarificationQuestionNeeded }}",
					"metadata":{
						"ua:type":"mappedArray",
						"items":{
							"column_description":"{{ _DWuYm.outputs.metadata[0].column_description }}",
							"column_label":"{{ _DWuYm.outputs.metadata[0].column_label }}",
							"column_name":"{{ _DWuYm.outputs.metadata[0].column_name }}",
							"column_datatype":"{{ _DWuYm.outputs.metadata[0].column_datatype }}",
							"table_name":"{{ _DWuYm.outputs.metadata[0].table_name }}",
							"platformName":"{{ _DWuYm.outputs.metadata[0].platform_name }}",
							"tableDescription":"{{ _DWuYm.outputs.metadata[0].tableDescription }}",
							"tablePrimaryKey":"{{ _DWuYm.outputs.metadata[0].tablePrimaryKey }}",
							"tableNameUI":"{{ _DWuYm.outputs.metadata[0].tableNameUI }}"
						},
						"source":"{{ _DWuYm.outputs.metadata }}"
					},
					"fewShotExamples":{
						"ua:type":"mappedArray",
						"items":"{{ _DWuYm.outputs.fewShotExamples[0] }}",
						"source":"{{ _DWuYm.outputs.fewShotExamples }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Query on UEM",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.value"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":130,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_QECYL",
			"index":14,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _R8xUT.outputs.sqlOutput }}",
					"items":{
						"value":"{{ _R8xUT.outputs.sqlOutput[0] }}"
					}
				},
				"listName":"{{ _mfTdR.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":130,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_iwVlW",
			"index":15,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _R8xUT.outputs.columnNames }}",
					"items":"{{ _R8xUT.outputs.columnNames[0] }}"
				},
				"listName":"{{ _N7xPB.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.knowledgeList.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_yr4jH",
			"index":16,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"relevantKnowledgeList"
					],
					"properties":{
						"relevantKnowledgeList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"Knowledge Id"
									},
									"tableNames":{
										"type":"array",
										"items":{
											"type":"string"
										},
										"title":"Table Names"
									}
								},
								"additionalProperties":false,
								"required":[
									"knowledgeId"
								]
							},
							"title":"Relevant Knowledge List"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"tableNames"
					],
					"properties":{
						"tableNames":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Table Names"
						},
						"knowledgeList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Knowledge List"
						}
					}
				},
				"code":"def ans = []\ndef knowledgeVsTables = [:]\n\nif (binding.hasVariable('tableNames') && binding.hasVariable('knowledgeList')) {\n  tableNames.each { tableName ->\n    knowledgeList.each { knowledge ->\n      // Check if the knowledge contains the 'table_name' key\n      if (knowledge.containsKey('table_name') && knowledge['table_name'] == tableName) {\n        def knowledgeId = knowledge['knowledgeId']\n        def tables = knowledgeVsTables[knowledgeId]\n        \n        // If tables are not found for this knowledgeId, initialize it\n        if (!tables) {\n          tables = []\n        }\n        if(!tables.contains(tableName)) {\n          tables << tableName\n        }\n        \n        // Update the knowledgeVsTables map with the updated list of tables\n        knowledgeVsTables[knowledgeId] = tables\n      }\n    }\n  }\n\n  // Populate the ans list with the knowledgeId and associated table names\n  knowledgeVsTables.each { entry ->\n    ans << ['knowledgeId': entry.key, 'tableNames': entry.value]\n  }\n}\n\nreturn ['relevantKnowledgeList': ans]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"tableNames":{
						"source":"{{ _R8xUT.outputs.tableNames }}",
						"ua:type":"mappedArray",
						"items":"{{ _R8xUT.outputs.tableNames[0] }}"
					},
					"knowledgeList":{
						"source":"{{ _DWuYm.outputs.metadata }}",
						"ua:type":"mappedArray",
						"items":"{{ _DWuYm.outputs.metadata[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.knowledgeId",
					"root.itemsToAdd.items.tableNames.items"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"_BTPaE",
			"index":17,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _yr4jH.outputs.result.relevantKnowledgeList }}",
					"items":{
						"knowledgeId":"{{ _yr4jH.outputs.result.relevantKnowledgeList[0].knowledgeId }}",
						"tableNames":{
							"source":"{{ _yr4jH.outputs.result.relevantKnowledgeList[0].tableNames }}",
							"ua:type":"mappedArray",
							"items":"{{ _yr4jH.outputs.result.relevantKnowledgeList[0].tableNames[0] }}"
						}
					}
				},
				"listName":"{{ _BkM6Q.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":235,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"HceOT",
			"index":18,
			"inputs":{
				"variables":[
					{
						"source":"{{ _fKJt7.outputs.hasMoreData }}",
						"value":"{{ _R8xUT.outputs.hasMoreData }}"
					},
					{
						"source":"{{ _fKJt7.outputs.sqlQuery }}",
						"value":"{{ _R8xUT.outputs.sqlQuery }}"
					},
					{
						"source":"{{ _fKJt7.outputs.sqlQueryPlatformName }}",
						"value":"{{ _R8xUT.outputs.sqlQueryPlatformName }}"
					},
					{
						"source":"{{ _fKJt7.outputs.assumptions_for_sql_generation }}",
						"value":"{{ _R8xUT.outputs.assumptions_for_sql_generation }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.knowledgeId",
					"root.itemsToAdd.items.metadata",
					"root.itemsToAdd.items.column_description",
					"root.itemsToAdd.items.column_label",
					"root.itemsToAdd.items.column_name",
					"root.itemsToAdd.items.platform_name",
					"root.itemsToAdd.items.column_datatype",
					"root.itemsToAdd.items.table_name",
					"root.itemsToAdd.items.tablePrimaryKey",
					"root.itemsToAdd.items.tableDescription",
					"root.itemsToAdd.items.tableNameUI"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":370,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@1",
			"id":"MY5nG",
			"index":19,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _R8xUT.outputs.tableNames }}",
					"items":{
						"table_name":"{{ _R8xUT.outputs.tableNames[0].table_name }}",
						"platform_name":"{{ _R8xUT.outputs.tableNames[0].platform_name }}",
						"tableNameUI":"{{ _R8xUT.outputs.tableNames[0].tableNameUI }}"
					}
				},
				"listName":"{{ StVrb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":51,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"_GGQCF@2",
			"index":20,
			"inputs":{
				"name":"salesforce",
				"conditions":{
					"filters":[
						{
							"property":"{{ _DWuYm.outputs.platform }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"salesforce"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":72,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"Hra9u",
			"index":21,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"connectionId":{
							"type":"string",
							"title":"Connection Id"
						}
					},
					"additionalProperties":false,
					"required":[
						"connectionId"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"platformName":{
							"type":"string",
							"title":"Platform Name"
						}
					},
					"additionalProperties":false,
					"required":[
						"platformName"
					]
				},
				"compile_static":false,
				"code":"return [\"connectionId\": platformName.substring(\"salesforce_\".length())]",
				"parameters":{
					"platformName":"{{ _DWuYm.outputs.platform }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.metadata.source",
					"root.parameters.metadata.ua:type",
					"root.parameters.metadata.items.column_name",
					"root.parameters.metadata.items.column_description",
					"root.parameters.metadata.items.column_label",
					"root.parameters.metadata.items.column_datatype",
					"root.parameters.metadata.items.platformName",
					"root.parameters.metadata.items.table_name"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":67,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"_0S3Lz",
			"index":22,
			"inputs":{
				"automationId":"675ff482183e5a060976c365",
				"runtimeConnections":{
					"salesforce":"{{ Hra9u.outputs.result.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userQuery":"{{ z35h8.outputs.userQuery }}",
					"metadata":{
						"ua:type":"mappedArray",
						"items":{
							"column_description":"{{ _DWuYm.outputs.metadata[0].column_description }}",
							"column_label":"{{ _DWuYm.outputs.metadata[0].column_label }}",
							"column_name":"{{ _DWuYm.outputs.metadata[0].column_name }}",
							"column_datatype":"{{ _DWuYm.outputs.metadata[0].column_datatype }}",
							"table_name":"{{ _DWuYm.outputs.metadata[0].table_name }}",
							"platformName":"{{ _DWuYm.outputs.metadata[0].platform_name }}"
						},
						"source":"{{ _DWuYm.outputs.metadata }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Query on Salesfoce",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.value"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":130,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"_7MMrD",
			"index":23,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _0S3Lz.outputs.sqlOutput }}",
					"items":{
						"value":"{{ _0S3Lz.outputs.sqlOutput[0] }}"
					}
				},
				"listName":"{{ _mfTdR.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":130,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"_Ct5Pf",
			"index":24,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"source":"{{ _0S3Lz.outputs.columnNames }}",
					"items":"{{ _0S3Lz.outputs.columnNames[0] }}"
				},
				"listName":"{{ _N7xPB.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.knowledgeId",
					"root.itemsToAdd.items.metadata",
					"root.itemsToAdd.items.column_description",
					"root.itemsToAdd.items.column_label",
					"root.itemsToAdd.items.column_name",
					"root.itemsToAdd.items.platform_name",
					"root.itemsToAdd.items.column_datatype",
					"root.itemsToAdd.items.table_name",
					"root.itemsToAdd.items.tablePrimaryKey",
					"root.itemsToAdd.items.tableDescription",
					"root.itemsToAdd.items.tableNameUI"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":370,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_GGQCF@ngYSB-1@2",
			"id":"GHtfK",
			"index":25,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"items":{
						"table_name":"{{ _DWuYm.outputs.metadata[0].table_name }}",
						"tableNameUI":"{{ _DWuYm.outputs.metadata[0].tableNameUI }}",
						"platform_name":"{{ _DWuYm.outputs.metadata[0].platform_name }}"
					},
					"source":"{{ _DWuYm.outputs.metadata }}"
				},
				"listName":"{{ StVrb.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.metadata.items.table_name",
					"root.parameters.metadata.items.platform_name",
					"root.parameters.metadata.items.tableNameUI"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":170,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"rp0ma",
			"index":26,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"chunks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Chunks"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"metadata":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"table_name":{
										"type":"string",
										"title":"table_name"
									},
									"platform_name":{
										"type":"string",
										"title":"platform_name"
									},
									"tableNameUI":{
										"type":"string",
										"title":"Table Name UI"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"metadata"
						}
					}
				},
				"code":"def metadata = binding.hasVariable(\"metadata\")?binding.getVariable(\"metadata\"):[]\n\ndef extractBeforeLastUnderscore = { String str ->\n    if(str == \"storage_by_unifyapps\" || str == \"unified_entity_by_unifyapps\"){\n      return str\n    }\n    int lastUnderscoreIndex = str.lastIndexOf('_')\n    if (lastUnderscoreIndex != -1) {\n        return str.substring(0, lastUnderscoreIndex)\n    } else {\n        return str // Return original string if no underscore is found\n    }\n}\n\ndef chunks = metadata\n    .unique { a, b -> a.table_name <=> b.table_name ?: a.platform_name <=> b.platform_name }\n    .collect { [ name: it.tableNameUI == null ? it.table_name: it.tableNameUI, appName: extractBeforeLastUnderscore(it.platform_name) ] }\n\nreturn [\"chunks\":chunks]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"metadata":{
						"ua:type":"mappedArray",
						"items":{
							"table_name":"{{ StVrb.outputs.items[0].table_name }}",
							"platform_name":"{{ StVrb.outputs.items[0].platform_name }}",
							"tableNameUI":"{{ StVrb.outputs.items[0].tableNameUI }}"
						},
						"source":"{{ StVrb.outputs.items }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":42,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"sE03r",
			"index":27,
			"inputs":{
				"result":{
					"success":"true",
					"sqlQuery":"{{ _fKJt7.outputs.sqlQuery }}",
					"sqlQueryPlatformName":"{{ _fKJt7.outputs.sqlQueryPlatformName }}",
					"hasMoreData":"{{ _fKJt7.outputs.hasMoreData }}",
					"passMessageDirectlyToAgent":"{{ _R8xUT.outputs.passMessageDirectlyToAgent }}",
					"assumptions_for_sql_generation":"{{ _fKJt7.outputs.assumptions_for_sql_generation }}",
					"rowData":{
						"source":"{{ _mfTdR.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ _mfTdR.outputs.items[0].value }}"
					},
					"columnData":{
						"source":"{{ _N7xPB.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ _N7xPB.outputs.items[0] }}"
					},
					"relevantKnowledgeList":{
						"source":"{{ _BkM6Q.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"knowledgeId":"{{ _BkM6Q.outputs.items[0].knowledgeId }}",
							"tableNames":{
								"source":"{{ _BkM6Q.outputs.items[0].tableNames }}",
								"ua:type":"mappedArray",
								"items":"{{ _BkM6Q.outputs.items[0].tableNames[0] }}"
							}
						}
					},
					"chunks":{
						"ua:type":"mappedArray",
						"source":"{{ rp0ma.outputs.result.chunks }}",
						"items":"{{ rp0ma.outputs.result.chunks[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":520,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":147
}