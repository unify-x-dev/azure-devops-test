{
	"appsUsed":[
		
	],
	"createdTime":1752511076331,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1761288019111,
		"deployedBy":635,
		"deployedDefinitionId":"68fb1f53cc36024e0ca63b24",
		"status":"DEPLOYED",
		"version":34,
		"workflowVersion":78
	},
	"edges":[
		{
			"fromNodeId":"n_CXGX6",
			"priority":0,
			"skip":false,
			"toNodeId":"NjLHK",
			"type":"next"
		},
		{
			"fromNodeId":"NjLHK",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_V60gF",
			"type":"if"
		},
		{
			"fromNodeId":"n_V60gF",
			"priority":0,
			"skip":false,
			"toNodeId":"E04A8",
			"type":"next"
		},
		{
			"fromNodeId":"NjLHK",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"E04A8",
			"type":"next"
		},
		{
			"fromNodeId":"E04A8",
			"priority":0,
			"skip":false,
			"toNodeId":"n_mmxWp",
			"type":"next"
		},
		{
			"fromNodeId":"n_mmxWp",
			"priority":0,
			"skip":false,
			"toNodeId":"KyjsS",
			"type":"next"
		},
		{
			"fromNodeId":"KyjsS",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_RMwqX",
			"type":"if"
		},
		{
			"fromNodeId":"n_RMwqX",
			"priority":0,
			"skip":false,
			"toNodeId":"_RzZbO",
			"type":"next"
		},
		{
			"fromNodeId":"KyjsS",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_RzZbO",
			"type":"next"
		},
		{
			"fromNodeId":"_RzZbO",
			"priority":0,
			"skip":false,
			"toNodeId":"_twqlQ",
			"type":"next"
		},
		{
			"fromNodeId":"_twqlQ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DYkIC",
			"type":"next"
		},
		{
			"fromNodeId":"n_DYkIC",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ureLK",
			"type":"if"
		},
		{
			"fromNodeId":"n_ureLK",
			"priority":0,
			"skip":false,
			"toNodeId":"HOz7L",
			"type":"next"
		},
		{
			"fromNodeId":"HOz7L",
			"priority":0,
			"skip":false,
			"toNodeId":"4ermN",
			"type":"next"
		},
		{
			"fromNodeId":"4ermN",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_TdDDJ",
			"type":"if"
		},
		{
			"fromNodeId":"_TdDDJ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Mooix",
			"type":"next"
		},
		{
			"fromNodeId":"n_Mooix",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ufGEQ",
			"type":"next"
		},
		{
			"fromNodeId":"n_ufGEQ",
			"priority":0,
			"skip":false,
			"toNodeId":"wN7g9",
			"type":"next"
		},
		{
			"fromNodeId":"4ermN",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"y4d9G",
			"type":"next"
		},
		{
			"fromNodeId":"y4d9G",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_5JykJ",
			"type":"if"
		},
		{
			"fromNodeId":"n_5JykJ",
			"priority":0,
			"skip":false,
			"toNodeId":"_WeaD4",
			"type":"next"
		},
		{
			"fromNodeId":"_WeaD4",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ge543",
			"type":"next"
		},
		{
			"fromNodeId":"_Ge543",
			"priority":0,
			"skip":false,
			"toNodeId":"ECjFa",
			"type":"next"
		},
		{
			"fromNodeId":"y4d9G",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_MaH0K",
			"type":"next"
		},
		{
			"fromNodeId":"_MaH0K",
			"priority":0,
			"skip":false,
			"toNodeId":"_cwDKJ",
			"type":"next"
		},
		{
			"fromNodeId":"_cwDKJ",
			"priority":0,
			"skip":false,
			"toNodeId":"qG5Mg",
			"type":"next"
		},
		{
			"fromNodeId":"n_DYkIC",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Emj0h",
			"type":"next"
		},
		{
			"fromNodeId":"n_Emj0h",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ZUDA2",
			"type":"next"
		},
		{
			"fromNodeId":"wN7g9",
			"priority":0,
			"skip":false,
			"toNodeId":"Jee2n",
			"type":"next"
		},
		{
			"fromNodeId":"ECjFa",
			"priority":0,
			"skip":false,
			"toNodeId":"Jee2n",
			"type":"next"
		},
		{
			"fromNodeId":"qG5Mg",
			"priority":0,
			"skip":false,
			"toNodeId":"Jee2n",
			"type":"next"
		},
		{
			"fromNodeId":"n_ZUDA2",
			"priority":0,
			"skip":false,
			"toNodeId":"Jee2n",
			"type":"next"
		},
		{
			"fromNodeId":"Jee2n",
			"priority":0,
			"skip":false,
			"toNodeId":"KL1Z1",
			"type":"next"
		},
		{
			"fromNodeId":"KL1Z1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_4SjX2",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"686e04d3c92a3538c99188b0",
	"lastModifiedBy":0,
	"lcName":"storagebyua indexing",
	"modifiedTime":1761722853149,
	"name":"StorageByUA Indexing",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":445,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"n_CXGX6",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"array":{
							"type":"boolean",
							"title":"array"
						},
						"displayName":{
							"type":"string",
							"title":"displayName"
						},
						"field":{
							"type":"string",
							"title":"field"
						},
						"fieldType":{
							"type":"string",
							"title":"fieldType"
						},
						"filterable":{
							"type":"boolean",
							"title":"filterable"
						},
						"foreignKeyConstraintEnforced":{
							"type":"boolean",
							"title":"foreignKeyConstraintEnforced"
						},
						"name":{
							"type":"string",
							"title":"name"
						},
						"nameField":{
							"type":"boolean",
							"title":"nameField"
						},
						"searchable":{
							"type":"boolean",
							"title":"searchable"
						},
						"skippedFromReporting":{
							"type":"boolean",
							"title":"skippedFromReporting"
						},
						"sortable":{
							"type":"boolean",
							"title":"sortable"
						},
						"updatable":{
							"type":"boolean",
							"title":"updatable"
						},
						"dependsOn":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"dependsOn"
						},
						"lookup":{
							"type":"string",
							"title":"lookup"
						},
						"format":{
							"type":"string",
							"title":"format"
						},
						"description":{
							"type":"string",
							"title":"description"
						},
						"tableId":{
							"type":"string",
							"title":"Table Id"
						},
						"modelId":{
							"type":"string",
							"title":"Model Id"
						},
						"tablePK":{
							"type":"string",
							"title":"Table PK"
						},
						"tableDesc":{
							"type":"string",
							"title":"Table Desc"
						},
						"tableNameUI":{
							"type":"string",
							"title":"Table Name UI"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"agentId":{
							"type":"string",
							"title":"Agent Id"
						},
						"embModel":{
							"type":"string",
							"title":"Emb Model"
						},
						"generateDescUsingLLM":{
							"type":"boolean",
							"title":"Generate Desc Using LLM"
						},
						"metadata_source":{
							"type":"string",
							"title":"Metadata Source",
							"default":"storage_by_unifyapps"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":16,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"NjLHK",
			"index":2,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_CXGX6.outputs.fieldType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"JSON"
						}
					},
					{
						"property":"{{ n_CXGX6.outputs.array }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Complex field?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"NjLHK@_kDiFs-1@y",
			"id":"n_V60gF",
			"index":3,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":18,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"E04A8",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"finalField":{
							"type":"string",
							"title":"Final Field"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"field":{
							"type":"string",
							"title":"Field"
						},
						"metadata_source":{
							"type":"string",
							"title":"Metadata Source"
						}
					}
				},
				"code":"// def fieldPrefix = \"_pr_\";\n// if(!field.startsWith(\"properties.\")) {\n//   return [:]\n// }\n\n// def actualField = field.substring(\"properties.\".length())\n// def suffix = actualField;\n// if(actualField.contains(\".\")) {\n//   suffix = actualField.split(\"\\\\.\").join(\"__\")\n// }\n// def finalField = fieldPrefix + suffix\n\n// return [\"finalField\": finalField]\n\n// def fieldPrefix = \"_pr_\"\n\n// // If metadata_source equals unified_entity_by_unifyapps, pass the field name as-is\n// if (binding.hasVariable('metadata_source') && metadata_source == 'unified_entity_by_unifyapps') {\n//     return [\"finalField\": field]\n// }\n\n// // Continue with the usual logic\n// if (!field.startsWith(\"properties.\")) {\n//     return [:]\n// }\n\n// def actualField = field.substring(\"properties.\".length())\n// def suffix = actualField\n\n// if (actualField.contains(\".\")) {\n//     suffix = actualField.split(\"\\\\.\").join(\"__\")\n// }\n\n// def finalField = fieldPrefix + suffix\n\n// return [\"finalField\": finalField]\n\ndef fieldPrefix = \"_pr_\"\n\n// Handle unified_entity_by_unifyapps case\nif (binding.hasVariable('metadata_source') && metadata_source == 'unified_entity_by_unifyapps') {\n    if (!field.startsWith(\"properties.\")) {\n        return [\"finalField\": field]\n    }\n    // else continue below with normal logic\n}\n\n// Normal logic for transforming fields starting with \"properties.\"\nif (!field.startsWith(\"properties.\")) {\n    return [:]\n}\n\ndef actualField = field.substring(\"properties.\".length())\ndef suffix = actualField\n\nif (actualField.contains(\".\")) {\n    suffix = actualField.split(\"\\\\.\").join(\"__\")\n}\n\ndef finalField = fieldPrefix + suffix\n\nreturn [\"finalField\": finalField]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"field":"{{ n_CXGX6.outputs.field }}",
					"metadata_source":"{{ n_CXGX6.outputs.metadata_source }}"
				}
			},
			"skip":false,
			"subTitle":"fieldName",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"n_mmxWp",
			"index":5,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"description":{
							"type":"string",
							"title":"Description"
						},
						"sql1":{
							"type":"string",
							"title":"Sql 1"
						},
						"sql2":{
							"type":"string",
							"title":"Sql 2"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"sql2":"SELECT DISTINCT {{ E04A8.outputs.result.finalField }} FROM {{ n_CXGX6.outputs.tableId }} WHERE {{ E04A8.outputs.result.finalField }}  IS NOT NULL LIMIT 21;",
				"sql1":"SELECT COUNT(DISTINCT {{ n_CXGX6.outputs.name }}) FROM {{ n_CXGX6.outputs.tableId }};",
				"description":"{{ n_CXGX6.outputs.description }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"description":{
							"type":"string",
							"title":"Description"
						},
						"sql1":{
							"type":"string",
							"title":"Sql 1"
						},
						"sql2":{
							"type":"string",
							"title":"Sql 2"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"description",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":18,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"KyjsS",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ E04A8.outputs.result.finalField }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"KyjsS@_kDiFs-1@y",
			"id":"n_RMwqX",
			"index":7,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"_RzZbO",
			"index":8,
			"inputs":{
				"automationId":"6805ed8f0b23cb21fda8bb24",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"sqlQuery":"{{ n_mmxWp.outputs.sql2 }}"
				}
			},
			"skip":false,
			"subTitle":"RunSQL2",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.distinctCountObj.items",
					"root.parameters.dbOutputObj.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"_twqlQ",
			"index":9,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"isDistinctCountGreaterThan20",
						"columnValues"
					],
					"properties":{
						"isDistinctCountGreaterThan20":{
							"type":"boolean",
							"title":"isDistinctCountGreaterThan20"
						},
						"columnValues":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"columnValues"
						},
						"croppedList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Cropped List"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"dbOutputObj":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"dbOutputObj"
						}
					}
				},
				"code":"\nif (!binding.hasVariable('dbOutputObj')) {\n    binding.setVariable('dbOutputObj', [])\n}\n\ndef dbRows = dbOutputObj ?: []\ndef isDistinctCountGreaterThan20 = (dbRows.size() > 20)\n\n// Prepare column values list safely\ndef columnValues = []\nif (dbRows && !dbRows.isEmpty()) {\n    def columnKey = dbRows[0].keySet().first()\n    columnValues = dbRows.collect { it[columnKey]?.toString() }\n}\n\ndef croppedList = columnValues.findAll { \n    it != null && it != \"\" && it != \"null\"\n}.unique().take(5)\n\n// Return required map\nreturn [\n    isDistinctCountGreaterThan20: isDistinctCountGreaterThan20,\n    columnValues: columnValues,\n    croppedList :croppedList\n]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"dbOutputObj":{
						"source":"{{ _RzZbO.outputs.rows }}",
						"ua:type":"mappedArray",
						"items":"{{ _RzZbO.outputs.rows[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":438,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"n_DYkIC",
			"index":10,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_mmxWp.outputs.description }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ n_CXGX6.outputs.generateDescUsingLLM }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Desc present?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DYkIC@_kDiFs-1@y",
			"id":"n_ureLK",
			"index":11,
			"inputs":{
				"automationId":"6805ed8f0b23cb21fda8bb24",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"sqlQuery":"{{ n_mmxWp.outputs.sql2 }}"
				}
			},
			"skip":false,
			"subTitle":"RunSQL2",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.distinctCountObj.items",
					"root.parameters.dbOutputObj.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DYkIC@_kDiFs-1@y",
			"id":"HOz7L",
			"index":12,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"isDistinctCountGreaterThan20",
						"columnValues"
					],
					"properties":{
						"isDistinctCountGreaterThan20":{
							"type":"boolean",
							"title":"isDistinctCountGreaterThan20"
						},
						"columnValues":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"columnValues"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"dbOutputObj":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"dbOutputObj"
						}
					}
				},
				"code":"// // def distinctCount = 0\n// // if (!binding.hasVariable('distinctCountObj')) {\n// //     binding.setVariable('distinctCountObj', [])\n// // }\n// // if (!binding.hasVariable('dbOutputObj')) {\n// //     binding.setVariable('dbOutputObj', [])\n// // }\n// // if(binding.hasVariable(\"distinctCountObj\")) distinctCountObj = distinctCountObj\n// // def distinctCountRows = distinctCountObj\n// // if (distinctCountRows && !distinctCountRows.isEmpty()) {\n// //     def firstRow = distinctCountRows[0]\n// //     if (firstRow && !firstRow.isEmpty()) {\n// //         distinctCount = firstRow.values().iterator().next() ?: 0\n// //     }\n// // }\n// // // Defensive to integer\n// // distinctCount = distinctCount as Integer\n\n// // def isDistinctCountGreaterThan20 = (distinctCount > 20)\n\n// // Prepare column values list (safely)\n// def columnValues = []\n// def dbRows = dbOutputObj\n// if (dbRows && !dbRows.isEmpty()) {\n//     def columnKey = dbRows[0].keySet().first()\n//     columnValues = dbRows.collect { it[columnKey]?.toString() }\n// }\n\n// // Return required map\n// return [\n//     isDistinctCountGreaterThan20: isDistinctCountGreaterThan20,\n//     columnValues: columnValues\n// ]\n\n// Assume dbOutputObj is already present in the binding, and is a List<Map>\n// representing up to 21 distinct rows fetched from DB\n\nif (!binding.hasVariable('dbOutputObj')) {\n    binding.setVariable('dbOutputObj', [])\n}\n\ndef dbRows = dbOutputObj ?: []\ndef isDistinctCountGreaterThan20 = (dbRows.size() > 20)\n\n// Prepare column values list safely\ndef columnValues = []\nif (dbRows && !dbRows.isEmpty()) {\n    def columnKey = dbRows[0].keySet().first()\n    columnValues = dbRows.collect { it[columnKey]?.toString() }\n}\n\n// Return required map\nreturn [\n    isDistinctCountGreaterThan20: isDistinctCountGreaterThan20,\n    columnValues: columnValues\n]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"dbOutputObj":{
						"source":"{{ n_ureLK.outputs.rows }}",
						"ua:type":"mappedArray",
						"items":"{{ n_ureLK.outputs.rows[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":72,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DYkIC@_kDiFs-1@y",
			"id":"4ermN",
			"index":13,
			"inputs":{
				"filters":[
					{
						"property":"{{ _twqlQ.outputs.result.isDistinctCountGreaterThan20 }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Greater than 20 values?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4ermN@n_DYkIC@_kDiFs-1@y@y",
			"id":"_TdDDJ",
			"index":14,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"text":{
											"type":"string",
											"title":"Text"
										},
										"type":{
											"type":"string",
											"title":"Type"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"items":{
						"type":"text",
						"text":"Generate a clear, simple, short description of the table column using the metadata:{ table_name: {{ n_CXGX6.outputs.tableId }}, column_name: {{ E04A8.outputs.result.finalField }}\n{{ n_CXGX6.outputs.fieldType }}}. These are some randomly drawn sample values from the column: {{ _twqlQ.outputs.result.columnValues }} (This list may not be exhaustive). If the sample values follow an obvious pattern, you can mention it in the description. Do not mention anything about the format of the sample values, these sample values are just provided for better context of the column.\nThis description is to be used for generating Text2SQL queries, so we need a likewise description that serves our text2sql use case.\nOutput only the final description as text."
					}
				},
				"ua:title":"content",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"content",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"text":{
										"type":"string",
										"title":"Text"
									},
									"type":{
										"type":"string",
										"title":"Type"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4ermN@n_DYkIC@_kDiFs-1@y@y",
			"id":"n_Mooix",
			"index":15,
			"inputs":{
				"automationId":"66ac70650f725f5b425d12d8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ n_CXGX6.outputs.agentId }}",
					"modelId":"{{ n_CXGX6.outputs.modelId }}",
					"responseFormat":{
						"type":"text"
					},
					"logProbs":false,
					"message":[
						{
							"role":"user",
							"content":{
								"source":"{{ _TdDDJ.outputs.items }}",
								"ua:type":"mappedArray",
								"items":"{{ _TdDDJ.outputs.items[0] }}"
							}
						}
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.columnValues.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4ermN@n_DYkIC@_kDiFs-1@y@y",
			"id":"n_ufGEQ",
			"index":16,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"cols":{
							"type":"string",
							"title":"Cols"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"columnValues":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Cols"
						}
					}
				},
				"code":"\n// if (!(columnValues instanceof List)) {\n//     columnValues = [columnValues.toString()]\n// }\n\n// // columnValues = columnValues.findAll { it != null && it.toString().trim() }\n// columnValues = columnValues.findAll { \n//     it != null && it.toString().trim() && it.toString().split(/\\s+/).size() <= 40\n// }\n// def colsString = columnValues.size() ? columnValues.join(\", \") : \"\"\n\nif (!(columnValues instanceof List)) {\n    columnValues = [columnValues.toString()]\n}\n\nimport java.util.StringTokenizer\n\ncolumnValues = columnValues.findAll { \n    it != null && it.toString().trim() &&\n    new StringTokenizer(it.toString()).countTokens() <= 40\n}\n\ndef colsString = columnValues.size() ? columnValues.join(\", \") : \"\"\n\nreturn [cols: colsString]\n\n// return [cols:colsString]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"columnValues":{
						"source":"{{ _twqlQ.outputs.result.croppedList }}",
						"ua:type":"mappedArray",
						"items":"{{ _twqlQ.outputs.result.croppedList[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4ermN@n_DYkIC@_kDiFs-1@y@y",
			"id":"wN7g9",
			"index":17,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_mmxWp.outputs.description }}",
						"value":"{{ n_Mooix.outputs.llmResponse }}. Some sample values : {{ n_ufGEQ.outputs.result.cols }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Update desc",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":72,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4ermN@n_DYkIC@_kDiFs-1@y@n",
			"id":"y4d9G",
			"index":18,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ HOz7L.outputs.result.columnValues }})",
						"filter":{
							"operator":"GT",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@y",
			"id":"n_5JykJ",
			"index":19,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"text":{
											"type":"string",
											"title":"Text"
										},
										"type":{
											"type":"string",
											"title":"Type"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"items":{
						"text":"Generate a clear, simple and short description of the table column using the metadata:{ table_name: {{ n_CXGX6.outputs.tableId }}, column_name: {{ E04A8.outputs.result.finalField }}\n{{ n_CXGX6.outputs.fieldType }}}These are sample values from the column: {{ _twqlQ.outputs.result.columnValues }}(This list might not be exhaustive so do not assume anything about the data's start or end point). Do not mention anything about the format of the sample values, these sample values are just provided for better context of the column.\nThis description is to be used for generating Text2SQL queries, so we need a likewise description that serves our text2sql use case.\nOutput only the final description as text.",
						"type":"text"
					}
				},
				"ua:title":"content",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"content",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"text":{
										"type":"string",
										"title":"Text"
									},
									"type":{
										"type":"string",
										"title":"Type"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@y",
			"id":"_WeaD4",
			"index":20,
			"inputs":{
				"automationId":"66ac70650f725f5b425d12d8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"logProbs":false,
					"temperature":0,
					"aiAgentId":"{{ n_CXGX6.outputs.agentId }}",
					"modelId":"{{ n_CXGX6.outputs.modelId }}",
					"responseFormat":{
						"type":"text"
					},
					"maxTokens":1024,
					"message":{
						"items":{
							"role":"user",
							"content":{
								"source":"{{ n_5JykJ.outputs.items }}",
								"ua:type":"mappedArray",
								"items":"{{ n_5JykJ.outputs.items[0] }}"
							}
						},
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.columnValues.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@y",
			"id":"_Ge543",
			"index":21,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"cols":{
							"type":"string",
							"title":"Cols"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"columnValues":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Cols"
						}
					}
				},
				"code":"if (!(columnValues instanceof List)) {\n    columnValues = [columnValues.toString()]\n}\n\nimport java.util.StringTokenizer\n\ncolumnValues = columnValues.findAll { \n    it != null && it.toString().trim() &&\n    new StringTokenizer(it.toString()).countTokens() <= 40\n}\n\ndef colsString = columnValues.size() ? columnValues.join(\", \") : \"\"\n\nreturn [cols: colsString]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"columnValues":{
						"source":"{{ _twqlQ.outputs.result.croppedList }}",
						"ua:type":"mappedArray",
						"items":"{{ _twqlQ.outputs.result.croppedList[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@y",
			"id":"ECjFa",
			"index":22,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_mmxWp.outputs.description }}",
						"value":"{{ _WeaD4.outputs.llmResponse }}\\n Example:{{ _Ge543.outputs.result.cols }}(There may be more similar values)."
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@n",
			"id":"_MaH0K",
			"index":23,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"text":{
											"type":"string",
											"title":"Text"
										},
										"type":{
											"type":"string",
											"title":"Type"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"items":{
						"type":"text",
						"text":"Generate a short, simple description of the table column using the metadata:{ table_name: {{ n_CXGX6.outputs.tableId }}, column_name: {{ E04A8.outputs.result.finalField }}\n{{ n_CXGX6.outputs.fieldType }}}. This description is to be used for generating Text2SQL queries, so we need a likewise description that serves our text2sql use case.\nOutput only the final description as text."
					}
				},
				"ua:title":"content",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"content",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"text":{
										"type":"string",
										"title":"Text"
									},
									"type":{
										"type":"string",
										"title":"Type"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@n",
			"id":"_cwDKJ",
			"index":24,
			"inputs":{
				"automationId":"66ac70650f725f5b425d12d8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ n_CXGX6.outputs.agentId }}",
					"modelId":"{{ n_CXGX6.outputs.modelId }}",
					"responseFormat":{
						"type":"text"
					},
					"temperature":0,
					"logProbs":false,
					"message":{
						"items":{
							"role":"user",
							"content":{
								"source":"{{ _MaH0K.outputs.items }}",
								"ua:type":"mappedArray",
								"items":"{{ _MaH0K.outputs.items[0] }}"
							}
						},
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"y4d9G@4ermN@n_DYkIC@_kDiFs-1@y@n@n",
			"id":"qG5Mg",
			"index":25,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_mmxWp.outputs.description }}",
						"value":"{{ _cwDKJ.outputs.llmResponse }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.columnValues.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DYkIC@_kDiFs-1@n",
			"id":"n_Emj0h",
			"index":26,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"desc":{
							"type":"string",
							"title":"desc"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"description":{
							"type":"string",
							"title":"Desc"
						},
						"columnValues":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"columnValues"
						}
					}
				},
				"code":"def description = binding.hasVariable(\"description\")?binding.getVariable(\"description\"):\"\"\n\nif(!binding.hasVariable(\"columnValues\")) return [desc : description ]\nif(columnValues.size()==0) return [desc : description ]\n\nif (!(columnValues instanceof List)) {\n    columnValues = [columnValues.toString()]\n}\n\nimport java.util.StringTokenizer\n\ncolumnValues = columnValues.findAll { \n    it != null && it.toString().trim() &&\n    new StringTokenizer(it.toString()).countTokens() <= 40\n}\n\ndef colsString = columnValues.size() ? columnValues.join(\", \") : \"\"\n\nif (!binding.hasVariable('description')) {\n    return [desc: \"Example : (\" + colsString + \")\"]\n}\n\ndef pattern = /(?i)example/\nif (description == null || !(description =~ pattern)) {\n    if(colsString) description = description + \" example : (\" + colsString + \")\"\n}\nreturn [desc: description]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"description":"{{ n_mmxWp.outputs.description }}",
					"columnValues":{
						"ua:type":"mappedArray",
						"source":"{{ _twqlQ.outputs.result.croppedList }}",
						"items":"{{ _twqlQ.outputs.result.croppedList[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":446,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DYkIC@_kDiFs-1@n",
			"id":"n_ZUDA2",
			"index":27,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_mmxWp.outputs.description }}",
						"value":"{{ n_Emj0h.outputs.result.desc }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":460,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"Jee2n",
			"index":28,
			"inputs":{
				"automationId":"6784b9216fb83f0972c5625d",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userQuery":"{{ n_CXGX6.outputs.name }} | {{ n_CXGX6.outputs.displayName }} | {{ n_mmxWp.outputs.description }}",
					"modelId":"{{ n_CXGX6.outputs.embModel }}"
				}
			},
			"skip":false,
			"subTitle":"Fetch embeddings",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":358,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"KL1Z1",
			"index":29,
			"inputs":{
				"automationId":"6823891c4ac3830d083e2c41",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ n_CXGX6.outputs.knowledgeId }}",
					"tableName":"{{ n_CXGX6.outputs.tableId }}",
					"columnName":"{{ E04A8.outputs.result.finalField }}",
					"metadata":"{{ n_CXGX6.outputs.name }} | {{ n_CXGX6.outputs.displayName }} | {{ n_mmxWp.outputs.description }}",
					"description":"{{ n_mmxWp.outputs.description }}",
					"Label":"{{ n_CXGX6.outputs.displayName }}",
					"Type":"{{ n_CXGX6.outputs.fieldType }}",
					"tableId":"{{ n_CXGX6.outputs.tableId }}",
					"metadataSource":"{{ n_CXGX6.outputs.metadata_source }}",
					"tableDescription":"{{ n_CXGX6.outputs.tableDesc }}",
					"tablePrimaryKey":"{{ n_CXGX6.outputs.tablePK }}",
					"tableNameUI":"{{ n_CXGX6.outputs.tableNameUI }}",
					"embeddings":{
						"source":"{{ Jee2n.outputs.embeddings }}",
						"ua:type":"mappedArray",
						"items":"{{ Jee2n.outputs.embeddings[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"updateMetadata",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_kDiFs-1",
			"id":"n_4SjX2",
			"index":30,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":32562,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":79
}