{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1722576456043,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296274691,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd52d60dd816d77990b0",
		"status":"DEPLOYED",
		"version":89,
		"workflowVersion":113
	},
	"edges":[
		{
			"fromNodeId":"WcNg7",
			"priority":0,
			"skip":false,
			"toNodeId":"WdfLb",
			"type":"next"
		},
		{
			"fromNodeId":"WdfLb",
			"priority":0,
			"skip":false,
			"toNodeId":"_nsoFE",
			"type":"next"
		},
		{
			"fromNodeId":"_nsoFE",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_GFFoJ",
			"type":"if"
		},
		{
			"fromNodeId":"_GFFoJ",
			"priority":0,
			"skip":false,
			"toNodeId":"u81x9",
			"type":"next"
		},
		{
			"fromNodeId":"_nsoFE",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"u81x9",
			"type":"next"
		},
		{
			"fromNodeId":"u81x9",
			"priority":0,
			"skip":false,
			"toNodeId":"y7k4L",
			"type":"next"
		},
		{
			"fromNodeId":"y7k4L",
			"priority":0,
			"skip":false,
			"toNodeId":"s2hOc",
			"type":"next"
		},
		{
			"fromNodeId":"s2hOc",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"s2hOc@1",
			"type":"branch"
		},
		{
			"fromNodeId":"s2hOc@1",
			"priority":0,
			"skip":false,
			"toNodeId":"91sUX",
			"type":"next"
		},
		{
			"fromNodeId":"s2hOc",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"s2hOc@2",
			"type":"branch"
		},
		{
			"fromNodeId":"s2hOc@2",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ak1Pv",
			"type":"next"
		},
		{
			"fromNodeId":"_Ak1Pv",
			"priority":0,
			"skip":false,
			"toNodeId":"Ncbpk",
			"type":"next"
		},
		{
			"fromNodeId":"Ncbpk",
			"priority":0,
			"skip":false,
			"toNodeId":"1qYh6",
			"type":"next"
		},
		{
			"fromNodeId":"1qYh6",
			"priority":0,
			"skip":false,
			"toNodeId":"qT4G0",
			"type":"loop"
		},
		{
			"fromNodeId":"qT4G0",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"P8Ydl",
			"type":"if"
		},
		{
			"fromNodeId":"P8Ydl",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"1qYh6",
			"type":"next"
		},
		{
			"fromNodeId":"qT4G0",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"1qYh6",
			"type":"next"
		},
		{
			"fromNodeId":"1qYh6",
			"priority":0,
			"skip":false,
			"toNodeId":"_Tw9vI",
			"type":"next"
		},
		{
			"fromNodeId":"_Tw9vI",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_55083",
			"type":"if"
		},
		{
			"fromNodeId":"_Tw9vI",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_rNlvj",
			"type":"next"
		},
		{
			"fromNodeId":"91sUX",
			"priority":0,
			"skip":false,
			"toNodeId":"7wnPk",
			"type":"next"
		},
		{
			"fromNodeId":"_55083",
			"priority":0,
			"skip":false,
			"toNodeId":"7wnPk",
			"type":"next"
		},
		{
			"fromNodeId":"_rNlvj",
			"priority":0,
			"skip":false,
			"toNodeId":"7wnPk",
			"type":"next"
		},
		{
			"fromNodeId":"s2hOc",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"7wnPk",
			"type":"branch"
		},
		{
			"fromNodeId":"7wnPk",
			"priority":0,
			"skip":false,
			"toNodeId":"ONR6X",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66ac6e480f725f5b425d12c2",
	"lastModifiedBy":0,
	"lcName":"intent detection ",
	"modifiedTime":1761722826655,
	"name":"Intent Detection ",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":46,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"WcNg7",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"queryType":{
							"type":"string",
							"title":"Query Type"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"message":{
							"type":"string",
							"title":"Message"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"promptVariables":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Prompt Variables"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":19,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"WdfLb",
			"index":0,
			"inputs":{
				"automationId":"679b33676b66b84f25410633",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ WcNg7.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"agentExecutorEnabled",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":10,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"_nsoFE",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ WdfLb.outputs.agentExecutorEnabled }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"agentExecutorEnabled",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":11,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_nsoFE@Ag7qj-1@y",
			"id":"_GFFoJ",
			"index":0,
			"inputs":{
				"result":{
					"queryType":"TASK_EXECUTION"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"u81x9",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ WcNg7.outputs.aiAgentId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"e_topic_ai_agent",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"topics",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":20,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"y7k4L",
			"index":0,
			"inputs":{
				"automationId":"679c6123a6583456a71988d2",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ WcNg7.outputs.caseId }}",
					"aiAgentId":"{{ WcNg7.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"knowledges",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"s2hOc",
			"index":0,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"conditions":{
								"filters":[
									{
										"property":"{{ u81x9.outputs.id }}",
										"filter":{
											"operator":"EXISTS"
										}
									},
									{
										"property":"{{ y7k4L.outputs.knowledges[0].id }}",
										"filter":{
											"operator":"MISSING"
										}
									}
								],
								"operator":"AND"
							},
							"name":"only topics are present"
						}
					},
					{
						"id":"2",
						"inputs":{
							"conditions":{
								"filters":[
									{
										"property":"{{ u81x9.outputs.id }}",
										"filter":{
											"operator":"MISSING"
										}
									},
									{
										"property":"{{ y7k4L.outputs.knowledges[0].id }}",
										"filter":{
											"operator":"EXISTS"
										}
									}
								],
								"operator":"AND"
							},
							"name":"only knowledge is present"
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":36,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@1",
			"id":"s2hOc@1",
			"index":0,
			"inputs":{
				"name":"only topics are present",
				"conditions":{
					"filters":[
						{
							"property":"{{ u81x9.outputs.id }}",
							"filter":{
								"operator":"EXISTS"
							}
						},
						{
							"property":"{{ y7k4L.outputs.knowledges[0].id }}",
							"filter":{
								"operator":"MISSING"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@1",
			"id":"91sUX",
			"index":0,
			"inputs":{
				"result":{
					"queryType":"TASK_EXECUTION"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":36,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@2",
			"id":"s2hOc@2",
			"index":0,
			"inputs":{
				"name":"only knowledge is present",
				"conditions":{
					"filters":[
						{
							"property":"{{ u81x9.outputs.id }}",
							"filter":{
								"operator":"MISSING"
							}
						},
						{
							"property":"{{ y7k4L.outputs.knowledges[0].id }}",
							"filter":{
								"operator":"EXISTS"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":134,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@2",
			"id":"_Ak1Pv",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"onlyMetadataIndexed":{
							"type":"boolean",
							"title":"Only Metadata Indexed"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"onlyMetadataIndexed":false
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"onlyMetadataIndexed":{
							"type":"boolean",
							"title":"Only Metadata Indexed"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"dataRAGNeeded",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@2",
			"id":"Ncbpk",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ WcNg7.outputs.aiAgentId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"MULTIPLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":93,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@2",
			"id":"1qYh6",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ y7k4L.outputs.knowledges }}"
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"1qYh6@s2hOc@Ag7qj-1@2@l",
			"id":"qT4G0",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 1qYh6.outputs.item.properties.additionalDetails.metadataIndexing }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					},
					{
						"property":"{{ 1qYh6.outputs.item.properties.unifiedEntityModelId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":17,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"qT4G0@1qYh6@s2hOc@Ag7qj-1@2@l@y",
			"id":"P8Ydl",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _Ak1Pv.outputs.onlyMetadataIndexed }}",
						"value":true
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":64,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"s2hOc@Ag7qj-1@2",
			"id":"_Tw9vI",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ _Ak1Pv.outputs.onlyMetadataIndexed }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":43,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Tw9vI@s2hOc@Ag7qj-1@2@y",
			"id":"_55083",
			"index":0,
			"inputs":{
				"result":{
					"queryType":"quantitative_answering"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":65,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Tw9vI@s2hOc@Ag7qj-1@2@n",
			"id":"_rNlvj",
			"index":0,
			"inputs":{
				"result":{
					"queryType":"KNOWLEDGE"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":54,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"7wnPk",
			"index":0,
			"inputs":{
				"automationId":"66ce17d8bd8ae211719858e0",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"message":"{{ WcNg7.outputs.message }}",
					"aiAgentId":"{{ WcNg7.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Intent Detection",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ag7qj-1",
			"id":"ONR6X",
			"index":0,
			"inputs":{
				"result":{
					"queryType":"{{ 7wnPk.outputs.queryType }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1866,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":115
}