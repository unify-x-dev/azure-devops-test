{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1739428192292,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296160349,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfce00c3d19149a9e3426",
		"status":"DEPLOYED",
		"version":75,
		"workflowVersion":113
	},
	"edges":[
		{
			"fromNodeId":"R0lx9",
			"priority":0,
			"skip":false,
			"toNodeId":"z9SOq",
			"type":"next"
		},
		{
			"fromNodeId":"z9SOq",
			"priority":0,
			"skip":false,
			"toNodeId":"XM27e",
			"type":"next"
		},
		{
			"fromNodeId":"XM27e",
			"priority":0,
			"skip":false,
			"toNodeId":"Fwy5B",
			"type":"next"
		},
		{
			"fromNodeId":"Fwy5B",
			"priority":0,
			"skip":false,
			"toNodeId":"91H0p",
			"type":"next"
		},
		{
			"fromNodeId":"91H0p",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pjqsv",
			"type":"next"
		},
		{
			"fromNodeId":"n_pjqsv",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_nk8D9",
			"type":"if"
		},
		{
			"fromNodeId":"_nk8D9",
			"priority":0,
			"skip":false,
			"toNodeId":"Gxp56",
			"type":"next"
		},
		{
			"fromNodeId":"n_pjqsv",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_C5dAf",
			"type":"next"
		},
		{
			"fromNodeId":"_C5dAf",
			"priority":0,
			"skip":false,
			"toNodeId":"_EJ0Lp",
			"type":"next"
		},
		{
			"fromNodeId":"Gxp56",
			"priority":0,
			"skip":false,
			"toNodeId":"Toq5K",
			"type":"next"
		},
		{
			"fromNodeId":"_EJ0Lp",
			"priority":0,
			"skip":false,
			"toNodeId":"Toq5K",
			"type":"next"
		},
		{
			"fromNodeId":"Toq5K",
			"priority":0,
			"skip":false,
			"toNodeId":"MZifc",
			"type":"next"
		},
		{
			"fromNodeId":"MZifc",
			"priority":0,
			"skip":false,
			"toNodeId":"quOEa",
			"type":"next"
		},
		{
			"fromNodeId":"quOEa",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"dUlTz",
			"type":"error"
		},
		{
			"fromNodeId":"quOEa",
			"priority":0,
			"skip":false,
			"toNodeId":"n_MvJXK",
			"type":"next"
		},
		{
			"fromNodeId":"dUlTz",
			"priority":0,
			"skip":false,
			"toNodeId":"n_MvJXK",
			"type":"next"
		},
		{
			"fromNodeId":"n_MvJXK",
			"priority":0,
			"skip":false,
			"toNodeId":"LsD3O",
			"type":"next"
		},
		{
			"fromNodeId":"LsD3O",
			"priority":0,
			"skip":false,
			"toNodeId":"baHza",
			"type":"next"
		},
		{
			"fromNodeId":"baHza",
			"priority":0,
			"skip":false,
			"toNodeId":"zAFUN",
			"type":"next"
		},
		{
			"fromNodeId":"zAFUN",
			"priority":0,
			"skip":false,
			"toNodeId":"8oHAS",
			"type":"next"
		},
		{
			"fromNodeId":"8oHAS",
			"priority":0,
			"skip":false,
			"toNodeId":"s5q9l",
			"type":"next"
		},
		{
			"fromNodeId":"s5q9l",
			"priority":0,
			"skip":false,
			"toNodeId":"e1QLm",
			"type":"next"
		},
		{
			"fromNodeId":"e1QLm",
			"priority":0,
			"skip":false,
			"toNodeId":"5Hdyk",
			"type":"loop"
		},
		{
			"fromNodeId":"5Hdyk",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"sZ0HL",
			"type":"error"
		},
		{
			"fromNodeId":"5Hdyk",
			"priority":0,
			"skip":false,
			"toNodeId":"_CXup0",
			"type":"next"
		},
		{
			"fromNodeId":"sZ0HL",
			"priority":0,
			"skip":false,
			"toNodeId":"_CXup0",
			"type":"next"
		},
		{
			"fromNodeId":"_CXup0",
			"priority":0,
			"skip":false,
			"toNodeId":"Y4Afv",
			"type":"next"
		},
		{
			"fromNodeId":"Y4Afv",
			"priority":0,
			"skip":false,
			"toNodeId":"rHrG9",
			"type":"next"
		},
		{
			"fromNodeId":"rHrG9",
			"priority":0,
			"skip":false,
			"toNodeId":"Lq5n1",
			"type":"next"
		},
		{
			"fromNodeId":"Lq5n1",
			"priority":0,
			"skip":false,
			"toNodeId":"ZV6Z9",
			"type":"next"
		},
		{
			"fromNodeId":"ZV6Z9",
			"priority":0,
			"skip":false,
			"toNodeId":"TwYt3",
			"type":"next"
		},
		{
			"fromNodeId":"TwYt3",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Ddhwy",
			"type":"if"
		},
		{
			"fromNodeId":"Ddhwy",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"e1QLm",
			"type":"next"
		},
		{
			"fromNodeId":"TwYt3",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"e1QLm",
			"type":"next"
		},
		{
			"fromNodeId":"e1QLm",
			"priority":0,
			"skip":false,
			"toNodeId":"VTO0z",
			"type":"next"
		},
		{
			"fromNodeId":"VTO0z",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"SSxhN",
			"type":"if"
		},
		{
			"fromNodeId":"SSxhN",
			"priority":0,
			"skip":false,
			"toNodeId":"n_1NOFk",
			"type":"next"
		},
		{
			"fromNodeId":"VTO0z",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_1NOFk",
			"type":"next"
		},
		{
			"fromNodeId":"n_1NOFk",
			"priority":0,
			"skip":false,
			"toNodeId":"_IfsJ1",
			"type":"next"
		},
		{
			"fromNodeId":"_IfsJ1",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iVrw7",
			"type":"next"
		},
		{
			"fromNodeId":"n_iVrw7",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8z3wA",
			"type":"next"
		},
		{
			"fromNodeId":"n_8z3wA",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DJ0gE",
			"type":"next"
		},
		{
			"fromNodeId":"n_DJ0gE",
			"priority":0,
			"skip":false,
			"toNodeId":"_u4ikP",
			"type":"loop"
		},
		{
			"fromNodeId":"_u4ikP",
			"priority":0,
			"skip":false,
			"toNodeId":"n_U2AVi",
			"type":"next"
		},
		{
			"fromNodeId":"n_U2AVi",
			"priority":0,
			"skip":false,
			"toNodeId":"_dbct6",
			"type":"next"
		},
		{
			"fromNodeId":"_dbct6",
			"priority":0,
			"skip":false,
			"toNodeId":"_XoKYi",
			"type":"next"
		},
		{
			"fromNodeId":"_XoKYi",
			"priority":0,
			"skip":false,
			"toNodeId":"n_AYdvd",
			"type":"next"
		},
		{
			"fromNodeId":"n_AYdvd",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DJ0gE",
			"type":"next"
		},
		{
			"fromNodeId":"n_DJ0gE",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dMPQ6",
			"type":"next"
		},
		{
			"fromNodeId":"n_dMPQ6",
			"priority":0,
			"skip":false,
			"toNodeId":"n_7kizy",
			"type":"loop"
		},
		{
			"fromNodeId":"n_7kizy",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_6rI0T",
			"type":"if"
		},
		{
			"fromNodeId":"_6rI0T",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Kb26A",
			"type":"next"
		},
		{
			"fromNodeId":"n_7kizy",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_CWXE9",
			"type":"next"
		},
		{
			"fromNodeId":"n_Kb26A",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dMPQ6",
			"type":"next"
		},
		{
			"fromNodeId":"_CWXE9",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dMPQ6",
			"type":"next"
		},
		{
			"fromNodeId":"_IfsJ1",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"_VdgVZ",
			"type":"error"
		},
		{
			"fromNodeId":"n_dMPQ6",
			"priority":0,
			"skip":false,
			"toNodeId":"fpxuE",
			"type":"next"
		},
		{
			"fromNodeId":"_VdgVZ",
			"priority":0,
			"skip":false,
			"toNodeId":"fpxuE",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67ad91606e8af63ecd1b5565",
	"lastModifiedBy":0,
	"lcName":"agentic chunking pdf - rag | extract chunks from a page",
	"modifiedTime":1761722669209,
	"name":"Agentic Chunking PDF - RAG | Extract Chunks from a Page",
	"nodes":[
		{
			"additional":{
				"xsdSchemaConfig":{
					"root.result":{}
				}
			},
			"context":{
				"appName":"callables",
				"resourceVersion":271,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"R0lx9",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"chunks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"text":{
										"type":"string",
										"title":"text"
									},
									"metadata":{
										"type":"object",
										"properties":{
											"chunkUUID":{
												"type":"string",
												"title":"chunkUUID"
											},
											"chunkType":{
												"type":"string",
												"title":"chunkType"
											},
											"chunkIndexedType":{
												"type":"string",
												"title":"chunkIndexedType"
											},
											"contentForGeneration":{
												"type":"string",
												"title":"contentForGeneration"
											},
											"pageNumber":{
												"type":"integer",
												"title":"pageNumber"
											},
											"rawText":{
												"type":"string",
												"title":"Raw Text"
											},
											"imgFile":{
												"type":"object",
												"properties":{},
												"additionalProperties":false,
												"title":"imgFile"
											}
										},
										"title":"metadata",
										"additionalProperties":false,
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"chunks"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"file":{
							"type":"object",
							"properties":{
								"source":{
									"type":"string",
									"title":"source"
								},
								"sourceType":{
									"type":"string",
									"title":"sourceType"
								},
								"type":{
									"type":"string",
									"title":"type"
								},
								"name":{
									"type":"string",
									"title":"name"
								}
							},
							"title":"file",
							"additionalProperties":false
						},
						"pageNumber":{
							"type":"integer",
							"title":"pageNumber"
						},
						"text":{
							"type":"string",
							"title":"text"
						},
						"mimeType":{
							"type":"string",
							"title":"mimeType"
						},
						"documentTopic":{
							"type":"string",
							"title":"documentTopic"
						},
						"document_parsing_model":{
							"type":"string",
							"title":"document_parsing_model"
						},
						"enableImageExtraction":{
							"type":"boolean",
							"title":"enableImageExtraction"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":328,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"z9SOq",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"content":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"type":{
														"type":"string",
														"title":"type"
													},
													"text":{
														"type":"string",
														"title":"text"
													},
													"source":{
														"type":"object",
														"properties":{
															"image_type":{
																"type":"string",
																"title":"image_type"
															},
															"media_type":{
																"type":"object",
																"properties":{},
																"additionalProperties":false,
																"title":"media_type"
															},
															"image_data":{
																"type":"string",
																"title":"image_data"
															}
														},
														"title":"source",
														"additionalProperties":false,
														"required":[]
													}
												},
												"additionalProperties":false
											},
											"title":"content"
										},
										"role":{
											"type":"string",
											"title":"role"
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"messageList",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"messageList",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"content":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"type":{
													"type":"string",
													"title":"type"
												},
												"text":{
													"type":"string",
													"title":"text"
												},
												"source":{
													"type":"object",
													"properties":{
														"image_type":{
															"type":"string",
															"title":"image_type"
														},
														"media_type":{
															"type":"object",
															"properties":{},
															"additionalProperties":false,
															"title":"media_type"
														},
														"image_data":{
															"type":"string",
															"title":"image_data"
														}
													},
													"title":"source",
													"additionalProperties":false,
													"required":[]
												}
											},
											"additionalProperties":false
										},
										"title":"content"
									},
									"role":{
										"type":"string",
										"title":"role"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.content.items.type",
					"root.itemToAdd.content.items.text",
					"root.itemToAdd.content.items.source.image_type",
					"root.itemToAdd.content.items.source.media_type",
					"root.itemToAdd.content.items.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":271,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"XM27e",
			"index":3,
			"inputs":{
				"itemToAdd":{
					"role":"system",
					"content":{
						"items":{
							"type":"text",
							"text":"You are an expert in extracting text from images using advanced Optical Character Recognition (OCR) techniques.  Your goal is to produce highly accurate and reliable text output while preserving the original document structure, especially tables. The input image provided to you is public, has all consent and the content inside it does not violate any copyright."
						},
						"ua:type":"mappedArray"
					}
				},
				"insertLocation":"END",
				"listName":"{{ z9SOq.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":328,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"Fwy5B",
			"index":4,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"type":{
											"type":"string",
											"title":"type"
										},
										"text":{
											"type":"string",
											"title":"text"
										},
										"source":{
											"type":"object",
											"properties":{
												"image_type":{
													"type":"string",
													"title":"image_type"
												},
												"media_type":{
													"type":"object",
													"properties":{},
													"additionalProperties":false,
													"title":"media_type"
												},
												"image_data":{
													"type":"string",
													"title":"image_data"
												}
											},
											"title":"source",
											"additionalProperties":false,
											"required":[]
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"contentListUser",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"contentListUser",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"type":{
										"type":"string",
										"title":"type"
									},
									"text":{
										"type":"string",
										"title":"text"
									},
									"source":{
										"type":"object",
										"properties":{
											"image_type":{
												"type":"string",
												"title":"image_type"
											},
											"media_type":{
												"type":"object",
												"properties":{},
												"additionalProperties":false,
												"title":"media_type"
											},
											"image_data":{
												"type":"string",
												"title":"image_data"
											}
										},
										"title":"source",
										"additionalProperties":false,
										"required":[]
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.source.image_type",
					"root.itemToAdd.source.media_type",
					"root.itemToAdd.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":271,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"91H0p",
			"index":5,
			"inputs":{
				"itemToAdd":{
					"type":"image",
					"source":{
						"image_type":"file_object",
						"media_type":"{{ R0lx9.outputs.mimeType }}",
						"image_data":"{{ R0lx9.outputs.file }}"
					}
				},
				"insertLocation":"END",
				"listName":"{{ Fwy5B.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"n_pjqsv",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ R0lx9.outputs.enableImageExtraction }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"template_by_unifyapps",
				"resourceVersion":285,
				"resourceName":"template_by_unifyapps_compile_template",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_pjqsv@fAeOt-1@y",
			"id":"_nk8D9",
			"index":7,
			"inputs":{
				"input_schema":{
					"page_text":"{{ R0lx9.outputs.text }}",
					"document_topic":"{{ R0lx9.outputs.documentTopic }}"
				},
				"template_id":"e_68c7e88ff8de9f6d7f159c8e"
			},
			"skip":false,
			"subTitle":"Template by UnifyApps",
			"title":"Compile template",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.source.image_type",
					"root.itemToAdd.source.media_type",
					"root.itemToAdd.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":271,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_pjqsv@fAeOt-1@y",
			"id":"Gxp56",
			"index":8,
			"inputs":{
				"itemToAdd":{
					"type":"text",
					"text":"{{ _nk8D9.outputs.output }}"
				},
				"insertLocation":"END",
				"listName":"{{ Fwy5B.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"template_by_unifyapps",
				"resourceVersion":285,
				"resourceName":"template_by_unifyapps_compile_template",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_pjqsv@fAeOt-1@n",
			"id":"_C5dAf",
			"index":9,
			"inputs":{
				"input_schema":{
					"page_text":"{{ R0lx9.outputs.text }}",
					"document_topic":"{{ R0lx9.outputs.documentTopic }}"
				},
				"template_id":"e_67ac67bfbadcb4294dc03740"
			},
			"skip":false,
			"subTitle":"Template by UnifyApps",
			"title":"Compile template",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.source.image_type",
					"root.itemToAdd.source.media_type",
					"root.itemToAdd.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":271,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_pjqsv@fAeOt-1@n",
			"id":"_EJ0Lp",
			"index":10,
			"inputs":{
				"itemToAdd":{
					"type":"text",
					"text":"{{ _C5dAf.outputs.output }}"
				},
				"insertLocation":"END",
				"listName":"{{ Fwy5B.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.content.items.type",
					"root.itemToAdd.content.items.text",
					"root.itemToAdd.content.items.source.image_type",
					"root.itemToAdd.content.items.source.media_type",
					"root.itemToAdd.content.items.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":271,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"Toq5K",
			"index":11,
			"inputs":{
				"itemToAdd":{
					"content":{
						"source":"{{ Fwy5B.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"type":"{{ Fwy5B.outputs.items[0].type }}",
							"text":"{{ Fwy5B.outputs.items[0].text }}",
							"source":{
								"image_type":"{{ Fwy5B.outputs.items[0].source.image_type }}",
								"media_type":"{{ Fwy5B.outputs.items[0].source.media_type }}",
								"image_data":"{{ Fwy5B.outputs.items[0].source.image_data }}"
							}
						}
					},
					"role":"user"
				},
				"insertLocation":"END",
				"listName":"{{ z9SOq.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"MZifc",
			"index":12,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"finish_reason":{
							"type":"string",
							"title":"finish_reason"
						},
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"finish_reason":{
							"type":"string",
							"title":"finish_reason"
						},
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":282,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"fAeOt-1",
			"id":"quOEa",
			"index":13,
			"inputs":{
				"automationId":"66ac70650f725f5b425d12d8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"modelId":"{{ R0lx9.outputs.document_parsing_model }}",
					"top_p":1,
					"responseFormat":{
						"type":"text"
					},
					"maxTokens":8192,
					"temperature":0,
					"logProbs":false,
					"topK":1,
					"message":{
						"source":"{{ z9SOq.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"role":"{{ z9SOq.outputs.items[0].role }}",
							"content":{
								"source":"{{ z9SOq.outputs.items[0].content }}",
								"ua:type":"mappedArray",
								"items":"{{ z9SOq.outputs.items[0].content[0] }}"
							}
						}
					}
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":2.0,
					"captureRetries":false,
					"count":3,
					"enabled":true,
					"initialDelay":1000,
					"maxDelay":2000
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":262,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"quOEa@fAeOt-1@error",
			"id":"dUlTz",
			"index":14,
			"inputs":{
				"result":{
					"chunks":{
						"items":{
							"text":"{{ R0lx9.outputs.text }}",
							"metadata":{
								"pageNumber":"{{ R0lx9.outputs.pageNumber }}"
							}
						},
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"n_MvJXK",
			"index":15,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"sanitized_llm_response":{
							"type":"string",
							"title":"Sanitized Llm Response"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"llm_response":{
							"type":"string",
							"title":"Llm Response"
						}
					}
				},
				"code":"import java.util.regex.Pattern\n\ndef sanitized_llm_response = \"\"\n\ndef llm_response = binding.hasVariable('llm_response') ? binding.getVariable('llm_response') : null\n\nif (llm_response != null) {\n    sanitized_llm_response = llm_response.replaceAll(/\\s+/, ' ')\n}\n\ndef result = [sanitized_llm_response: sanitized_llm_response]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"llm_response":"{{ quOEa.outputs.llmResponse }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.content.items.type",
					"root.itemToAdd.content.items.text",
					"root.itemToAdd.content.items.source.image_type",
					"root.itemToAdd.content.items.source.media_type",
					"root.itemToAdd.content.items.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"LsD3O",
			"index":16,
			"inputs":{
				"itemToAdd":{
					"role":"assistant",
					"content":{
						"items":{
							"type":"text",
							"text":"{{ n_MvJXK.outputs.result.sanitized_llm_response }}"
						},
						"ua:type":"mappedArray"
					}
				},
				"insertLocation":"END",
				"listName":"{{ z9SOq.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":72,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"baHza",
			"index":17,
			"inputs":{
				"variables":[
					{
						"source":"{{ MZifc.outputs.finish_reason }}",
						"value":"{{ quOEa.outputs.finish_reason }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"zAFUN",
			"index":18,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						},
						"llm_response":{
							"type":"string",
							"title":"llm_response"
						}
					}
				},
				"code":"final_text = \"\"\nif (binding.hasVariable(\"final_text_response\")){\n  final_text += final_text_response \n}\nif (binding.hasVariable(\"llm_response\")){\n  final_text += llm_response\n}\n\nresult = [\"final_text_response\":final_text]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"final_text_response":"{{ MZifc.outputs.final_text_response }}",
					"llm_response":"{{ n_MvJXK.outputs.result.sanitized_llm_response }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"8oHAS",
			"index":19,
			"inputs":{
				"variables":[
					{
						"source":"{{ MZifc.outputs.final_text_response }}",
						"value":"{{ zAFUN.outputs.result.final_text_response }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":384,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"s5q9l",
			"index":20,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"currIdx":{
							"type":"integer",
							"title":"Curr Idx"
						},
						"maxSteps":{
							"type":"integer",
							"title":"Max Steps"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"currIdx":0,
				"maxSteps":3
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"currIdx":{
							"type":"integer",
							"title":"Curr Idx"
						},
						"maxSteps":{
							"type":"integer",
							"title":"Max Steps"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":73,
				"resourceName":"loop_while",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"e1QLm",
			"index":21,
			"inputs":{
				"condition":{
					"filters":[
						{
							"property":"=LOWER({{ MZifc.outputs.finish_reason }})",
							"filter":{
								"operator":"NOT_EQUAL",
								"value":"stop"
							}
						},
						{
							"property":"=LOWER({{ MZifc.outputs.finish_reason }})",
							"filter":{
								"operator":"NOT_EQUAL",
								"value":"end_turn"
							}
						},
						{
							"property":"{{ s5q9l.outputs.currIdx }}",
							"filter":{
								"operator":"LT",
								"value":"{{ s5q9l.outputs.maxSteps }}"
							}
						}
					],
					"operator":"AND"
				},
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"While loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":282,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"5Hdyk",
			"index":22,
			"inputs":{
				"automationId":"66ac70650f725f5b425d12d8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"logProbs":false,
					"temperature":0,
					"responseFormat":{
						"type":"text"
					},
					"maxTokens":8192,
					"message":{
						"source":"{{ z9SOq.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"role":"{{ z9SOq.outputs.items[0].role }}",
							"content":{
								"source":"{{ z9SOq.outputs.items[0].content }}",
								"ua:type":"mappedArray",
								"items":"{{ z9SOq.outputs.items[0].content[0] }}"
							}
						}
					},
					"modelId":"{{ R0lx9.outputs.document_parsing_model }}",
					"top_p":1,
					"topK":1
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":2.0,
					"captureRetries":false,
					"count":3,
					"enabled":true,
					"initialDelay":1000,
					"maxDelay":2000
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":262,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Hdyk@e1QLm@fAeOt-1@l@error",
			"id":"sZ0HL",
			"index":23,
			"inputs":{
				"result":{
					"chunks":{
						"items":{
							"text":"{{ R0lx9.outputs.text }}",
							"metadata":{
								"pageNumber":"{{ R0lx9.outputs.pageNumber }}"
							}
						},
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"_CXup0",
			"index":24,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"sanitized_llm_response":{
							"type":"string",
							"title":"Sanitized Llm Response"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"llm_response":{
							"type":"string",
							"title":"Llm Response"
						}
					}
				},
				"code":"import java.util.regex.Pattern\n\ndef sanitized_llm_response = \"\"\n\ndef llm_response = binding.hasVariable('llm_response') ? binding.getVariable('llm_response') : null\n\nif (llm_response != null) {\n    sanitized_llm_response = llm_response.replaceAll(/\\s+/, ' ')\n}\n\ndef result = [sanitized_llm_response: sanitized_llm_response]",
				"compile_static":false,
				"parameters":{
					"llm_response":"{{ 5Hdyk.outputs.llmResponse }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.content.items.type",
					"root.itemToAdd.content.items.text",
					"root.itemToAdd.content.items.source.image_type",
					"root.itemToAdd.content.items.source.media_type",
					"root.itemToAdd.content.items.source.image_data"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"Y4Afv",
			"index":25,
			"inputs":{
				"itemToAdd":{
					"role":"assistant",
					"content":{
						"items":{
							"type":"text",
							"text":"{{ _CXup0.outputs.result.sanitized_llm_response }}"
						},
						"ua:type":"mappedArray"
					}
				},
				"insertLocation":"END",
				"listName":"{{ z9SOq.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":72,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"rHrG9",
			"index":26,
			"inputs":{
				"variables":[
					{
						"source":"{{ MZifc.outputs.finish_reason }}",
						"value":"{{ 5Hdyk.outputs.finish_reason }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"Lq5n1",
			"index":27,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"final_text_response":{
							"type":"string",
							"title":"final_text_response"
						},
						"llm_response":{
							"type":"string",
							"title":"llm_response"
						}
					}
				},
				"code":"final_text = \"\"\nif (binding.hasVariable(\"final_text_response\")){\n  final_text += final_text_response \n}\nif (binding.hasVariable(\"llm_response\")){\n  final_text += llm_response\n}\n\nresult = [\"final_text_response\":final_text]",
				"compile_static":false,
				"parameters":{
					"final_text_response":"{{ MZifc.outputs.final_text_response }}",
					"llm_response":"{{ _CXup0.outputs.result.sanitized_llm_response }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"ZV6Z9",
			"index":28,
			"inputs":{
				"variables":[
					{
						"source":"{{ MZifc.outputs.final_text_response }}",
						"value":"{{ Lq5n1.outputs.result.final_text_response }}"
					},
					{
						"source":"{{ s5q9l.outputs.currIdx }}",
						"value":"={{ s5q9l.outputs.currIdx }}+1"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":2,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"e1QLm@fAeOt-1@l",
			"id":"TwYt3",
			"index":29,
			"inputs":{
				"filters":[
					{
						"property":"{{ e1QLm.outputs.index }}",
						"filter":{
							"operator":"GT",
							"value":"3"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"break",
				"resourceVersion":2,
				"resourceName":"break",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TwYt3@e1QLm@fAeOt-1@l@y",
			"id":"Ddhwy",
			"index":30,
			"inputs":{
				"loop":"e1QLm"
			},
			"skip":false,
			"subTitle":"Break",
			"title":"Break",
			"type":"BREAK"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":71,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"VTO0z",
			"index":31,
			"inputs":{
				"filters":[
					{
						"property":"=LOWER({{ MZifc.outputs.finish_reason }})",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"stop"
						}
					},
					{
						"property":"=LOWER({{ MZifc.outputs.finish_reason }})",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"end_turn"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":72,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"VTO0z@fAeOt-1@y",
			"id":"SSxhN",
			"index":32,
			"inputs":{
				"object_type":"test_agentic_chunking_stop",
				"record":{
					"name":"{{ R0lx9.outputs.file.name }}",
					"source":"{{ R0lx9.outputs.file.source }}",
					"sourceType":"{{ R0lx9.outputs.file.sourceType }}",
					"type":"{{ R0lx9.outputs.file.type }}",
					"mimeType":"{{ R0lx9.outputs.mimeType }}",
					"pageNumber":"{{ R0lx9.outputs.pageNumber }}",
					"finishReason":"{{ quOEa.outputs.finish_reason }}",
					"llmOutput":"{{ quOEa.outputs.llmResponse }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":450,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"n_1NOFk",
			"index":33,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"metadata":{
											"type":"object",
											"properties":{
												"chunkIndexedType":{
													"type":"string",
													"title":"chunkIndexedType"
												},
												"chunkType":{
													"type":"string",
													"title":"chunkType"
												},
												"chunkUUID":{
													"type":"string",
													"title":"chunkUUID"
												},
												"contentForGeneration":{
													"type":"string",
													"title":"contentForGeneration"
												},
												"pageNumber":{
													"type":"integer",
													"title":"pageNumber"
												},
												"rawText":{
													"type":"string",
													"title":"rawText"
												},
												"imgFile":{
													"type":"object",
													"properties":{},
													"additionalProperties":false,
													"title":"imgFile"
												}
											},
											"title":"metadata",
											"additionalProperties":false,
											"required":[]
										},
										"text":{
											"type":"string",
											"title":"text"
										}
									},
									"additionalProperties":false
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"chunks",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"chunks",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"metadata":{
										"type":"object",
										"properties":{
											"chunkIndexedType":{
												"type":"string",
												"title":"chunkIndexedType"
											},
											"chunkType":{
												"type":"string",
												"title":"chunkType"
											},
											"chunkUUID":{
												"type":"string",
												"title":"chunkUUID"
											},
											"contentForGeneration":{
												"type":"string",
												"title":"contentForGeneration"
											},
											"pageNumber":{
												"type":"integer",
												"title":"pageNumber"
											},
											"rawText":{
												"type":"string",
												"title":"rawText"
											},
											"imgFile":{
												"type":"object",
												"properties":{},
												"additionalProperties":false,
												"title":"imgFile"
											}
										},
										"title":"metadata",
										"additionalProperties":false,
										"required":[]
									},
									"text":{
										"type":"string",
										"title":"text"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"chunks",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{},
				"visibleOptionalFields":[
					"root.parameters.inputs.dummy",
					"root.parameters.inputs.documentTopic",
					"root.parameters.inputs.text"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":155,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"fAeOt-1",
			"id":"_IfsJ1",
			"index":34,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"chunks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"text":{
										"type":"string",
										"title":"text"
									},
									"metadata":{
										"type":"object",
										"properties":{
											"chunkUUID":{
												"type":"string",
												"title":"chunkUUID"
											},
											"chunkType":{
												"type":"string",
												"title":"chunkType"
											},
											"chunkIndexedType":{
												"type":"string",
												"title":"chunkIndexedType"
											},
											"contentForGeneration":{
												"type":"string",
												"title":"contentForGeneration"
											},
											"rawText":{
												"type":"string",
												"title":"Raw Text"
											},
											"boundingBox":{
												"type":"object",
												"properties":{
													"x1":{
														"type":"number",
														"title":"x1"
													},
													"y1":{
														"type":"number",
														"title":"y1"
													},
													"x2":{
														"type":"number",
														"title":"x2"
													},
													"y2":{
														"type":"number",
														"title":"y2"
													}
												},
												"additionalProperties":false,
												"title":"boundingBox",
												"required":[]
											}
										},
										"title":"metadata",
										"additionalProperties":false,
										"required":[]
									}
								},
								"additionalProperties":false
							},
							"title":"chunks"
						},
						"boundingBoxes":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"x1":{
										"type":"number",
										"title":"x1"
									},
									"y1":{
										"type":"number",
										"title":"y1"
									},
									"x2":{
										"type":"number",
										"title":"x2"
									},
									"y2":{
										"type":"number",
										"title":"y2"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"boundingBoxes"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{
								"dummy":{
									"type":"string",
									"title":"dummy"
								},
								"documentTopic":{
									"type":"string",
									"title":"documentTopic"
								},
								"text":{
									"type":"string",
									"title":"text"
								}
							},
							"title":"inputs",
							"additionalProperties":false
						}
					}
				},
				"code":"import java.util.UUID\nimport java.util.regex.Pattern\nimport java.util.regex.Matcher\n\ndef sanitizeXml(String xml) {\n    if (!xml) return xml\n    \n    int firstIndex = xml.indexOf('<')\n    int lastIndex = xml.lastIndexOf('>')\n    \n    if (firstIndex == -1 || lastIndex == -1 || firstIndex >= lastIndex) {\n        return xml\n    }\n    \n    return xml.substring(firstIndex, lastIndex + 1)\n}\n\n// Example usage\ndef input = \"garbage text <root><child>content</child></root> more garbage\"\ndef result = sanitizeXml(input)\nprintln result  // Output: <root><child>content</child></root>\n\ndef extractChunks(String text) {\n    // Pattern to capture <chunk type=\"...\">...</chunk>\n    def pattern = /(?s)<chunk\\s+type\\s*=\\s*\"(.*?)\">(.*?)<\\/chunk>/\n\n    try {\n        // Find all well-formed chunks (type and content)\n        def matcher = text =~ pattern\n        def matches = []\n        \n        while (matcher.find()) {\n            matches << [matcher.group(1), matcher.group(2)]\n        }\n\n        // If no matches found, fallback to single chunk with entire text\n        if (matches.isEmpty()) {\n            return [\n                chunks: [\n                    [\n                        type: \"text\",\n                        text: text.trim(),\n                        questions: [],\n                        description: \"\",\n                        context: \"\",\n                    ]\n                ]\n            ]\n        }\n\n        def chunksList = []\n        def boundingBoxes = []\n\n        for (match in matches) {\n            def chunkType = match[0]\n            def chunkContent = match[1]\n            \n            def contextMatcher = chunkContent =~ /(?s)<context>(.*?)<\\/context>/\n            def context = \"\"\n            def chunkContentCleaned = chunkContent\n            \n            if (contextMatcher.find()) {\n                context = contextMatcher.group(1).trim()\n                chunkContentCleaned = chunkContentCleaned.replaceAll(/(?s)<context>.*?<\\/context>/, '')\n            }\n\n            // Search for <description>...</description>\n            def descMatcher = chunkContentCleaned =~ /(?s)<description>(.*?)<\\/description>/\n            def description = \"\"\n            \n            if (descMatcher.find()) {\n                description = descMatcher.group(1).trim()\n                // Remove the description section from the chunk content\n                chunkContentCleaned = chunkContentCleaned.replaceAll(/(?s)<description>.*?<\\/description>/, '')\n            }\n\n            // Search for <bounding_box>...</bounding_box>\n            // <bounding_box>56,67,34,233</bounding_box>\n            def boundingBoxPattern = ~/(?s)<bounding_box>(.*?)<\\/bounding_box>/\n            def boundingBoxMatcher = chunkContentCleaned =~ boundingBoxPattern\n            def boundingBox = null\n\n            if (boundingBoxMatcher.find()) {\n                def boundingBoxString = boundingBoxMatcher.group(1).trim()\n                \n                def coordMatcher = boundingBoxString =~ ~/^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*$/\n                if (coordMatcher.matches()) {\n                    boundingBox = [\n                        x1: coordMatcher.group(1) as Integer,\n                        y1: coordMatcher.group(2) as Integer,\n                        x2: coordMatcher.group(3) as Integer,\n                        y2: coordMatcher.group(4) as Integer\n                    ]\n                    boundingBoxes << boundingBox\n                }\n                \n                chunkContentCleaned = chunkContentCleaned.replaceAll(boundingBoxPattern, '')\n            }\n\n            // Find all <question> blocks\n            def questionMatcher = chunkContentCleaned =~ /(?s)<question>(.*?)<\\/question>/\n            def questions = []\n            \n            while (questionMatcher.find()) {\n                questions << questionMatcher.group(1)\n            }\n            \n            // Remove the <question> blocks\n            chunkContentCleaned = chunkContentCleaned.replaceAll(/(?s)<question>.*?<\\/question>/, '').trim()\n\n            // Normalize type for consistency\n            def lowerType = chunkType.toLowerCase()\n\n            // Build chunk dict depending on known types: \"text\", \"table\", \"image\", etc.\n            def chunkDict\n            \n            if (lowerType == \"table\") {\n                chunkDict = [\n                    type: lowerType,\n                    context: context,\n                    description: description,\n                    text: chunkContentCleaned,\n                    questions: questions,\n                ]\n            } else if(lowerType == \"image\"){\n                chunkDict = [\n                    type: lowerType,\n                    context: context,\n                    description: description,\n                    text: chunkContentCleaned,\n                    questions: questions,\n                    boundingBox: boundingBox,\n                ]\n            } else if (lowerType == \"text\") {\n                chunkDict = [\n                    type: \"text\",\n                    text: chunkContentCleaned,\n                    context: context,\n                    questions: questions,\n                    description: \"\",\n                ]\n            } else {\n                // For unrecognized types, treat similarly to text or handle as needed\n                chunkDict = [\n                    type: lowerType,\n                    text: chunkContentCleaned,\n                    context: context,\n                    questions: questions,\n                    description: \"\",\n                ]\n            }\n\n            chunksList << chunkDict\n        }\n\n        return [chunks: chunksList, boundingBoxes:boundingBoxes]\n\n    } catch (Exception e) {\n        // On any parse error or anomaly, return the entire text as one chunk\n        return [\n            chunks: [\n                [\n                    type: \"text\",\n                    text: text.trim(),\n                    questions: [],\n                    description: \"\",\n                    context: \"\",\n                ]\n            ]\n        ]\n    }\n}\n\ndef responses = extractChunks(sanitizeXml(inputs.get(\"text\", \"\")))\ndef chunks = responses\ndef boundingBoxes = responses[\"boundingBoxes\"]\ndef chunksList = chunks.chunks\ndef modifiedChunksList = []\ndef blacklistedPatternInQuestion = [\n    /\\bthis\\s+(image|page|financial|document|report|section|statement)\\b/,\n    /\\bthe\\s+(image|page|financial|document|report|section|statement)\\b/,\n    /\\bwhich\\s+(image|page|financial|document|report|section|statement)\\b/,\n    /\\bwhat\\s+is\\s+the\\s+name\\s+of\\s+the\\s+(company|report|statement)\\b/,\n    /\\bwhat\\s+type\\s+of\\s+(image|page|financial|document|report|section|statement)\\b/,\n    /\\bwhat\\s+(page|pages)\\b/,\n    /\\baccompanying\\s+notes\\s+from\\b/\n]\ndef documentTopic = inputs.get(\"documentTopic\", \"\")\n\nfor (chunk in chunksList) {\n    def randomUuid = UUID.randomUUID().toString()\n    def chunkType = (chunk?.type ?: \"\").toLowerCase()\n    def context = chunk?.context ?: \"\"\n    def description = chunk?.description ?: \"\"\n    def boundingBox = chunk?.boundingBox ?:null\n    def text = chunk?.text ?: \"\"\n    def rawText=chunk?.text?:\"\"\n    def tokenText = text?.split(\" \")\n    if (tokenText.length < 5 && !(chunkType in ['table', 'image'])) {\n        continue\n    }\n    def chunkIndexedType = \"text\"\n    def contentText = \"\"\n    if (documentTopic.trim()) {\n        contentText += \"Chunk Document Topic: ${documentTopic}\\n\"\n    }\n    if (context.trim()) {\n        contentText += \"Chunk Context: ${context}\\n\"\n    }\n    if (description.trim()) {\n        contentText += \"${chunkType.capitalize()} Description: ${description}\\n\"\n    }\n    if (text.trim()) {\n        contentText += \"Content: ${text}\"\n    }\n    \n    if (text.trim()) {\n        def embeddingText = context + \"\\n\" + text\n        modifiedChunksList << [\n            text: embeddingText,\n            metadata: [\n                chunkUUID: randomUuid,\n                chunkType: chunkType,\n                chunkIndexedType: chunkIndexedType,\n                contentForGeneration: contentText,\n                rawText:rawText\n            ]\n        ]\n    }\n    if (description.trim()) {\n        chunkIndexedType = \"description\"\n        def embeddingText = context + \"\\n\" + description\n        modifiedChunksList << [\n            text: embeddingText,\n            metadata: [\n                chunkUUID: randomUuid,\n                chunkType: chunkType,\n                chunkIndexedType: chunkIndexedType,\n                contentForGeneration: contentText,\n                rawText:rawText,\n                boundingBox: boundingBox\n            ]\n        ]\n    }\n    def questions = chunk.questions ?: []\n    if (tokenText.length < 20 && !(chunkType in ['table', 'image'])) {\n        continue\n    }\n\n    for (question in questions) {\n        def questionLower = question.toLowerCase()\n        def flag = false\n        try {\n            for (pattern in blacklistedPatternInQuestion) {\n                if (questionLower =~ pattern) {\n                    flag = true\n                    break\n                }\n            }\n        } catch (Exception err) {\n            question = err.toString()\n        }\n\n        if (flag) {\n            continue\n        }\n\n        def contextualizedQuestion = context + \"\\n\" + question\n        modifiedChunksList << [\n            text: contextualizedQuestion,\n            metadata: [\n                chunkUUID: randomUuid,\n                chunkType: chunkType,\n                chunkIndexedType: \"question\",\n                contentForGeneration: contentText,\n                rawText:rawText,\n                boundingBox:boundingBox\n            ]\n        ]\n    }\n}\n\nreturn [\n    chunks: modifiedChunksList,\n    boundingBoxes: boundingBoxes\n]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"inputs":{
						"dummy":"dummy",
						"documentTopic":"{{ R0lx9.outputs.documentTopic }}",
						"text":"{{ MZifc.outputs.final_text_response }}"
					}
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"utility_by_unifyapps_generate_public_url",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IfsJ1@fAeOt-1@success",
			"id":"n_iVrw7",
			"index":35,
			"inputs":{
				"file":"{{ R0lx9.outputs.file }}",
				"expiryTime":1
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Generate public file URL",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":450,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IfsJ1@fAeOt-1@success",
			"id":"n_8z3wA",
			"index":36,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"boundingBox":{
											"type":"object",
											"properties":{
												"x1":{
													"type":"number",
													"title":"x1"
												},
												"y1":{
													"type":"number",
													"title":"y1"
												},
												"x2":{
													"type":"number",
													"title":"x2"
												},
												"y2":{
													"type":"number",
													"title":"y2"
												}
											},
											"title":"boundingBox",
											"additionalProperties":false
										},
										"file":{
											"type":"object",
											"properties":{},
											"additionalProperties":false,
											"title":"file"
										}
									},
									"additionalProperties":false,
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"imageFiles",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"imageFiles",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"boundingBox":{
										"type":"object",
										"properties":{
											"x1":{
												"type":"number",
												"title":"x1"
											},
											"y1":{
												"type":"number",
												"title":"y1"
											},
											"x2":{
												"type":"number",
												"title":"x2"
											},
											"y2":{
												"type":"number",
												"title":"y2"
											}
										},
										"title":"boundingBox",
										"additionalProperties":false
									},
									"file":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"file"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"imageFiles",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":456,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IfsJ1@fAeOt-1@success",
			"id":"n_DJ0gE",
			"index":37,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ _IfsJ1.outputs.result.boundingBoxes }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"boundingBoxes",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":464,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DJ0gE@_IfsJ1@fAeOt-1@success@l",
			"id":"_u4ikP",
			"index":38,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"img_base64":{
							"type":"string",
							"title":"img_base64"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"url":{
							"type":"string",
							"title":"url"
						},
						"x1":{
							"type":"number",
							"title":"x1"
						},
						"y1":{
							"type":"number",
							"title":"y1"
						},
						"x2":{
							"type":"number",
							"title":"x2"
						},
						"y2":{
							"type":"number",
							"title":"y2"
						}
					}
				},
				"configurationMode":"DEFAULT",
				"code":"from PIL import Image\nimport requests\nfrom io import BytesIO\nimport base64\n\nimage_url = url\nresponse = requests.get(image_url)\nimg = Image.open(BytesIO(response.content))\n\nactual_width, actual_height = img.size\n\n# LLM saw 1024x1024, so scale the coordinates\nllm_size = 1024\n# scale_x = actual_width / llm_size\n# scale_y = actual_height / llm_size\nscale_x = 1\nscale_y = 1\n\n# Scale the bounding box coordinates\nx1_scaled = int(x1 * scale_x)\ny1_scaled = int(y1 * scale_y)\nx2_scaled = int(x2 * scale_x)\ny2_scaled = int(y2 * scale_y)\n\n# Crop using scaled coordinates\ncropped_img = img.crop((x1_scaled, y1_scaled, x2_scaled, y2_scaled))\n\nbuffered = BytesIO()\ncropped_img.save(buffered, format=\"PNG\")\nimg_base64 = base64.b64encode(buffered.getvalue()).decode('utf-8')\n\nresult = {\n    \"img_base64\": img_base64\n}",
				"isAsync":false,
				"python_version":"3.12",
				"captureStdOutput":false,
				"parameters":{
					"url":"{{ n_iVrw7.outputs.url }}",
					"x1":"{{ n_DJ0gE.outputs.item.x1 }}",
					"y1":"{{ n_DJ0gE.outputs.item.y1 }}",
					"x2":"{{ n_DJ0gE.outputs.item.x2 }}",
					"y2":"{{ n_DJ0gE.outputs.item.y2 }}"
				}
			},
			"skip":false,
			"subTitle":"boundingBox",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":452,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DJ0gE@_IfsJ1@fAeOt-1@success@l",
			"id":"n_U2AVi",
			"index":39,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"uuid":{
							"type":"string",
							"title":"uuid"
						}
					}
				},
				"code":"import java.util.UUID\n\ndef randomUuid = UUID.randomUUID().toString()\n\nreturn [uuid : randomUuid]",
				"compile_static":false,
				"captureStdOutput":false
			},
			"skip":false,
			"subTitle":"uuid",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":312,
				"resourceName":"utility_by_unifyapps_upload_base_64_content",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DJ0gE@_IfsJ1@fAeOt-1@success@l",
			"id":"_dbct6",
			"index":40,
			"inputs":{
				"fileName":"chunkImg_{{ n_U2AVi.outputs.result.uuid }}.png",
				"content":"{{ _u4ikP.outputs.result.img_base64 }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Upload Base64 Content",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":452,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DJ0gE@_IfsJ1@fAeOt-1@success@l",
			"id":"_XoKYi",
			"index":41,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"imgFile":{
							"type":"object",
							"title":"imgFile"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"imgFile":{
							"type":"object",
							"title":"imgFile"
						}
					}
				},
				"code":"def imgFile = binding.hasVariable(\"imgFile\")?binding.getVariable(\"imgFile\"):[:]\n\nif(imgFile.containsKey(\"fileType\")){\n  imgFile[\"fileType\"] = \"png\"\n} else{\n  imgFile << [\"fileType\":\"png\"]\n}\n\nif(imgFile.containsKey(\"mimeType\")){\n  imgFile[\"mimeType\"] = \"image/png\"\n} else{\n  imgFile << [\"mimeType\":\"image/png\"]\n}\n\nreturn [imgFile:imgFile]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"imgFile":"{{ _dbct6.outputs.fileDetails }}"
				}
			},
			"skip":false,
			"subTitle":"fileType",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.boundingBox.x1",
					"root.itemToAdd.boundingBox.y1",
					"root.itemToAdd.boundingBox.x2",
					"root.itemToAdd.boundingBox.y2"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DJ0gE@_IfsJ1@fAeOt-1@success@l",
			"id":"n_AYdvd",
			"index":42,
			"inputs":{
				"itemToAdd":{
					"boundingBox":{
						"x1":"{{ n_DJ0gE.outputs.item.x1 }}",
						"y1":"{{ n_DJ0gE.outputs.item.y1 }}",
						"x2":"{{ n_DJ0gE.outputs.item.x2 }}",
						"y2":"{{ n_DJ0gE.outputs.item.y2 }}"
					},
					"boundingBoxUUID":"{{ n_DJ0gE.outputs.item.boundingBoxUuid }}",
					"file":"{{ _XoKYi.outputs.result.imgFile }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_8z3wA.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"imageFiles",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":456,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IfsJ1@fAeOt-1@success",
			"id":"n_dMPQ6",
			"index":43,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ _IfsJ1.outputs.result.chunks }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"chunks",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_dMPQ6@_IfsJ1@fAeOt-1@success@l",
			"id":"n_7kizy",
			"index":44,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_dMPQ6.outputs.item.metadata.chunkType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"image"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"image?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				},
				"visibleOptionalFields":[
					"root.parameters.currentImageBoundingBox.x1",
					"root.parameters.currentImageBoundingBox.y1",
					"root.parameters.currentImageBoundingBox.x2",
					"root.parameters.currentImageBoundingBox.y2",
					"root.parameters.imageFiles.items.boundingBox.x1",
					"root.parameters.imageFiles.items.boundingBox.y1",
					"root.parameters.imageFiles.items.boundingBox.x2",
					"root.parameters.imageFiles.items.boundingBox.y2",
					"root.parameters.imageFiles.items.boundingBoxUUID",
					"root.parameters.imageFiles.items.imageFile"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":452,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_7kizy@n_dMPQ6@_IfsJ1@fAeOt-1@success@l@y",
			"id":"_6rI0T",
			"index":45,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"imgFile":{
							"type":"object",
							"title":"imgFile"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"currentImageBoundingBox":{
							"type":"object",
							"properties":{
								"x1":{
									"type":"number",
									"title":"x1"
								},
								"y1":{
									"type":"number",
									"title":"y1"
								},
								"x2":{
									"type":"number",
									"title":"x2"
								},
								"y2":{
									"type":"number",
									"title":"y2"
								}
							},
							"title":"currentImageBoundingBox",
							"additionalProperties":false
						},
						"imageFiles":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"boundingBox":{
										"type":"object",
										"properties":{
											"x1":{
												"type":"number",
												"title":"x1"
											},
											"y1":{
												"type":"number",
												"title":"y1"
											},
											"x2":{
												"type":"number",
												"title":"x2"
											},
											"y2":{
												"type":"number",
												"title":"y2"
											}
										},
										"title":"boundingBox",
										"additionalProperties":false
									},
									"imageFile":{
										"type":"object",
										"title":"imageFile"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"imageFiles"
						}
					}
				},
				"code":"def imageFiles = binding.hasVariable(\"imageFiles\")?binding.getVariable(\"imageFiles\"):[]\ndef currentImageBoundingBox = binding.hasVariable(\"currentImageBoundingBox\")?binding.getVariable(\"currentImageBoundingBox\"):[:]\ndef imageFile = [:]\n\nimageFiles.each { item ->\n  if (item.boundingBox && currentImageBoundingBox &&\n    item.boundingBox.x1 == currentImageBoundingBox.x1 &&\n    item.boundingBox.y1 == currentImageBoundingBox.y1 &&\n    item.boundingBox.x2 == currentImageBoundingBox.x2 &&\n    item.boundingBox.y2 == currentImageBoundingBox.y2) {\n    imageFile = item.imageFile ?: [:]\n  }\n}\n\nreturn [imgFile:imageFile]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"currentImageBoundingBox":{
						"x1":"{{ n_dMPQ6.outputs.item.metadata.boundingBox.x1 }}",
						"y1":"{{ n_dMPQ6.outputs.item.metadata.boundingBox.y1 }}",
						"x2":"{{ n_dMPQ6.outputs.item.metadata.boundingBox.x2 }}",
						"y2":"{{ n_dMPQ6.outputs.item.metadata.boundingBox.y2 }}"
					},
					"imageFiles":{
						"source":"{{ n_8z3wA.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"boundingBox":{
								"x1":"{{ n_8z3wA.outputs.items[0].boundingBox.x1 }}",
								"y1":"{{ n_8z3wA.outputs.items[0].boundingBox.y1 }}",
								"x2":"{{ n_8z3wA.outputs.items[0].boundingBox.x2 }}",
								"y2":"{{ n_8z3wA.outputs.items[0].boundingBox.y2 }}"
							},
							"imageFile":"{{ n_8z3wA.outputs.items[0].file }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"getFile",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.metadata.chunkIndexedType",
					"root.itemToAdd.metadata.chunkType",
					"root.itemToAdd.metadata.chunkUUID",
					"root.itemToAdd.metadata.contentForGeneration",
					"root.itemToAdd.metadata.pageNumber",
					"root.itemToAdd.metadata.rawText",
					"root.itemToAdd.metadata.imgFile"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_7kizy@n_dMPQ6@_IfsJ1@fAeOt-1@success@l@y",
			"id":"n_Kb26A",
			"index":46,
			"inputs":{
				"itemToAdd":{
					"metadata":{
						"chunkIndexedType":"{{ n_dMPQ6.outputs.item.metadata.chunkIndexedType }}",
						"chunkType":"{{ n_dMPQ6.outputs.item.metadata.chunkType }}",
						"chunkUUID":"{{ n_dMPQ6.outputs.item.metadata.chunkUUID }}",
						"contentForGeneration":"{{ n_dMPQ6.outputs.item.metadata.contentForGeneration }}",
						"pageNumber":"{{ R0lx9.outputs.pageNumber }}",
						"rawText":"{{ n_dMPQ6.outputs.item.metadata.rawText }}",
						"imgFile":"{{ _6rI0T.outputs.result.imgFile }}"
					},
					"text":"{{ n_dMPQ6.outputs.item.text }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_1NOFk.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"chunks",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.metadata.chunkIndexedType",
					"root.itemToAdd.metadata.chunkType",
					"root.itemToAdd.metadata.chunkUUID",
					"root.itemToAdd.metadata.contentForGeneration",
					"root.itemToAdd.metadata.pageNumber",
					"root.itemToAdd.metadata.rawText",
					"root.itemToAdd.metadata.boundingBox.x1",
					"root.itemToAdd.metadata.boundingBox.y1",
					"root.itemToAdd.metadata.boundingBox.x2",
					"root.itemToAdd.metadata.boundingBox.y2",
					"root.itemToAdd.metadata.img_base64",
					"root.itemToAdd.metadata.chunkIndexedType",
					"root.itemToAdd.metadata.chunkType",
					"root.itemToAdd.metadata.chunkUUID",
					"root.itemToAdd.metadata.contentForGeneration",
					"root.itemToAdd.metadata.rawText",
					"root.itemToAdd.metadata.boundingBox.x1",
					"root.itemToAdd.metadata.boundingBox.y1",
					"root.itemToAdd.metadata.boundingBox.x2",
					"root.itemToAdd.metadata.boundingBox.y2",
					"root.itemToAdd.text"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_7kizy@n_dMPQ6@_IfsJ1@fAeOt-1@success@l@n",
			"id":"_CWXE9",
			"index":47,
			"inputs":{
				"itemToAdd":{
					"metadata":{
						"chunkIndexedType":"{{ n_dMPQ6.outputs.item.metadata.chunkIndexedType }}",
						"chunkType":"{{ n_dMPQ6.outputs.item.metadata.chunkType }}",
						"chunkUUID":"{{ n_dMPQ6.outputs.item.metadata.chunkUUID }}",
						"contentForGeneration":"{{ n_dMPQ6.outputs.item.metadata.contentForGeneration }}",
						"pageNumber":"{{ R0lx9.outputs.pageNumber }}",
						"rawText":"{{ n_dMPQ6.outputs.item.metadata.rawText }}"
					},
					"text":"{{ n_dMPQ6.outputs.item.text }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_1NOFk.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"chunks",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":262,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IfsJ1@fAeOt-1@error",
			"id":"_VdgVZ",
			"index":48,
			"inputs":{
				"result":{
					"chunks":{
						"items":{
							"text":"{{ R0lx9.outputs.text }}",
							"metadata":{
								"pageNumber":"{{ R0lx9.outputs.pageNumber }}"
							}
						},
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.result.chunks.source",
					"root.result.chunks.ua:type",
					"root.result.chunks.items.text",
					"root.result.chunks.items.metadata.chunkUUID",
					"root.result.chunks.items.metadata.chunkType",
					"root.result.chunks.items.metadata.chunkIndexedType",
					"root.result.chunks.items.metadata.contentForGeneration",
					"root.result.chunks.items.metadata.pageNumber",
					"root.result.chunks.items.metadata.rawText"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":262,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fAeOt-1",
			"id":"fpxuE",
			"index":49,
			"inputs":{
				"result":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"metadata":{
								"pageNumber":"{{ n_1NOFk.outputs.items[0].metadata.pageNumber }}",
								"chunkUUID":"{{ n_1NOFk.outputs.items[0].metadata.chunkUUID }}",
								"chunkType":"{{ n_1NOFk.outputs.items[0].metadata.chunkType }}",
								"chunkIndexedType":"{{ n_1NOFk.outputs.items[0].metadata.chunkIndexedType }}",
								"contentForGeneration":"{{ n_1NOFk.outputs.items[0].metadata.contentForGeneration }}",
								"rawText":"{{ n_1NOFk.outputs.items[0].metadata.rawText }}",
								"imgFile":"{{ n_1NOFk.outputs.items[0].metadata.imgFile }}"
							},
							"text":"{{ n_1NOFk.outputs.items[0].text }}"
						},
						"source":"{{ n_1NOFk.outputs.items }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":32562,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent",
		"Internal"
	],
	"version":115
}