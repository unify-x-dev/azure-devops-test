{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1742974570151,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296306838,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd72d60dd816d779913a",
		"status":"DEPLOYED",
		"version":59,
		"workflowVersion":84
	},
	"edges":[
		{
			"fromNodeId":"gCDgf",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3g601",
			"type":"next"
		},
		{
			"fromNodeId":"n_3g601",
			"priority":0,
			"skip":false,
			"toNodeId":"985cp",
			"type":"next"
		},
		{
			"fromNodeId":"985cp",
			"priority":0,
			"skip":false,
			"toNodeId":"MGW9v",
			"type":"next"
		},
		{
			"fromNodeId":"MGW9v",
			"priority":0,
			"skip":false,
			"toNodeId":"NILR1",
			"type":"next"
		},
		{
			"fromNodeId":"NILR1",
			"priority":0,
			"skip":false,
			"toNodeId":"vUEz3",
			"type":"next"
		},
		{
			"fromNodeId":"vUEz3",
			"priority":0,
			"skip":false,
			"toNodeId":"qb8Fh",
			"type":"loop"
		},
		{
			"fromNodeId":"qb8Fh",
			"priority":0,
			"skip":false,
			"toNodeId":"7d2B4",
			"type":"next"
		},
		{
			"fromNodeId":"7d2B4",
			"priority":0,
			"skip":false,
			"toNodeId":"HtKMG",
			"type":"next"
		},
		{
			"fromNodeId":"HtKMG",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"EwEQU",
			"type":"if"
		},
		{
			"fromNodeId":"EwEQU",
			"priority":0,
			"skip":false,
			"toNodeId":"WfDxU",
			"type":"next"
		},
		{
			"fromNodeId":"HtKMG",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"WfDxU",
			"type":"next"
		},
		{
			"fromNodeId":"WfDxU",
			"priority":0,
			"skip":false,
			"toNodeId":"zmgJ9",
			"type":"next"
		},
		{
			"fromNodeId":"zmgJ9",
			"priority":0,
			"skip":false,
			"toNodeId":"wvd3L",
			"type":"next"
		},
		{
			"fromNodeId":"wvd3L",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"vUEz3",
			"type":"next"
		},
		{
			"fromNodeId":"vUEz3",
			"priority":0,
			"skip":false,
			"toNodeId":"z3LHj",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67e3ad84b2f2842abc7707ca",
	"lastModifiedBy":0,
	"lcName":"clone agent",
	"modifiedTime":1761722860138,
	"name":"Clone Agent",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":161,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"gCDgf",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"clonedAgentId":{
							"type":"string",
							"title":"Cloned Agent Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"n_3g601",
			"index":0,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ gCDgf.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":162,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"985cp",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"propertiesToOverride":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Properties To Override"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"name":{
							"type":"string",
							"title":"Name"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [\n  \"propertiesToOverride\": [\n    \"name\" : name + \" (copy)\"\n  ]\n]",
				"parameters":{
					"name":"{{ n_3g601.outputs.properties.name }}"
				}
			},
			"skip":false,
			"subTitle":"Properties to override",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":3,
				"resourceName":"storage_by_unifyapps_clone_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"MGW9v",
			"index":0,
			"inputs":{
				"recordId":"{{ gCDgf.outputs.aiAgentId }}",
				"object_type":"ai_agent",
				"deepClone":true,
				"propertiesToOverride":"{{ 985cp.outputs.result.propertiesToOverride }}"
			},
			"skip":false,
			"subTitle":"Agent",
			"title":"Clone record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":174,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"NILR1",
			"index":0,
			"inputs":{
				"automationId":"679c6123a6583456a71988d2",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ gCDgf.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Fetch Knowledges",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":164,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"vUEz3",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ NILR1.outputs.knowledges }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop on knowledges",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"qb8Fh",
			"index":0,
			"inputs":{
				"object_type":"knowledge",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"id":"{{ vUEz3.outputs.item.id }}",
				"readThroughSessionVariables":true
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":162,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"7d2B4",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"propertiesToOverride":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Properties To Override"
						},
						"updatedCursorObject":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Updated Cursor Object"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"cursorObject":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Cursor Object"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def updatedCursorObject = (binding.hasVariable(\"cursorObject\") && cursorObject instanceof List && !cursorObject.get(0).isEmpty()) ? cursorObject.get(0) : [:]\nreturn [\n  \"propertiesToOverride\": [\n    \"status\" : \"DRAFT\",\n    \"readVersion\": 0,\n    \"accessibleTo\" : [ \"ai_agent/\" + aiAgentId ],\n    \"lastSyncTime\" : 0\n  ],\n  \"updatedCursorObject\": updatedCursorObject\n]",
				"parameters":{
					"cursorObject":"{{ qb8Fh.outputs.properties.cursorObject }}",
					"aiAgentId":"{{ MGW9v.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Properties to override",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":409,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"HtKMG",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ qb8Fh.outputs.properties.additionalDetails.embeddingModel }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2418,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"HtKMG@vUEz3@kOeHk-1@l@y",
			"id":"EwEQU",
			"index":0,
			"inputs":{
				"recordId":"{{ vUEz3.outputs.item.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.additionalDetails.embeddingModel",
						"actionType":"UNSET",
						"setValue":"-"
					}
				]
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by id",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2419,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"WfDxU",
			"index":0,
			"inputs":{
				"recordId":"{{ vUEz3.outputs.item.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.cursorObject",
						"actionType":"SET",
						"setValue":"{{ 7d2B4.outputs.result.updatedCursorObject }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by id",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2415,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"zmgJ9",
			"index":0,
			"inputs":{
				"recordId":"{{ vUEz3.outputs.item.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"knowledge",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.refreshDetails.lastRefreshStartTime",
						"actionType":"UNSET",
						"setValue":"-"
					}
				]
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by id",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":3,
				"resourceName":"storage_by_unifyapps_clone_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vUEz3@kOeHk-1@l",
			"id":"wvd3L",
			"index":0,
			"inputs":{
				"recordId":"{{ vUEz3.outputs.item.id }}",
				"object_type":"knowledge",
				"deepClone":false,
				"propertiesToOverride":"{{ 7d2B4.outputs.result.propertiesToOverride }}"
			},
			"skip":false,
			"subTitle":"Knowledge",
			"title":"Clone record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":164,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"kOeHk-1",
			"id":"z3LHj",
			"index":0,
			"inputs":{
				"result":{
					"clonedAgentId":"{{ MGW9v.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":635,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent",
		"Internal"
	],
	"version":86
}