{
	"appsUsed":[
		"microsoft_outlook",
		"storage_by_unifyapps"
	],
	"createdTime":1726267936786,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296269935,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd4d0c3d19149a9e361b",
		"status":"DEPLOYED",
		"version":108,
		"workflowVersion":153
	},
	"edges":[
		{
			"fromNodeId":"whabY",
			"priority":0,
			"skip":false,
			"toNodeId":"_1yQ9R",
			"type":"next"
		},
		{
			"fromNodeId":"_1yQ9R",
			"priority":0,
			"skip":false,
			"toNodeId":"Uphqh",
			"type":"next"
		},
		{
			"fromNodeId":"Uphqh",
			"priority":0,
			"skip":false,
			"toNodeId":"msoHf",
			"type":"next"
		},
		{
			"fromNodeId":"msoHf",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"wvotY",
			"type":"if"
		},
		{
			"fromNodeId":"wvotY",
			"priority":0,
			"skip":false,
			"toNodeId":"QNh1m",
			"type":"next"
		},
		{
			"fromNodeId":"msoHf",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"Z9CHW",
			"type":"next"
		},
		{
			"fromNodeId":"Z9CHW",
			"priority":0,
			"skip":false,
			"toNodeId":"uHxp6",
			"type":"next"
		},
		{
			"fromNodeId":"uHxp6",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"s9WBH",
			"type":"if"
		},
		{
			"fromNodeId":"s9WBH",
			"priority":0,
			"skip":false,
			"toNodeId":"z8SE1",
			"type":"next"
		},
		{
			"fromNodeId":"z8SE1",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"ZrExH",
			"type":"if"
		},
		{
			"fromNodeId":"ZrExH",
			"priority":0,
			"skip":false,
			"toNodeId":"Ww6tf",
			"type":"next"
		},
		{
			"fromNodeId":"Ww6tf",
			"priority":0,
			"skip":false,
			"toNodeId":"YFMJP",
			"type":"next"
		},
		{
			"fromNodeId":"YFMJP",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"I9qe6",
			"type":"if"
		},
		{
			"fromNodeId":"YFMJP",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"QUQpv",
			"type":"next"
		},
		{
			"fromNodeId":"z8SE1",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"FNJft",
			"type":"next"
		},
		{
			"fromNodeId":"uHxp6",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"PrwLL",
			"type":"next"
		},
		{
			"fromNodeId":"PrwLL",
			"priority":0,
			"skip":false,
			"toNodeId":"GIabC",
			"type":"next"
		},
		{
			"fromNodeId":"GIabC",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"9YYuB",
			"type":"if"
		},
		{
			"fromNodeId":"9YYuB",
			"priority":0,
			"skip":false,
			"toNodeId":"NhjZa",
			"type":"next"
		},
		{
			"fromNodeId":"GIabC",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"lAVDf",
			"type":"next"
		},
		{
			"fromNodeId":"QNh1m",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"I9qe6",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"QUQpv",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"FNJft",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"NhjZa",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"lAVDf",
			"priority":0,
			"skip":false,
			"toNodeId":"BzoBD",
			"type":"next"
		},
		{
			"fromNodeId":"BzoBD",
			"priority":0,
			"skip":false,
			"toNodeId":"u07bU",
			"type":"next"
		},
		{
			"fromNodeId":"u07bU",
			"priority":0,
			"skip":false,
			"toNodeId":"r7ygy",
			"type":"next"
		},
		{
			"fromNodeId":"r7ygy",
			"priority":0,
			"skip":false,
			"toNodeId":"RYwQe",
			"type":"next"
		},
		{
			"fromNodeId":"RYwQe",
			"priority":0,
			"skip":false,
			"toNodeId":"iEoY5",
			"type":"next"
		},
		{
			"fromNodeId":"iEoY5",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"KqPlX",
			"type":"if"
		},
		{
			"fromNodeId":"KqPlX",
			"priority":0,
			"skip":false,
			"toNodeId":"EFOkY",
			"type":"next"
		},
		{
			"fromNodeId":"EFOkY",
			"priority":0,
			"skip":false,
			"toNodeId":"7fxzy",
			"type":"next"
		},
		{
			"fromNodeId":"7fxzy",
			"priority":0,
			"skip":false,
			"toNodeId":"JRa3S",
			"type":"next"
		},
		{
			"fromNodeId":"iEoY5",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"JRa3S",
			"type":"next"
		},
		{
			"fromNodeId":"JRa3S",
			"priority":0,
			"skip":false,
			"toNodeId":"m9T0b",
			"type":"next"
		},
		{
			"fromNodeId":"m9T0b",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"fW0si",
			"type":"if"
		},
		{
			"fromNodeId":"fW0si",
			"priority":0,
			"skip":false,
			"toNodeId":"n_A15oq",
			"type":"next"
		},
		{
			"fromNodeId":"m9T0b",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_A15oq",
			"type":"next"
		},
		{
			"fromNodeId":"n_A15oq",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_h0PE7",
			"type":"if"
		},
		{
			"fromNodeId":"n_h0PE7",
			"priority":0,
			"skip":false,
			"toNodeId":"n_yzweo",
			"type":"next"
		},
		{
			"fromNodeId":"n_yzweo",
			"priority":0,
			"skip":false,
			"toNodeId":"n_HrVrt",
			"type":"next"
		},
		{
			"fromNodeId":"n_A15oq",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"vcLLc",
			"type":"next"
		},
		{
			"fromNodeId":"vcLLc",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3gNh0",
			"type":"next"
		},
		{
			"fromNodeId":"n_HrVrt",
			"priority":0,
			"skip":false,
			"toNodeId":"n_24Hma",
			"type":"next"
		},
		{
			"fromNodeId":"n_3gNh0",
			"priority":0,
			"skip":false,
			"toNodeId":"n_24Hma",
			"type":"next"
		},
		{
			"fromNodeId":"n_24Hma",
			"priority":0,
			"skip":false,
			"toNodeId":"n_OoJLq",
			"type":"next"
		},
		{
			"fromNodeId":"n_OoJLq",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3FTti",
			"type":"if"
		},
		{
			"fromNodeId":"n_3FTti",
			"priority":0,
			"skip":false,
			"toNodeId":"_JVpHE",
			"type":"next"
		},
		{
			"fromNodeId":"_JVpHE",
			"priority":0,
			"skip":false,
			"toNodeId":"_rgo5D",
			"type":"next"
		},
		{
			"fromNodeId":"n_OoJLq",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"eYvq0",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66e4c220f82132609342c11f",
	"lastModifiedBy":0,
	"lcName":"execute custom ai agent action",
	"modifiedTime":1761722819987,
	"name":"Execute Custom AI Agent Action",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":52,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"whabY",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"result"
					],
					"properties":{
						"success":{
							"type":"string",
							"title":"Success"
						},
						"result":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Result"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"actionId":{
							"type":"string",
							"title":"Action Id"
						},
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"agentId":{
							"type":"string",
							"title":"Agent Id"
						},
						"agentType":{
							"type":"string",
							"title":"Agent Type"
						},
						"AgentResponseMessageId":{
							"type":"string",
							"title":"Agent Response Message Id"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":9,
				"resourceName":"variable_by_unifyapps_get_session_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"_1yQ9R",
			"index":2,
			"inputs":{
				"variableSchema":{
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Get Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":251,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"Uphqh",
			"index":3,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"runTimeType":{
							"type":"string",
							"title":"Run Time Type"
						},
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"input":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input"
						},
						"resourceName":{
							"type":"string",
							"title":"Resource Name",
							"format":"skip"
						},
						"toolName":{
							"type":"string",
							"title":"Tool Name"
						},
						"actionOutput":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Action Output"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"runTimeType":"{{ __RUN__.outputs.workflowRunTimeType }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"runTimeType":{
							"type":"string",
							"title":"Run Time Type"
						},
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"input":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input"
						},
						"resourceName":{
							"type":"string",
							"title":"Resource Name",
							"format":"skip"
						},
						"toolName":{
							"type":"string",
							"title":"Tool Name"
						},
						"actionOutput":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Action Output"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":323,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"msoHf",
			"index":4,
			"inputs":{
				"filters":[
					{
						"property":"{{ whabY.outputs.agentType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"workflow-gpt"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"workflow gpt",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":364,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"msoHf@M9090-1@y",
			"id":"wvotY",
			"index":5,
			"inputs":{
				"automationId":"67c5193a1fbe213b54cc8c54",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ whabY.outputs.agentId }}",
					"resourceId":"{{ whabY.outputs.actionId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":347,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"msoHf@M9090-1@y",
			"id":"QNh1m",
			"index":6,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.context }}",
						"value":"{{ wvotY.outputs.context }}"
					},
					{
						"source":"{{ Uphqh.outputs.input }}"
					},
					{
						"source":"{{ Uphqh.outputs.resourceName }}",
						"value":"{{ whabY.outputs.actionId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"msoHf@M9090-1@n",
			"id":"Z9CHW",
			"index":7,
			"inputs":{
				"object_type":"e_action_ai_agent",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ whabY.outputs.actionId }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Action",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":125,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"msoHf@M9090-1@n",
			"id":"uHxp6",
			"index":8,
			"inputs":{
				"filters":[
					{
						"property":"{{ Z9CHW.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":339,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"uHxp6@msoHf@M9090-1@n@y",
			"id":"s9WBH",
			"index":9,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.toolName }}",
						"value":"{{ Z9CHW.outputs.properties.name }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":184,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"uHxp6@msoHf@M9090-1@n@y",
			"id":"z8SE1",
			"index":10,
			"inputs":{
				"filters":[
					{
						"property":"{{ Z9CHW.outputs.properties.runTimeConnectionEnabled }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":326,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z8SE1@uHxp6@msoHf@M9090-1@n@y@y",
			"id":"ZrExH",
			"index":11,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_appName",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ Z9CHW.outputs.properties.context.appName }}"
							}
						},
						{
							"property":"properties_userId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ __RUN__.outputs.userId }}"
							}
						},
						{
							"property":"properties_aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ whabY.outputs.agentId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"run_time_connection_store",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":189,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z8SE1@uHxp6@msoHf@M9090-1@n@y@y",
			"id":"Ww6tf",
			"index":12,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"error":{
							"type":"string",
							"title":"Error"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"runTimeConnectionId":{
							"type":"string",
							"title":"Run Time Connection Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(binding.hasVariable('inputs') && inputs._ua_connectionId) {\n  //todo validate the run time connectionId\n    context.connectionId = inputs._ua_connectionId;\n    return [\"context\": context]\n} else if(binding.hasVariable('runTimeConnectionId') && runTimeConnectionId != null) {\n    context.connectionId = runTimeConnectionId;\n    return [\"context\": context]\n}\n\nreturn [\"error\": \"Connection is not present to execute this tool\"]\n",
				"parameters":{
					"context":"{{ Z9CHW.outputs.properties.context }}",
					"inputs":"{{ whabY.outputs.inputs }}",
					"runTimeConnectionId":"{{ ZrExH.outputs.properties.connectionId }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":184,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z8SE1@uHxp6@msoHf@M9090-1@n@y@y",
			"id":"YFMJP",
			"index":13,
			"inputs":{
				"filters":[
					{
						"property":"{{ Ww6tf.outputs.result.error }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"error?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":190,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"YFMJP@z8SE1@uHxp6@msoHf@M9090-1@n@y@y@y",
			"id":"I9qe6",
			"index":14,
			"inputs":{
				"result":{
					"success":"false",
					"result":"{{ Ww6tf.outputs.result }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":347,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"YFMJP@z8SE1@uHxp6@msoHf@M9090-1@n@y@y@n",
			"id":"QUQpv",
			"index":15,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.context }}",
						"value":"{{ Ww6tf.outputs.result.context }}"
					},
					{
						"source":"{{ Uphqh.outputs.input }}",
						"value":"{{ Z9CHW.outputs.properties.inputs }}"
					},
					{
						"source":"{{ Uphqh.outputs.resourceName }}",
						"value":"{{ Z9CHW.outputs.properties.context.resourceName }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":347,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z8SE1@uHxp6@msoHf@M9090-1@n@y@n",
			"id":"FNJft",
			"index":16,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.context }}",
						"value":"{{ Z9CHW.outputs.properties.context }}"
					},
					{
						"source":"{{ Uphqh.outputs.input }}",
						"value":"{{ Z9CHW.outputs.properties.inputs }}"
					},
					{
						"source":"{{ Uphqh.outputs.resourceName }}",
						"value":"{{ Z9CHW.outputs.properties.context.resourceName }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"uHxp6@msoHf@M9090-1@n@n",
			"id":"PrwLL",
			"index":17,
			"inputs":{
				"object_type":"e_node_builder_resource_record",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"id":"{{ whabY.outputs.actionId }}",
				"readThroughSessionVariables":true
			},
			"skip":false,
			"subTitle":"node builder resource record",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":125,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"uHxp6@msoHf@M9090-1@n@n",
			"id":"GIabC",
			"index":18,
			"inputs":{
				"filters":[
					{
						"property":"{{ PrwLL.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":127,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GIabC@uHxp6@msoHf@M9090-1@n@n@y",
			"id":"9YYuB",
			"index":19,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						}
					},
					"additionalProperties":false,
					"required":[
						"context"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"resourceName":{
							"type":"string",
							"title":"Resource Name"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [\"context\":[\"appName\": appName, \"resourceName\":resourceName]]",
				"parameters":{
					"resourceName":"{{ PrwLL.outputs.properties.name }}",
					"appName":"{{ PrwLL.outputs.properties.nodeName }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":347,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GIabC@uHxp6@msoHf@M9090-1@n@n@y",
			"id":"NhjZa",
			"index":20,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.context }}",
						"value":"{{ 9YYuB.outputs.result.context }}"
					},
					{
						"source":"{{ Uphqh.outputs.input }}"
					},
					{
						"source":"{{ Uphqh.outputs.resourceName }}",
						"value":"{{ PrwLL.outputs.properties.name }}"
					},
					{
						"source":"{{ Uphqh.outputs.toolName }}",
						"value":"{{ PrwLL.outputs.properties.name }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":130,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GIabC@uHxp6@msoHf@M9090-1@n@n@n",
			"id":"lAVDf",
			"index":21,
			"inputs":{
				"result":{
					"success":"false",
					"result":"Not able to Execute this tool. Tool seems to be unavailable"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"BzoBD",
			"index":22,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"callSynchronous"
					],
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"callSynchronous":{
							"type":"boolean",
							"title":"Call Synchronous"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"caseId"
					],
					"properties":{
						"inputsFromDecisionEngine":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs From Decision Engine"
						},
						"userFilledInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"User Filled Inputs"
						},
						"resourceName":{
							"type":"string",
							"title":"Resource Name"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"agentId":{
							"type":"string",
							"title":"Agent Id"
						},
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"AgentResponseMessageId":{
							"type":"string",
							"title":"Agent Response Message Id"
						}
					}
				},
				"code":"def processInputs(inputData) {\n    return inputData?._ua_schema_override_ instanceof Map ? inputData._ua_schema_override_ : inputData\n}\n\ndef mergeMaps(existingMap, newMap, context, Map<?, ?> parent = null, Object parentKey = null) {\n    newMap.each { key, value ->\n        if (value instanceof Map) {\n            if (!(existingMap[key] instanceof Map)) {\n                existingMap[key] = [:]\n            }\n            mergeMaps(existingMap[key], value, context ,existingMap, key)\n\n        } else if (value instanceof List) {\n\n            if (!(existingMap[key] instanceof List)) {\n                existingMap[key] = []\n            }\n            if (existingMap[key].size() == 0) {\n                existingMap[key] = value\n            }\n\n            // custom handling, need to move in other automation\n            if (context?.resourceName == \"custom_http_application_execute\" || context?.resourceName == \"custom_http_endpoint_execute\" ){\n                existingMap[key].forEach{ keyVal ->\n                    matchingLlmKeyVal = value.find{it.key == keyVal.key }\n                    keyVal.value = matchingLlmKeyVal.value\n                }\n            }\n\n            // def mergedList = [:]\n            // def existingList = existingMap[key]\n\n            // existingList.each { item ->\n            //     if (item instanceof Map) {\n            //         mergedList[item.hashCode()] = item\n            //     } else {\n            //         mergedList[item] = item\n            //     }\n            // }\n\n            // value.each { item ->\n            //     if (item instanceof Map) {\n            //         def hashedItem = item.hashCode()\n            //         if (!mergedList.containsKey(hashedItem)) {\n            //             mergedList[hashedItem] = item\n            //         }\n            //     } else {\n            //         if (!mergedList.containsKey(item)) {\n            //             mergedList[item] = item\n            //         }\n            //     }\n            // }\n            \n            // existingMap[key] = mergedList.values().toList()\n            \n        } else {\n            if (key instanceof String && key == \"ua:type\") {\n            }\n            else{\n                if (!existingMap.containsKey(key) || existingMap[key] == null || (existingMap[key] instanceof String && existingMap[key].trim().isEmpty())) {\n                    existingMap[key] = value\n                }\n            }\n        }\n    }\n\n    if (existingMap.isEmpty() && parent != null && parentKey != null) {\n        parent.remove(parentKey)\n    }\n    \n}\n\n\ndef cleanMap(Map inputMap) {\n    inputMap.entrySet().removeIf { entry ->\n        def key = entry.key\n        def value = entry.value\n\n        if (value instanceof Map) {\n            cleanMap(value) \n            return value.isEmpty()\n        } else if (value instanceof List) {\n            value.removeIf { it == null || it == '' || (it instanceof Map && cleanMap(it) && it.isEmpty()) }\n            return value.isEmpty()\n        } else {\n            return (value == '' || value == null)\n        }\n    }\n    return inputMap\n}\n\nif (binding.hasVariable('resourceName') && resourceName == \"callables_call_automation\") {\n    def params = userFilledInputs?.parameters ?: [:]\n    def inputsToSubmit = [:]\n    if (binding.hasVariable('inputsFromDecisionEngine')) {\n        inputsToSubmit.putAll(processInputs(inputsFromDecisionEngine))\n    }\n\n    mergeMaps(inputsToSubmit, params, context)\n\n    if (binding.hasVariable('caseId')) {\n        inputsToSubmit[\"caseId\"] = caseId\n    }\n    if (binding.hasVariable('AgentResponseMessageId')) {\n        inputsToSubmit[\"AgentResponseMessageId\"] = AgentResponseMessageId\n    }\n    \n\n    userFilledInputs[\"parameters\"] = inputsToSubmit\n    userFilledInputs[\"timeoutInMillis\"] = 120000\n\n    return [\"inputs\": userFilledInputs, \"callSynchronous\": userFilledInputs?.synchronous ?: false]\n} else {\n    def inputsToSubmit = [:]\n    if (binding.hasVariable('userFilledInputs')) {\n        inputsToSubmit.putAll(userFilledInputs)\n    }\n\n    if (binding.hasVariable('inputsFromDecisionEngine')) {\n        mergeMaps(inputsToSubmit,processInputs(inputsFromDecisionEngine), context)\n    }\n\n    inputsToSubmit = cleanMap(inputsToSubmit) ?: [:]\n\n    if(binding.hasVariable('context') && context.appName == \"custom_http_endpoint\") {\n        def headers = inputsToSubmit?.headersList\n        if(headers == null || headers.isEmpty()) {\n            headers = []\n        }\n        headers.add([\"key\": \"ua-agent-id\", \"value\": agentId])\n        inputsToSubmit.put(\"headersList\", headers)\n    }\n\n    if(binding.hasVariable('context') && context.resourceName == \"custom_http_application_execute\") {\n        def resolvedPath = inputsToSubmit.path\n        def pathParamsList = inputsToSubmit.pathParamsList\n        pathParamsList.forEach { pathParam ->\n            if (pathParam.key != null && pathParam.value != null )\n            resolvedPath = resolvedPath.replace(\":\" + pathParam.key, pathParam.value)\n        }\n        inputsToSubmit.path = resolvedPath\n    }\n\n    return [\"inputs\": inputsToSubmit]\n}",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"inputsFromDecisionEngine":"{{ whabY.outputs.inputs }}",
					"userFilledInputs":"{{ Uphqh.outputs.input }}",
					"resourceName":"{{ Uphqh.outputs.resourceName }}",
					"caseId":"{{ _1yQ9R.outputs.caseId }}",
					"agentId":"{{ whabY.outputs.agentId }}",
					"context":"{{ Uphqh.outputs.context }}",
					"AgentResponseMessageId":"{{ whabY.outputs.AgentResponseMessageId }}"
				}
			},
			"skip":false,
			"subTitle":"prepare inputs",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":185,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"u07bU",
			"index":23,
			"inputs":{
				"automationId":"67d2ec336341135beaf0cb02",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"context":"{{ Uphqh.outputs.context }}",
					"input":"{{ Uphqh.outputs.input }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":175,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"r7ygy",
			"index":24,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"dynamicFieldsPath":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Dynamic Fields Path"
						}
					},
					"additionalProperties":false,
					"required":[
						"dynamicFieldsPath"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputSchemaObj":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input Schema Obj"
						}
					},
					"additionalProperties":false,
					"required":[
						"inputSchemaObj"
					]
				},
				"compile_static":false,
				"code":"def inputSchema = null;\ndef dynamicPath = []\n\nif(binding.hasVariable('inputSchemaObj')){\n    inputSchema = com.unifyapps.infra.utils.JsonUtils.toJSON(inputSchemaObj)\n}\n\ndef dynamicSchema = []\ndef toolInputSchema = inputSchema?.schema\n\nif (toolInputSchema == null || toolInputSchema.type == null){\n    toolInputSchema = [\n        \"type\":\"object\",\n        \"properties\": [:]\n    ]\n}\n\ndef toolInputSchemaMain = toolInputSchema\nif (toolInputSchema?.properties?.containsKey(\"_ua_schema_override_\")){\n    toolInputSchema = toolInputSchema.properties.get(\"_ua_schema_override_\")\n}\ndef schemaLayout = inputSchema?.layout\nprocessSchemaProperties(toolInputSchema.properties, schemaLayout, \"\", dynamicPath)\n\nreturn [\"dynamicPath\": dynamicPath]\n\ndef processSchemaProperties(properties, layout, currentPath, dynamicPath) {\n    properties.each { propName, propValue ->\n        def layoutProps = layout?.get(propName)\n\n        def fullPath = \"\"\n        if (currentPath){\n            fullPath = currentPath + \".\" + propName\n        } else {\n            fullPath = propName\n        }\n\n        if (layoutProps?.get(\"ui:field\") == \"DynamicSchemaField\") {\n            def dynamicFieldName = layoutProps?.get(\"ui:options\")?.get(\"ua:field_name\")\n            \n            def lastElement = fullPath.tokenize('.')\n            def newStr=\"\"\n            if(lastElement.size()>1){\n                lastElement[-1]=dynamicFieldName\n                newStr = lastElement.join('.')\n            } else{\n                newStr=dynamicFieldName;\n            }\n            fullPath = newStr\n            dynamicPath << fullPath\n        }\n        \n        if (propValue.type == \"object\" && propValue.properties != null) {\n            processSchemaProperties(propValue.properties, layoutProps ?: [:], fullPath, dynamicPath)\n        }\n\n        if (propValue.type == \"array\" && propValue.items != null) {\n            processSchemaProperties(propValue.items.properties, layoutProps?.items ? layoutProps?.items : [:], fullPath, dynamicPath)\n        }\n    }\n}\n\ndef getSanitizedName(String header) {\n    def sb = new StringBuilder()\n    header.toCharArray().each { char c ->\n        def k = c.toLowerCase()\n        if (c.isLetterOrDigit()) {\n            sb.append(k)\n        } else {\n            sb.append(\"_\")\n        }\n    }\n    return sb.toString()\n}",
				"parameters":{
					"inputSchemaObj":"{{ u07bU.outputs.schema }}"
				}
			},
			"skip":false,
			"subTitle":"Extracting dynamic fields.",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":435,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"RYwQe",
			"index":25,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"modifiedInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Modified Inputs"
						}
					},
					"additionalProperties":false,
					"required":[
						"modifiedInputs"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"dynamicFieldsPath":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Dynamic Fields Path"
						}
					},
					"additionalProperties":false,
					"required":[
						"inputs",
						"dynamicFieldsPath"
					]
				},
				"compile_static":false,
				"code":"def getValueByPath(map, path) {\n    def keys = path.split(\"\\\\.\")\n    def value = map\n    for (key in keys) {\n        if (!(value instanceof Map) || !value.containsKey(key)) {\n            return null\n        }\n        value = value[key]\n    }\n    return value\n}\n\ndef paths;\nif(!binding.hasVariable('dynamicFieldsPath'))\n{\n    return [\"modifiedInputs\" : inputs]\n}\n\npaths = dynamicFieldsPath\npaths.each { path ->\n    def value = getValueByPath(inputs, path)\n    if (value != null) {\n        def topKey = path.contains(\".\") ? path.split(\"\\\\.\").last() : path\n        inputs[topKey] = value\n    }\n}\n\npaths.each { path ->\n    if (path.contains(\".\")) {\n        def keys = path.split(\"\\\\.\")\n        def parentKey = keys[0]\n        def childKey = keys[-1]\n        if (inputs[parentKey] instanceof Map) {\n            inputs[parentKey].remove(childKey)\n            if (inputs[parentKey].isEmpty()) {\n                inputs.remove(parentKey)\n            }\n        }\n    }\n}\n\nreturn [\"modifiedInputs\" : inputs]",
				"parameters":{
					"inputs":"{{ BzoBD.outputs.result.inputs }}",
					"dynamicFieldsPath":{
						"source":"{{ r7ygy.outputs.result.dynamicFieldsPath }}",
						"ua:type":"mappedArray",
						"items":"{{ r7ygy.outputs.result.dynamicFieldsPath[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Modifying input for dynamic schema",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":178,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"iEoY5",
			"index":26,
			"inputs":{
				"filters":[
					{
						"property":"{{ BzoBD.outputs.result.callSynchronous }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":198,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"iEoY5@M9090-1@y",
			"id":"KqPlX",
			"index":27,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"automationId":{
							"type":"string",
							"title":"Automation Id"
						},
						"parameters":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Parameters"
						}
					},
					"additionalProperties":false,
					"required":[
						"automationId",
						"parameters"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						}
					},
					"additionalProperties":false,
					"required":[
						"context",
						"inputs"
					]
				},
				"compile_static":false,
				"code":"return [\"automationId\": inputs.automationId, \"parameters\":inputs.parameters ]",
				"parameters":{
					"context":"{{ Uphqh.outputs.context }}",
					"inputs":"{{ Uphqh.outputs.input }}"
				}
			},
			"skip":false,
			"subTitle":"get callable inputs",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":211,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"iEoY5@M9090-1@y",
			"id":"EFOkY",
			"index":28,
			"inputs":{
				"automationId":"{{ KqPlX.outputs.result.automationId }}",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":"{{ KqPlX.outputs.result.parameters }}"
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":183,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"iEoY5@M9090-1@y",
			"id":"7fxzy",
			"index":29,
			"inputs":{
				"result":{
					"success":"true",
					"result":"{{ EFOkY.outputs }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":342,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"JRa3S",
			"index":30,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"appName":{
							"type":"string",
							"title":"App Name"
						},
						"resourceName":{
							"type":"string",
							"title":"Resource Name"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						}
					}
				},
				"code":"return [\"appName\": context?.appName,\"resourceName\":context?.resourceName?:\"\"]",
				"compile_static":false,
				"parameters":{
					"context":"{{ Uphqh.outputs.context }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":333,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"m9T0b",
			"index":31,
			"inputs":{
				"filters":[
					{
						"property":"{{ JRa3S.outputs.result.appName }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":352,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"m9T0b@M9090-1@y",
			"id":"fW0si",
			"index":32,
			"inputs":{
				"automationId":"681c81e891321b2f5fc0983c",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ _1yQ9R.outputs.caseId }}",
					"aiAgentId":"{{ whabY.outputs.agentId }}",
					"appName":"{{ JRa3S.outputs.result.appName }}",
					"toolName":"{{ Uphqh.outputs.toolName }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"n_A15oq",
			"index":33,
			"inputs":{
				"filters":[
					{
						"property":"{{ JRa3S.outputs.result.resourceName }}",
						"filter":{
							"operator":"EQUAL",
							"value":"microsoft_outlook_get_attachments"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_A15oq@M9090-1@y",
			"id":"n_h0PE7",
			"index":34,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"attachmentId":{
							"type":"string",
							"title":"Attachment Id"
						},
						"mailBoxId":{
							"type":"string",
							"title":"Mail Box Id"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						}
					}
				},
				"code":"def inputs=binding.hasVariable(\"inputs\")?inputs:null\nif(inputs!=null)\n{\n  return[\"messageId\":inputs?.messageId?:null,\"attachmentId\":inputs?.attachmentId?:null,\"mailBoxId\":inputs?.mailBoxId?:null]\n}\nreturn [\"messageId\":null,\"attachmentId\":null,\"mailBoxId\":null]",
				"compile_static":false,
				"parameters":{
					"inputs":"{{ RYwQe.outputs.result.modifiedInputs }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"microsoft_outlook",
				"resourceVersion":2393,
				"connectionId":"67ace322547f683cd2829990",
				"resourceName":"microsoft_outlook_get_attachments",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_A15oq@M9090-1@y",
			"id":"n_yzweo",
			"index":35,
			"inputs":{
				"messageId":"{{ n_h0PE7.outputs.result.messageId }}",
				"mailBoxId":"{{ n_h0PE7.outputs.result.mailBoxId }}",
				"attachmentId":"{{ n_h0PE7.outputs.result.attachmentId }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Microsoft Outlook",
			"title":"Retrieve Attachement",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_A15oq@M9090-1@y",
			"id":"n_HrVrt",
			"index":36,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.actionOutput }}",
						"value":"{{ n_yzweo.outputs }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"custom_application",
				"resourceVersion":0,
				"resourceName":"custom_application_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_A15oq@M9090-1@n",
			"id":"vcLLc",
			"index":37,
			"inputs":{
				"input":"{{ RYwQe.outputs.result.modifiedInputs }}",
				"context":"{{ Uphqh.outputs.context }}"
			},
			"skip":false,
			"subTitle":"Custom Application",
			"title":"Execute Custom Application Request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_A15oq@M9090-1@n",
			"id":"n_3gNh0",
			"index":38,
			"inputs":{
				"variables":[
					{
						"source":"{{ Uphqh.outputs.actionOutput }}",
						"value":"{{ vcLLc.outputs }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":464,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"n_24Hma",
			"index":39,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_appName",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ Uphqh.outputs.context.appName }}"
							}
						},
						{
							"property":"properties_resourceName",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ Uphqh.outputs.context.resourceName }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"agent_tool_processing_automation",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"AgentToolProcessingAutomation",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":438,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"M9090-1",
			"id":"n_OoJLq",
			"index":40,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_24Hma.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_OoJLq@M9090-1@y",
			"id":"n_3FTti",
			"index":41,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"context":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Context"
						},
						"automationInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Automation Inputs"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"automationId":{
							"type":"string",
							"title":"Automation Id"
						},
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						}
					}
				},
				"code":"return [\n  \"automationInputs\": [\n    \"automationId\": automationId,\n    \"runtimeConnections\": [:],\n    \"synchronous\": true,\n    \"version\": \"-1\",\n    \"parameters\": [\n      \"inputs\": binding.hasVariable(\"inputs\") ? binding.getVariable(\"inputs\") : [:]\n    ]\n  ],\n  \"context\": [\n    \"appName\": \"callables\",\n    \"resourceName\": \"callables_call_automation\"\n  ]\n]",
				"compile_static":false,
				"parameters":{
					"automationId":"{{ n_24Hma.outputs.properties.automationId }}",
					"inputs":"{{ Uphqh.outputs.actionOutput }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"custom_application",
				"resourceVersion":0,
				"resourceName":"custom_application_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_OoJLq@M9090-1@y",
			"id":"_JVpHE",
			"index":42,
			"inputs":{
				"input":"{{ n_3FTti.outputs.result.automationInputs }}",
				"context":"{{ n_3FTti.outputs.result.context }}"
			},
			"skip":false,
			"subTitle":"Custom Application",
			"title":"Execute Custom Application Request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_OoJLq@M9090-1@y",
			"id":"_rgo5D",
			"index":43,
			"inputs":{
				"result":{
					"success":"true",
					"result":"{{ _JVpHE.outputs.toolOutput }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_OoJLq@M9090-1@n",
			"id":"eYvq0",
			"index":44,
			"inputs":{
				"result":{
					"success":"true",
					"result":"{{ Uphqh.outputs.actionOutput }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1866,
	"runtimeConnectionAppNames":[
		"microsoft_outlook"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":155
}