{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1749457396253,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1761674854645,
		"deployedBy":0,
		"deployedDefinitionId":"69010666cb9893140dafaef4",
		"status":"DEPLOYED",
		"version":95,
		"workflowVersion":159
	},
	"edges":[
		{
			"fromNodeId":"n_Bobdh",
			"priority":0,
			"skip":false,
			"toNodeId":"Vvsvb",
			"type":"next"
		},
		{
			"fromNodeId":"Vvsvb",
			"priority":0,
			"skip":false,
			"toNodeId":"n_La6wu",
			"type":"next"
		},
		{
			"fromNodeId":"n_La6wu",
			"priority":0,
			"skip":false,
			"toNodeId":"n_45RQx",
			"type":"next"
		},
		{
			"fromNodeId":"n_45RQx",
			"priority":0,
			"skip":false,
			"toNodeId":"n_JH5g6",
			"type":"next"
		},
		{
			"fromNodeId":"n_JH5g6",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iiFIH",
			"type":"next"
		},
		{
			"fromNodeId":"n_iiFIH",
			"priority":0,
			"skip":false,
			"toNodeId":"n_cQS7g",
			"type":"loop"
		},
		{
			"fromNodeId":"n_cQS7g",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_2rl2U",
			"type":"if"
		},
		{
			"fromNodeId":"n_cQS7g",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_IlDOC",
			"type":"next"
		},
		{
			"fromNodeId":"n_2rl2U",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iiFIH",
			"type":"next"
		},
		{
			"fromNodeId":"n_IlDOC",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iiFIH",
			"type":"next"
		},
		{
			"fromNodeId":"n_iiFIH",
			"priority":0,
			"skip":false,
			"toNodeId":"n_CZkBw",
			"type":"next"
		},
		{
			"fromNodeId":"n_CZkBw",
			"priority":0,
			"skip":false,
			"toNodeId":"n_5KiY8",
			"type":"loop"
		},
		{
			"fromNodeId":"n_5KiY8",
			"priority":0,
			"skip":false,
			"toNodeId":"n_vmk4k",
			"type":"next"
		},
		{
			"fromNodeId":"n_vmk4k",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_aub1v",
			"type":"if"
		},
		{
			"fromNodeId":"n_aub1v",
			"priority":0,
			"skip":false,
			"toNodeId":"BzHDE",
			"type":"next"
		},
		{
			"fromNodeId":"n_vmk4k",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"BzHDE",
			"type":"next"
		},
		{
			"fromNodeId":"BzHDE",
			"priority":0,
			"skip":false,
			"toNodeId":"n_BTfjx",
			"type":"next"
		},
		{
			"fromNodeId":"n_BTfjx",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Vmcm2",
			"type":"next"
		},
		{
			"fromNodeId":"n_Vmcm2",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8xPXl",
			"type":"next"
		},
		{
			"fromNodeId":"n_8xPXl",
			"priority":0,
			"skip":false,
			"toNodeId":"WI0QX",
			"type":"next"
		},
		{
			"fromNodeId":"WI0QX",
			"priority":0,
			"skip":false,
			"toNodeId":"n_RXoUK",
			"type":"next"
		},
		{
			"fromNodeId":"n_RXoUK",
			"priority":0,
			"skip":false,
			"toNodeId":"n_K4tvK",
			"type":"next"
		},
		{
			"fromNodeId":"n_K4tvK",
			"priority":0,
			"skip":false,
			"toNodeId":"n_2w9WP",
			"type":"next"
		},
		{
			"fromNodeId":"n_2w9WP",
			"priority":0,
			"skip":false,
			"toNodeId":"n_a5zs5",
			"type":"next"
		},
		{
			"fromNodeId":"n_a5zs5",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_mzc57",
			"type":"next"
		},
		{
			"fromNodeId":"_mzc57",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"n_rq3Q4",
			"type":"next"
		},
		{
			"fromNodeId":"_mzc57",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"_2B791",
			"type":"error"
		},
		{
			"fromNodeId":"_2B791",
			"priority":0,
			"skip":false,
			"toNodeId":"_EvcCq",
			"type":"next"
		},
		{
			"fromNodeId":"n_a5zs5",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Vt2s7",
			"type":"if"
		},
		{
			"fromNodeId":"n_rq3Q4",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Vt2s7",
			"type":"next"
		},
		{
			"fromNodeId":"_EvcCq",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Vt2s7",
			"type":"next"
		},
		{
			"fromNodeId":"n_Vt2s7",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_1w4HK",
			"type":"if"
		},
		{
			"fromNodeId":"_1w4HK",
			"priority":0,
			"skip":false,
			"toNodeId":"_63Kfx",
			"type":"next"
		},
		{
			"fromNodeId":"_63Kfx",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ra21e",
			"type":"if"
		},
		{
			"fromNodeId":"_Ra21e",
			"priority":0,
			"skip":false,
			"toNodeId":"_ure5o",
			"type":"next"
		},
		{
			"fromNodeId":"_63Kfx",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_c8bUS",
			"type":"next"
		},
		{
			"fromNodeId":"_c8bUS",
			"priority":0,
			"skip":false,
			"toNodeId":"_6hfEf",
			"type":"next"
		},
		{
			"fromNodeId":"_ure5o",
			"priority":0,
			"skip":false,
			"toNodeId":"n_tTO3T",
			"type":"next"
		},
		{
			"fromNodeId":"_6hfEf",
			"priority":0,
			"skip":false,
			"toNodeId":"n_tTO3T",
			"type":"next"
		},
		{
			"fromNodeId":"n_Vt2s7",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_tTO3T",
			"type":"next"
		},
		{
			"fromNodeId":"n_tTO3T",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ICqJ5",
			"type":"next"
		},
		{
			"fromNodeId":"n_ICqJ5",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_CZkBw",
			"type":"next"
		},
		{
			"fromNodeId":"n_CZkBw",
			"priority":0,
			"skip":false,
			"toNodeId":"_ndwzp",
			"type":"next"
		},
		{
			"fromNodeId":"_ndwzp",
			"priority":0,
			"skip":false,
			"toNodeId":"n_k43pN",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"684660e73f3a1f2a8ec2f7a7",
	"lastModifiedBy":0,
	"lcName":"eval | experiment | run a conversational testcase",
	"modifiedTime":1761722687900,
	"name":"Eval | Experiment | Run a Conversational Testcase",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":413,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_Bobdh",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"experimentId":{
							"type":"string",
							"title":"Experiment Id"
						},
						"metricIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Metric Ids"
						},
						"runId":{
							"type":"string",
							"title":"Run Id"
						},
						"signal":{
							"type":"object",
							"properties":{
								"index":{
									"type":"integer",
									"title":"index"
								},
								"parentExecutionId":{
									"type":"string",
									"title":"parentExecutionId"
								},
								"runtimeType":{
									"type":"string",
									"title":"runtimeType"
								}
							},
							"title":"signal",
							"additionalProperties":false
						},
						"task":{
							"type":"object",
							"properties":{
								"aiAgentId":{
									"type":"string",
									"title":"Ai Agent Id"
								},
								"task":{
									"type":"string",
									"title":"Task"
								},
								"automationId":{
									"type":"string",
									"title":"Automation Id"
								}
							},
							"title":"task",
							"additionalProperties":false,
							"required":[]
						},
						"test_cases":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"id"
									},
									"properties":{
										"type":"object",
										"properties":{
											"dataset_ids":{
												"type":"array",
												"items":{
													"type":"string"
												},
												"title":"dataset_ids"
											},
											"datasetId":{
												"type":"string",
												"title":"Dataset Id"
											},
											"name":{
												"type":"string",
												"title":"Name"
											},
											"agent_role":{
												"type":"string",
												"title":"Agent Role"
											},
											"dataset_import_order":{
												"type":"integer",
												"title":"Dataset Import Order"
											}
										},
										"title":"properties",
										"additionalProperties":false,
										"required":[]
									},
									"props":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"props",
										"required":[]
									}
								},
								"additionalProperties":false,
								"required":[
									"props"
								]
							},
							"title":"test_cases"
						},
						"type":{
							"type":"string",
							"title":"Type"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":159,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"Vvsvb",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"successCount":{
							"type":"integer",
							"title":"Success Count"
						},
						"failureCount":{
							"type":"integer",
							"title":"Failure Count"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"successCount":0,
				"failureCount":0
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"successCount":{
							"type":"integer",
							"title":"Success Count"
						},
						"failureCount":{
							"type":"integer",
							"title":"Failure Count"
						},
						"_ua_variableDetails":{
							"type":"array",
							"title":"Variable Details",
							"items":{
								"type":"object",
								"properties":{
									"description":{
										"description":"Description of the variable",
										"type":"string"
									},
									"dataType":{
										"description":"Data type of the variable",
										"type":"string"
									},
									"name":{
										"description":"Name of the variable",
										"type":"string"
									}
								}
							}
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_get_records_by_ids",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_La6wu",
			"index":3,
			"inputs":{
				"object_type":"e_ai_evaluation_metric",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"ids":{
					"ua:type":"mappedArray",
					"source":"{{ n_Bobdh.outputs.metricIds }}",
					"items":"{{ n_Bobdh.outputs.metricIds[0] }}"
				},
				"translationsOption":"DEFAULT",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Get records by IDs",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_45RQx",
			"index":4,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"LLM metric Ids",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"LLM metric Ids",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						},
						"_ua_variableDetails":{
							"type":"array",
							"title":"Variable Details",
							"items":{
								"type":"object",
								"properties":{
									"description":{
										"description":"Description of the variable",
										"type":"string"
									},
									"dataType":{
										"description":"Data type of the variable",
										"type":"string"
									},
									"name":{
										"description":"Name of the variable",
										"type":"string"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_JH5g6",
			"index":5,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"CONVERSATIONAL and Derived Metric Ids",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"CONVERSATIONAL and Derived Metric Ids",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":453,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_iiFIH",
			"index":6,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ n_La6wu.outputs.objects }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":437,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_iiFIH@_ly4GZ-1@l",
			"id":"n_cQS7g",
			"index":7,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_iiFIH.outputs.item.properties.testCaseType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"LLM"
						}
					},
					{
						"property":"{{ n_iiFIH.outputs.item.properties.type }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"DERIVED"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_cQS7g@n_iiFIH@_ly4GZ-1@l@y",
			"id":"n_2rl2U",
			"index":8,
			"inputs":{
				"itemToAdd":"{{ n_iiFIH.outputs.item.id }}",
				"insertLocation":"END",
				"listName":"{{ n_45RQx.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_cQS7g@n_iiFIH@_ly4GZ-1@l@n",
			"id":"n_IlDOC",
			"index":9,
			"inputs":{
				"itemToAdd":"{{ n_iiFIH.outputs.item.id }}",
				"insertLocation":"END",
				"listName":"{{ n_JH5g6.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":420,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_CZkBw",
			"index":10,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ n_Bobdh.outputs.test_cases }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":536,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_5KiY8",
			"index":11,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_runId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Bobdh.outputs.runId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"experiment_runs",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_vmk4k",
			"index":12,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_5KiY8.outputs.properties.AvgTestCaseRunTime }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ n_5KiY8.outputs.properties.AvgTestCaseRunTime }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":464,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_vmk4k@n_CZkBw@_ly4GZ-1@l@y",
			"id":"n_aub1v",
			"index":13,
			"inputs":{
				"automationId":"68a3031f114434151c5a3a63",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"timeTakenForSingleTestCase":"{{ n_5KiY8.outputs.properties.AvgTestCaseRunTime }}",
					"runId":"{{ n_Bobdh.outputs.runId }}",
					"experimentId":"{{ n_Bobdh.outputs.experimentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":679,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"BzHDE",
			"index":14,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"testCaseStartTime":{
							"type":"number",
							"title":"Test Case Start Time"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"testCaseStartTime":"=(NOW() - DATE(1970,1,1)) * 86400"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"testCaseStartTime":{
							"type":"number",
							"title":"Test Case Start Time"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":537,
				"resourceName":"storage_by_unifyapps_count_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_BTfjx",
			"index":15,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_conversationId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_CZkBw.outputs.item.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"llm_test_case"
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Count records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":441,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_Vmcm2",
			"index":16,
			"inputs":{
				"loop":"n_CZkBw",
				"conditions":{
					"filters":[
						{
							"property":"{{ n_BTfjx.outputs.count }}",
							"filter":{
								"operator":"EQUAL",
								"value":"0"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":812,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_8xPXl",
			"index":17,
			"inputs":{
				"automationId":"687b9867f373029c2489736a",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"conversationId":"{{ n_CZkBw.outputs.item.id }}",
					"runId":"{{ n_Bobdh.outputs.runId }}",
					"experimentId":"{{ n_Bobdh.outputs.experimentId }}",
					"task":{
						"aiAgentId":"{{ n_Bobdh.outputs.task.aiAgentId }}",
						"task":"{{ n_Bobdh.outputs.task.task }}",
						"automationId":"{{ n_Bobdh.outputs.task.automationId }}"
					},
					"llmMetricIds":{
						"source":"{{ n_45RQx.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ n_45RQx.outputs.items[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.testCases.items.input",
					"root.parameters.testCases.items.actual_output",
					"root.parameters.testCases.items.expected_output",
					"root.parameters.testCases.items.context",
					"root.parameters.testCases.items.expected_tools.items",
					"root.parameters.testCases.items.tools_used.items",
					"root.parameters.testCases.items.retrieved_context",
					"root.parameters.testCases.items.cost",
					"root.parameters.testCases.items.latency",
					"root.parameters.testCases.items.additional",
					"root.parameters.testCases.items.additional_output_properties"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"WI0QX",
			"index":18,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"testCase"
					],
					"properties":{
						"testCase":{
							"type":"string",
							"title":"Test Case"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"testCases":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"input":{
										"type":"string",
										"title":"Input"
									},
									"actual_output":{
										"type":"string",
										"title":"Actual Output"
									},
									"expected_output":{
										"type":"string",
										"title":"Expected Output"
									},
									"context":{
										"type":"string",
										"title":"Context"
									},
									"expected_tools":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Expected Tools"
									},
									"tools_used":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Tools Used"
									},
									"retrieved_context":{
										"type":"string",
										"title":"Retrieved Context"
									},
									"cost":{
										"type":"number",
										"title":"Cost"
									},
									"latency":{
										"type":"number",
										"title":"Latency"
									},
									"additional":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"Additional Input Properties"
									},
									"additional_output_properties":{
										"type":"object",
										"properties":{},
										"additionalProperties":false,
										"title":"Additional Output Properties"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Test Cases"
						},
						"agent_role":{
							"type":"string",
							"title":"Agent Role"
						}
					}
				},
				"code":"def safe = { val ->\n    if (val == null) return \"\"\n    \n    String content = val.toString()\n    \n    // Handle already-escaped content properly\n    content = content.replace('\\\\\\\\', '\\u0001TEMP_BACKSLASH\\u0001')\n                    .replace('\\\\\"', '\\u0002TEMP_QUOTE\\u0002')      \n                    .replace('\\\\n', '\\n')                          \n                    .replace('\\\\r', '\\r')                          \n                    .replace('\\\\t', '\\t')                          \n    \n    // Proper JSON escaping\n    content = content.replace('\\\\', '\\\\\\\\')                        \n                    .replace('\"', '\\\\\"')                           \n                    .replace('\\n', '\\\\n')                          \n                    .replace('\\r', '\\\\r')                          \n                    .replace('\\t', '\\\\t')                          \n                    .replace('\\b', '\\\\b')                          \n                    .replace('\\f', '\\\\f')                          \n    \n    // Restore temporarily stored characters\n    content = content.replace('\\u0001TEMP_BACKSLASH\\u0001', '\\\\\\\\')  \n                    .replace('\\u0002TEMP_QUOTE\\u0002', '\\\\\"')\n    \n    return content\n}\n\n// Safe list formatter with proper escaping\ndef safeList = { list ->\n    if (list == null || list.isEmpty()) return \"\"\n    \n    return list.collect { item ->\n        \"\\\"${safe(item.toString())}\\\"\"\n    }.join(\", \")\n}\n\n// Build JSON string\ndef jsonBuilder = new StringBuilder()\njsonBuilder.append('{\\n  \"testCases\": [\\n')\n\ndef testCases = binding.hasVariable('testCases') ? binding.getVariable('testCases') : []\ndef agent_role = binding.hasVariable('agent_role') ? binding.getVariable('agent_role') : \"\"\n\n// Add testCases array\ntestCases.eachWithIndex { tc, idx ->\n    jsonBuilder.append(\"\"\"    {\n      \"INPUT\": \"${safe(tc.input)}\",\n      \"ACTUAL_OUTPUT\": \"${safe(tc.actual_output)}\",\n      \"EXPECTED_OUTPUT\": \"${safe(tc.expected_output)}\",\n      \"CONTEXT\": \"${safe(tc.context)}\",\n      \"TOOLS_USED\": [${safeList(tc.tools_used)}],\n      \"EXPECTED_TOOLS\": [${safeList(tc.expected_tools)}],\n      \"RETRIEVAL_CONTEXT\": \"${safe(tc.retrieved_context)}\", //DO NOT CHANGE THE KEY (needs to be RETRIEVAL_CONTEXT for correct metric evaluation)\n      \"LATENCY\": \"${safe(tc.latency)}\",\n      \"COST\": \"${safe(tc.cost)}\",\n      \"ADDITIONAL\": \"${binding.hasVariable('additional') ? safe(additional) : \"\"}\",\n        \"ADDITIONAL_OUTPUT_PROPERTIES\": \"${binding.hasVariable('additional_output_properties') ? safe(additional_output_properties) : \"\"}\"\n    }\"\"\")\n    if (idx < testCases.size() - 1) jsonBuilder.append(\",\")\n    jsonBuilder.append(\"\\n\")\n}\n\njsonBuilder.append(\"  ],\\n\")\njsonBuilder.append(\"  \\\"TURNS\\\": ${testCases.size()},\\n\")\njsonBuilder.append(\"  \\\"AGENT_ROLE\\\": \\\"${safe(agent_role)}\\\"\\n\")\njsonBuilder.append(\"}\")\n\nreturn [testCase: jsonBuilder.toString()]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"agent_role":"{{ n_CZkBw.outputs.item.properties.agent_role }}",
					"testCases":{
						"ua:type":"mappedArray",
						"items":{
							"expected_tools":{
								"ua:type":"mappedArray",
								"source":"{{ n_8xPXl.outputs.params[0].expected_tools }}",
								"items":"{{ n_8xPXl.outputs.params[0].expected_tools[0] }}"
							},
							"input":"{{ n_8xPXl.outputs.params[0].input }}",
							"actual_output":"{{ n_8xPXl.outputs.params[0].actual_output }}",
							"expected_output":"{{ n_8xPXl.outputs.params[0].expected_output }}",
							"context":"{{ n_8xPXl.outputs.params[0].context }}",
							"tools_used":{
								"source":"{{ n_8xPXl.outputs.params[0].tools_used }}",
								"ua:type":"mappedArray",
								"items":"{{ n_8xPXl.outputs.params[0].tools_used[0] }}"
							},
							"retrieved_context":"{{ n_8xPXl.outputs.params[0].retrieved_context }}",
							"cost":"{{ n_8xPXl.outputs.params[0].cost }}",
							"latency":"{{ n_8xPXl.outputs.params[0].latency }}",
							"additional":"{{ n_8xPXl.outputs.params[0].additional }}",
							"additional_output_properties":"{{ n_8xPXl.outputs.params[0].additional_output_properties }}"
						},
						"source":"{{ n_8xPXl.outputs.params }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.testCases.items.input",
					"root.parameters.testCases.items.actual_output",
					"root.parameters.testCases.items.expected_output",
					"root.parameters.testCases.items.context",
					"root.parameters.testCases.items.expected_tools.items",
					"root.parameters.testCases.items.retrieval_context",
					"root.parameters.testCases.items.tools_called.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":417,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_RXoUK",
			"index":19,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"inputString":{
							"type":"string",
							"title":"Input String"
						},
						"expectedOutputString":{
							"type":"string",
							"title":"Expected Output String"
						},
						"actualOutputString":{
							"type":"string",
							"title":"Actual Output String"
						},
						"contextString":{
							"type":"string",
							"title":"Context String"
						},
						"retrievalContextString":{
							"type":"string",
							"title":"Retrieval Context String"
						},
						"expectedToolsArray":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Expected Tools Array"
						},
						"toolsCalledArray":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Tools Called Array"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"testCases":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"input":{
										"type":"string",
										"title":"Input"
									},
									"actual_output":{
										"type":"string",
										"title":"Actual Output"
									},
									"expected_output":{
										"type":"string",
										"title":"Expected Output"
									},
									"context":{
										"type":"string",
										"title":"Context"
									},
									"expected_tools":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Expected Tools"
									},
									"retrieval_context":{
										"type":"string",
										"title":"Retrieval Context"
									},
									"tools_called":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Tools Called"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Test Cases"
						}
					}
				},
				"code":"\nString toJsonString(Object obj) {\n    if (obj == null) {\n        return \"null\"\n    } else if (obj instanceof Map) {\n        def entries = obj.collect { k, v -> \"\\\"${k}\\\":${toJsonString(v)}\" }\n        return \"{${entries.join(\",\")}}\"\n    } else if (obj instanceof List) {\n        def items = obj.collect { toJsonString(it) }\n        return \"[${items.join(\",\")}]\"\n    } else if (obj instanceof String) {\n        return \"\\\"${obj.replaceAll('\"', '\\\\\"')}\\\"\"\n    } else {\n        // numbers, booleans, etc.\n        return obj.toString()\n    }\n}\n\n\n\ndef inputMap = [:]\ndef expectedOutputMap = [:]\ndef actualOutputMap = [:]\ndef contextMap = [:]\ndef retrievalContextMap = [:]\n\ndef expectedToolsArray = []\ndef toolsCalledArray = []\n\ndef testCases = binding.hasVariable('testCases') ? binding.getVariable('testCases') : []\n\ntestCases.eachWithIndex { tc, i ->\n    def idx = i + 1\n     inputMap[\"input${idx}\"] = tc.input\n    expectedOutputMap[\"expectedOutput${idx}\"] = tc.expected_output\n    actualOutputMap[\"actualOutput${idx}\"] = tc.actual_output\n    contextMap[\"context${idx}\"] = tc.context\n    retrievalContextMap[\"retrievalContext${idx}\"] = tc.retrieval_context\n\n    expectedToolsArray << [ (\"expectedTools\" + idx) : tc.expected_tools ]\n    def toolsCalledMap = [\"toolsCalled${idx}\" : tc.tools_called]\n    toolsCalledArray << toJsonString(toolsCalledMap)\n}\n\n\nreturn [\n    \"inputString\"             : toJsonString(inputMap),\n    \"expectedOutputString\"    : toJsonString(expectedOutputMap),\n    \"actualOutputString\"      : toJsonString(actualOutputMap),\n    \"contextString\"           : toJsonString(contextMap),\n    \"retrievalContextString\"  : toJsonString(retrievalContextMap),\n    \"expectedToolsString\"     : expectedToolsArray,\n    \"toolsCalledString\"       : toolsCalledArray\n]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"testCases":{
						"ua:type":"mappedArray",
						"items":{
							"expected_tools":{
								"ua:type":"mappedArray",
								"source":"{{ n_8xPXl.outputs.params[0].expected_tools }}",
								"items":"{{ n_8xPXl.outputs.params[0].expected_tools[0] }}"
							},
							"tools_called":{
								"ua:type":"mappedArray",
								"source":"{{ n_8xPXl.outputs.params[0].tools_used }}",
								"items":"{{ n_8xPXl.outputs.params[0].tools_used[0] }}"
							},
							"input":"{{ n_8xPXl.outputs.params[0].input }}",
							"actual_output":"{{ n_8xPXl.outputs.params[0].actual_output }}",
							"expected_output":"{{ n_8xPXl.outputs.params[0].expected_output }}",
							"context":"{{ n_8xPXl.outputs.params[0].context }}",
							"retrieval_context":"{{ n_8xPXl.outputs.params[0].retrieved_context }}"
						},
						"source":"{{ n_8xPXl.outputs.params }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.tool_called.items",
					"root.record.testCaseObject.expected_output",
					"root.record.testCaseObject.context",
					"root.record.testCaseObject.expected_tools.items",
					"root.record.testCaseObject.datasetId",
					"root.record.testCaseObject.conversationId",
					"root.record.testCaseObject.dataset_ids.items",
					"root.record.metricScores.items.metricId",
					"root.record.metricScores.items.score",
					"root.record.metricScores.items.result",
					"root.record.metricScores.items.comment",
					"root.record.metricScores.items.reason",
					"root.record.metricScores.items.scoredBy",
					"root.record.metricScores.items.cost",
					"root.record.metricScores.items.latency",
					"root.record.metricScores.items.totalTokens",
					"root.record.testCaseObject.additionalInputProperties",
					"root.record.testCaseObject.dataset_import_order"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":413,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_K4tvK",
			"index":20,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"test_case_runs",
				"skipIfBlank":false,
				"record":{
					"runId":"{{ n_Bobdh.outputs.runId }}",
					"experimentId":"{{ n_Bobdh.outputs.experimentId }}",
					"type":"{{ n_Bobdh.outputs.type }}",
					"testCaseId":"{{ n_CZkBw.outputs.item.id }}",
					"actualOutput":"{{ n_RXoUK.outputs.result.actualOutputString }}",
					"retrieval_context":"{{ n_RXoUK.outputs.result.retrievalContextString }}",
					"testCaseObject":{
						"input":"{{ n_RXoUK.outputs.result.inputString }}",
						"expected_output":"{{ n_RXoUK.outputs.result.expectedOutputString }}",
						"context":"{{ n_RXoUK.outputs.result.contextString }}",
						"datasetId":"{{ n_CZkBw.outputs.item.properties.datasetId }}",
						"conversationId":"{{ n_CZkBw.outputs.item.id }}",
						"dataset_import_order":"{{ n_CZkBw.outputs.item.properties.dataset_import_order }}",
						"expected_tools":{
							"ua:type":"mappedArray",
							"source":"{{ n_RXoUK.outputs.result.expectedToolsArray }}",
							"items":"{{ n_RXoUK.outputs.result.expectedToolsArray[0] }}"
						},
						"dataset_ids":{
							"source":"{{ n_CZkBw.outputs.item.properties.dataset_ids }}",
							"ua:type":"mappedArray",
							"items":"{{ n_CZkBw.outputs.item.properties.dataset_ids[0] }}"
						}
					},
					"tool_called":{
						"source":"{{ n_RXoUK.outputs.result.toolsCalledArray }}",
						"ua:type":"mappedArray",
						"items":"{{ n_RXoUK.outputs.result.toolsCalledArray[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":862,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_2w9WP",
			"index":21,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"didMetricEvaluationThrowError":{
							"type":"boolean",
							"title":"Did Metric Evaluation Throw Error"
						},
						"isMetricEvaluationSuccess":{
							"type":"boolean",
							"title":"Is Metric Evaluation Success"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"didMetricEvaluationThrowError":true,
				"isMetricEvaluationSuccess":false
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"didMetricEvaluationThrowError":{
							"type":"boolean",
							"title":"Did Metric Evaluation Throw Error"
						},
						"isMetricEvaluationSuccess":{
							"type":"boolean",
							"title":"Is Metric Evaluation Success"
						},
						"_ua_variableDetails":{
							"type":"array",
							"title":"Variable Details",
							"items":{
								"type":"object",
								"properties":{
									"description":{
										"description":"Description of the variable",
										"type":"string"
									},
									"dataType":{
										"description":"Data type of the variable",
										"type":"string"
									},
									"name":{
										"description":"Name of the variable",
										"type":"string"
									}
								}
							}
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":437,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_a5zs5",
			"index":22,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ n_JH5g6.outputs.items }})",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":173,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"n_a5zs5@n_CZkBw@_ly4GZ-1@l@n",
			"id":"_mzc57",
			"index":23,
			"inputs":{
				"automationId":"67e4035790bf8d15ec77df47",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"testCaseType":"Conversational",
					"testCase":"{{ WI0QX.outputs.result.testCase }}",
					"testCaseRunId":"{{ n_K4tvK.outputs.id }}",
					"runId":"{{ n_Bobdh.outputs.runId }}",
					"experimentId":"{{ n_Bobdh.outputs.experimentId }}",
					"testCaseId":"{{ n_CZkBw.outputs.item.id }}",
					"metricIds":{
						"source":"{{ n_JH5g6.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ n_JH5g6.outputs.items[0] }}"
					}
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":792,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_mzc57@n_a5zs5@n_CZkBw@_ly4GZ-1@l@n@success",
			"id":"n_rq3Q4",
			"index":24,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_2w9WP.outputs.didMetricEvaluationThrowError }}",
						"value":false
					},
					{
						"source":"{{ n_2w9WP.outputs.isMetricEvaluationSuccess }}",
						"value":"{{ _mzc57.outputs.success }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_mzc57@n_a5zs5@n_CZkBw@_ly4GZ-1@l@n@error",
			"id":"_2B791",
			"index":25,
			"inputs":{
				"variables":[
					{
						"source":"{{ Vvsvb.outputs.failureCount }}",
						"value":"=SUM({{ Vvsvb.outputs.failureCount }},1)"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_mzc57@n_a5zs5@n_CZkBw@_ly4GZ-1@l@n@error",
			"id":"_EvcCq",
			"index":26,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_runId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Bobdh.outputs.runId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"experiment_runs",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.failureCount",
						"actionType":"INCREMENT",
						"setValue":"1"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":757,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_Vt2s7",
			"index":27,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_2w9WP.outputs.didMetricEvaluationThrowError }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					},
					{
						"property":"=LEN({{ n_JH5g6.outputs.items }})",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":459,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y",
			"id":"_1w4HK",
			"index":28,
			"inputs":{
				"automationId":"6856a274f4fbf54cd856b10d",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"llmTestCaseRunsIds":{
						"ua:type":"mappedArray",
						"source":"{{ n_8xPXl.outputs.llmTestCaseRunsIds }}",
						"items":"{{ n_8xPXl.outputs.llmTestCaseRunsIds[0] }}"
					},
					"convTestCaseRunId":"{{ n_K4tvK.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":158,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y",
			"id":"_63Kfx",
			"index":29,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"=LEN({{ n_JH5g6.outputs.items }})",
								"filter":{
									"operator":"EQUAL",
									"value":"0"
								}
							},
							{
								"property":"{{ n_8xPXl.outputs.avgLLMSuccess }}",
								"filter":{
									"operator":"EQUAL",
									"value":"true"
								}
							}
						],
						"operator":"AND"
					},
					{
						"filters":[
							{
								"property":"{{ n_2w9WP.outputs.isMetricEvaluationSuccess }}",
								"filter":{
									"operator":"EQUAL",
									"value":"true"
								}
							},
							{
								"property":"{{ n_2w9WP.outputs.didMetricEvaluationThrowError }}",
								"filter":{
									"operator":"EQUAL",
									"value":"false"
								}
							},
							{
								"property":"{{ n_8xPXl.outputs.avgLLMSuccess }}",
								"filter":{
									"operator":"EQUAL",
									"value":"true"
								}
							}
						],
						"operator":"AND"
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_63Kfx@n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y@y",
			"id":"_Ra21e",
			"index":30,
			"inputs":{
				"variables":[
					{
						"source":"{{ Vvsvb.outputs.successCount }}",
						"value":"=SUM({{ Vvsvb.outputs.successCount }},1)"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_63Kfx@n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y@y",
			"id":"_ure5o",
			"index":31,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_runId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Bobdh.outputs.runId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"experiment_runs",
				"updateFields":[
					{
						"fieldName":"properties.successCount",
						"actionType":"INCREMENT",
						"setValue":"1"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_63Kfx@n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y@n",
			"id":"_c8bUS",
			"index":32,
			"inputs":{
				"variables":[
					{
						"source":"{{ Vvsvb.outputs.failureCount }}",
						"value":"=SUM({{ Vvsvb.outputs.failureCount }},1)"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_63Kfx@n_Vt2s7@n_CZkBw@_ly4GZ-1@l@y@n",
			"id":"_6hfEf",
			"index":33,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_runId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Bobdh.outputs.runId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"experiment_runs",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.failureCount",
						"actionType":"INCREMENT",
						"setValue":"1"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_tTO3T",
			"index":34,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"newAvgTime":{
							"type":"number",
							"title":"New Avg Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"oldAvgTime":{
							"type":"number",
							"title":"Old Avg Time"
						},
						"totalTestCases":{
							"type":"integer",
							"title":"Total Test Cases"
						},
						"completedTestCases":{
							"type":"integer",
							"title":"Completed Test Cases"
						},
						"currentSingleTestCaseTime":{
							"type":"number",
							"title":"Current Single Test Case Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def oldAvgTime = binding.hasVariable('oldAvgTime') ? oldAvgTime : 0\ndef totalTestCases = binding.hasVariable('totalTestCases') ? totalTestCases : 0\ndef completedTestCases = binding.hasVariable('completedTestCases') ? completedTestCases : 0\ndef currentSingleTestCaseTime = binding.hasVariable('currentSingleTestCaseTime') ? currentSingleTestCaseTime : 0\n\ndef newAvgTime = 0;\n\nif (completedTestCases > 0)\n{\n  newAvgTime = ( oldAvgTime * (completedTestCases - 1) + currentSingleTestCaseTime )/ completedTestCases;\n}\n\nreturn [\"newAvgTime\": newAvgTime]\n",
				"parameters":{
					"oldAvgTime":"{{ n_5KiY8.outputs.properties.AvgTestCaseRunTime }}",
					"totalTestCases":"{{ n_5KiY8.outputs.properties.totalTestCases }}",
					"completedTestCases":"=MAX(({{ n_5KiY8.outputs.properties.failureCount }}+{{ n_5KiY8.outputs.properties.successCount }}), ({{ n_CZkBw.outputs.index }}+1))",
					"currentSingleTestCaseTime":"=((NOW() - DATE(1970,1,1)) * 86400 - {{ BzHDE.outputs.testCaseStartTime }})"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":526,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CZkBw@_ly4GZ-1@l",
			"id":"n_ICqJ5",
			"index":35,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_runId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_Bobdh.outputs.runId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"experiment_runs",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.AvgTestCaseRunTime",
						"actionType":"SET",
						"setValue":"=ROUND({{ n_tTO3T.outputs.result.newAvgTime }}, 3)"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.signal_payload.testCaseRunsIds.items"
				]
			},
			"context":{
				"appName":"signals_by_unifyapps",
				"resourceVersion":31,
				"resourceName":"signals_by_unifyapps_emit_signal",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"_ndwzp",
			"index":36,
			"inputs":{
				"automation_id":"680e73d93b699c146071a8f6",
				"with_signal_id":true,
				"waitingInstanceRuntimeType":"{{ n_Bobdh.outputs.signal.runtimeType }}",
				"waitingInstanceId":"{{ n_Bobdh.outputs.signal.parentExecutionId }}",
				"signal_id":"=text({{ n_Bobdh.outputs.signal.index }}, \"0\")",
				"signal_payload":{
					"success":"{{ Vvsvb.outputs.successCount }}",
					"failure":"{{ Vvsvb.outputs.failureCount }}"
				},
				"nodeId":"n_Q5F8P"
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Signals by UnifyApps",
			"title":"Emit signal",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":421,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ly4GZ-1",
			"id":"n_k43pN",
			"index":37,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":44108,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":161
}