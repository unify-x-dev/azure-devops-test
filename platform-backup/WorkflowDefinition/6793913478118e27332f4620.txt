{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1738309664299,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760600096103,
		"deployedBy":33452,
		"deployedDefinitionId":"68f0a02075087a2a7af506b9",
		"status":"DEPLOYED",
		"version":63,
		"workflowVersion":104
	},
	"edges":[
		{
			"fromNodeId":"9wNwo",
			"priority":0,
			"skip":false,
			"toNodeId":"9xuAM",
			"type":"next"
		},
		{
			"fromNodeId":"9xuAM",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"qOXIw",
			"type":"if"
		},
		{
			"fromNodeId":"qOXIw",
			"priority":0,
			"skip":false,
			"toNodeId":"Ogj2K",
			"type":"next"
		},
		{
			"fromNodeId":"9xuAM",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"Ogj2K",
			"type":"next"
		},
		{
			"fromNodeId":"Ogj2K",
			"priority":0,
			"skip":false,
			"toNodeId":"OYJGP",
			"type":"next"
		},
		{
			"fromNodeId":"OYJGP",
			"priority":0,
			"skip":false,
			"toNodeId":"f7yDq",
			"type":"next"
		},
		{
			"fromNodeId":"f7yDq",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"HJgli",
			"type":"if"
		},
		{
			"fromNodeId":"HJgli",
			"priority":0,
			"skip":false,
			"toNodeId":"WLeog",
			"type":"next"
		},
		{
			"fromNodeId":"WLeog",
			"priority":0,
			"skip":false,
			"toNodeId":"S4tCk",
			"type":"next"
		},
		{
			"fromNodeId":"f7yDq",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"jRxqE",
			"type":"next"
		},
		{
			"fromNodeId":"S4tCk",
			"priority":0,
			"skip":false,
			"toNodeId":"H7ng4",
			"type":"next"
		},
		{
			"fromNodeId":"jRxqE",
			"priority":0,
			"skip":false,
			"toNodeId":"H7ng4",
			"type":"next"
		},
		{
			"fromNodeId":"H7ng4",
			"priority":0,
			"skip":false,
			"toNodeId":"cZrCR",
			"type":"next"
		},
		{
			"fromNodeId":"cZrCR",
			"priority":0,
			"skip":false,
			"toNodeId":"ERDww",
			"type":"next"
		},
		{
			"fromNodeId":"ERDww",
			"priority":0,
			"skip":false,
			"toNodeId":"_63ZMo",
			"type":"next"
		},
		{
			"fromNodeId":"_63ZMo",
			"priority":0,
			"skip":false,
			"toNodeId":"_YCIwl",
			"type":"next"
		},
		{
			"fromNodeId":"_YCIwl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_93YKr",
			"type":"next"
		},
		{
			"fromNodeId":"n_93YKr",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_bNmaO",
			"type":"if"
		},
		{
			"fromNodeId":"n_bNmaO",
			"priority":0,
			"skip":false,
			"toNodeId":"_YNXZm",
			"type":"next"
		},
		{
			"fromNodeId":"_YNXZm",
			"priority":0,
			"skip":false,
			"toNodeId":"n_4oFIP",
			"type":"next"
		},
		{
			"fromNodeId":"n_4oFIP",
			"priority":0,
			"skip":false,
			"toNodeId":"0NXbR",
			"type":"next"
		},
		{
			"fromNodeId":"n_93YKr",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"0NXbR",
			"type":"next"
		},
		{
			"fromNodeId":"0NXbR",
			"priority":0,
			"skip":false,
			"toNodeId":"n_VVej6",
			"type":"next"
		},
		{
			"fromNodeId":"n_VVej6",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_FsnjW",
			"type":"if"
		},
		{
			"fromNodeId":"_FsnjW",
			"priority":0,
			"skip":false,
			"toNodeId":"_cRmRF",
			"type":"next"
		},
		{
			"fromNodeId":"_GIVc5",
			"priority":0,
			"skip":false,
			"toNodeId":"_cRmRF",
			"type":"next"
		},
		{
			"fromNodeId":"n_VVej6",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_cRmRF",
			"type":"next"
		},
		{
			"fromNodeId":"_cRmRF",
			"priority":0,
			"skip":false,
			"toNodeId":"_GIVc5",
			"type":"loop"
		},
		{
			"fromNodeId":"_cRmRF",
			"priority":0,
			"skip":false,
			"toNodeId":"burne",
			"type":"next"
		},
		{
			"fromNodeId":"burne",
			"priority":0,
			"skip":false,
			"toNodeId":"AyORW",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6793913478118e27332f4620",
	"lastModifiedBy":0,
	"lcName":"session file indexer",
	"modifiedTime":1761722724179,
	"name":"Session File Indexer",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":40,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"9wNwo",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"response"
					],
					"properties":{
						"response":{
							"type":"string",
							"title":"Response"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"caseId",
						"file"
					],
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"file":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File"
						},
						"addToAgentId":{
							"type":"string",
							"title":"Add To Agent Id"
						},
						"addToKnowledgeSet":{
							"type":"string",
							"title":"Add To Knowledge Set"
						},
						"metadataIndexing":{
							"type":"boolean",
							"title":"metadataIndexing",
							"help":"Text To SQL Indexing for Excel Or CSV Files"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":333,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"9xuAM",
			"index":2,
			"inputs":{
				"filters":[
					{
						"property":"{{ 9wNwo.outputs.caseId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":40,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"9xuAM@7eLiR-1@y",
			"id":"qOXIw",
			"index":3,
			"inputs":{
				"object_type":"e_ai_agent_conversation_state",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ 9wNwo.outputs.caseId }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":39,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"Ogj2K",
			"index":4,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"file":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"file":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":40,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"OYJGP",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"isUrl",
						"url",
						"mimeType",
						"name"
					],
					"properties":{
						"isUrl":{
							"type":"boolean",
							"title":"Is Url"
						},
						"url":{
							"type":"string",
							"title":"Url"
						},
						"mimeType":{
							"type":"string",
							"title":"Mime Type"
						},
						"name":{
							"type":"string",
							"title":"Name"
						},
						"accessibleTo":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Accessible To"
						},
						"randomString":{
							"type":"string",
							"title":"Random String"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"file"
					],
					"properties":{
						"file":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"addToAgentId":{
							"type":"string",
							"title":"Add To Agent Id"
						},
						"addToKnowledgeSet":{
							"type":"string",
							"title":"Add To Knowledge Set"
						}
					}
				},
				"code":"def fileExtensionToMimeType = [\n    \"xlsx\"  : \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    \"xlsm\"  : \"application/vnd.ms-excel.sheet.macroEnabled.12\",\n    \"csv\"   : \"text/csv\",\n    \"docx\"  : \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    \"doc\"   : \"application/msword\",\n    \"txt\"   : \"text/plain\",\n    \"pptx\"  : \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n    \"ppt\"   : \"application/vnd.ms-powerpoint\",\n    \"pdf\"   : \"application/pdf\"\n]\n\ndef sourcePath = file.get('source')\ndef fileExtension = sourcePath.tokenize('.')[-1]\n\ndef mimeType = fileExtensionToMimeType[fileExtension]\n\ndef chars = ('A'..'Z') + ('a'..'z') + ('0'..'9')\ndef random = new Random()\ndef randomString = (1..6).collect { chars[random.nextInt(chars.size())] }.join()\nString accessibleTo = \"\";\nif(binding.hasVariable('addToAgentId')) {\n    accessibleTo = \"ai_agent/\" + addToAgentId\n}\nelse if(binding.hasVariable('addToKnowledgeSet')) {\n    accessibleTo = \"knowledge_set/\" + addToKnowledgeSet\n} else {\n     accessibleTo = \"service_hub_case/\" + caseId\n}\n\nreturn[\n        'isUrl': file.sourceType == \"URL\",\n        'url': file.get('source'),\n        'mimeType': mimeType,\n        'name':file.get(\"name\"),\n        \"accessibleTo\": [accessibleTo],\n        'randomString' : randomString\n]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"file":"{{ 9wNwo.outputs.file }}",
					"caseId":"{{ 9wNwo.outputs.caseId }}",
					"addToAgentId":"{{ 9wNwo.outputs.addToAgentId }}",
					"addToKnowledgeSet":"{{ 9wNwo.outputs.addToKnowledgeSet }}"
				}
			},
			"skip":false,
			"subTitle":"process input",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":39,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"f7yDq",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ OYJGP.outputs.result.isUrl }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"url ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":39,
				"resourceName":"utility_by_unifyapps_create_unifyapps_file_from_url",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"f7yDq@7eLiR-1@y",
			"id":"HJgli",
			"index":7,
			"inputs":{
				"url":"{{ OYJGP.outputs.result.url }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps file from url",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"f7yDq@7eLiR-1@y",
			"id":"WLeog",
			"index":8,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"file"
					],
					"properties":{
						"file":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"fileDetailsFromPath"
					],
					"properties":{
						"fileDetails":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details",
							"required":[]
						},
						"fileDetailsFromPath":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details From Path"
						}
					}
				},
				"code":"def finalFileDetails = fileDetails;\nfinalFileDetails = new HashMap<>(fileDetailsFromPath)\nfinalFileDetails.put(\"fileType\", fileDetails.fileType)\ndef file = binding.hasVariable('fileDetails') ? [\n        \"name\": finalFileDetails.name,\n        \"source\": finalFileDetails.source,\n        \"fileType\": finalFileDetails.fileType,\n        \"sourceType\":finalFileDetails.sourceType\n    ] : null\nif (!finalFileDetails.containsKey(\"sourceType\")){\n    file[\"sourceType\"] = \"CLOUD_STORAGE\"\n}\nreturn ['file':file]",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"fileDetails":"{{ 9wNwo.outputs.file }}",
					"fileDetailsFromPath":"{{ HJgli.outputs.file }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":40,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"f7yDq@7eLiR-1@y",
			"id":"S4tCk",
			"index":9,
			"inputs":{
				"variables":[
					{
						"source":"{{ Ogj2K.outputs.file }}",
						"value":"{{ WLeog.outputs.result.file }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":40,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"f7yDq@7eLiR-1@n",
			"id":"jRxqE",
			"index":10,
			"inputs":{
				"variables":[
					{
						"source":"{{ Ogj2K.outputs.file }}",
						"value":"{{ 9wNwo.outputs.file }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.fileDetails.name",
					"root.record.fileDetails.source",
					"root.record.fileDetails.fileType",
					"root.record.fileDetails.sourceType",
					"root.record.fileDetails.url",
					"root.record.accessibleTo.items",
					"root.record.fileDetails.size",
					"root.record.fileDetails.fileExtension",
					"root.record.websiteImportInfo.specificWebpages",
					"root.record.websiteImportInfo.urlList.items",
					"root.record.applicationInfo.inputs",
					"root.record.applicationInfo.context.appName",
					"root.record.applicationInfo.context.connectionId",
					"root.record.applicationInfo.context.resourceName",
					"root.record.refreshDetails.lastRefreshStartTime",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.image.textExtractionModel",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.image.processingMethod",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.tabularData.indexingType",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.embeddingType",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.chunkOverlap",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.delimiters.items",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.language",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.embeddingModel",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.maxChunkSize",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.thresholdType",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.text.algorithm",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.embeddingType",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.chunkOverlap",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.delimiters.items",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.processingMethod",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.language",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.transcriptionModel",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.embeddingModel",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.maxChunkSize",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.thresholdType",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.contentTypeConfig.audio.algorithm",
					"root.record.settings.indexingStrategySettings.mimeTypeOverride.items.mimeType.items",
					"root.record.settings.piiMasking.regex.enabled",
					"root.record.settings.piiMasking.automations.enabled",
					"root.record.settings.piiMasking.automations.ids.items",
					"root.record.settings.piiMasking.piiByUA.enabled",
					"root.record.settings.enrichment.enabled",
					"root.record.settings.enrichment.processingMethod",
					"root.record.settings.enrichment.model",
					"root.record.settings.enrichment.parameters.items.name",
					"root.record.settings.enrichment.parameters.items.description",
					"root.record.additionalDetails.unifiedEntityModelId",
					"root.record.additionalDetails.metadataIndexing",
					"root.record.additionalDetails.embeddingModel",
					"root.record.additionalDetails.knowledgeInstructionsForPrompt",
					"root.record.dataCatalogInfo.id",
					"root.record.errorDetails.errorMessage"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":16,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"H7ng4",
			"index":11,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"knowledge",
				"skipIfBlank":false,
				"record":{
					"fileDetails":{
						"name":"{{ OYJGP.outputs.result.name }}",
						"fileType":"{{ OYJGP.outputs.result.mimeType }}",
						"url":"{{ OYJGP.outputs.result.url }}"
					},
					"sourceType":"FILE",
					"name":"{{ OYJGP.outputs.result.name }}",
					"status":"SYNCING",
					"enabled":false,
					"settings":{
						"enrichment":{
							"enabled":false
						},
						"indexingStrategySettings":{
							"mimeTypeOverride":{
								"items":{
									"contentTypeConfig":{
										"tabularData":{
											"indexingType":"textIndexing"
										}
									},
									"mimeType":{
										"items":"e_6728c025649511484c091856",
										"ua:type":"mappedArray"
									}
								},
								"ua:type":"mappedArray"
							}
						}
					},
					"newIndexingFlowEnabled":false,
					"forwardGrabberScheduled":false,
					"realtimeIndexingEnabled":false,
					"knowledgeScheduleEnabled":false,
					"accessibleTo":{
						"source":"{{ OYJGP.outputs.result.accessibleTo }}",
						"ua:type":"mappedArray",
						"items":"{{ OYJGP.outputs.result.accessibleTo[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"knowledge",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":20,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"cZrCR",
			"index":12,
			"inputs":{
				"automationId":"679b63bad2256d4d7f32464f",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ H7ng4.outputs.id }}",
					"fetchFromIndexingSettings":true
				}
			},
			"skip":false,
			"subTitle":"embedding Model",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":16,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"ERDww",
			"index":13,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ H7ng4.outputs.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.additionalDetails.embeddingModel",
						"actionType":"SET",
						"setValue":"{{ cZrCR.outputs.modelId }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"update",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"utility_by_unifyapps_create_unifyapps_path_for_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"_63ZMo",
			"index":14,
			"inputs":{
				"file":"{{ Ogj2K.outputs.file }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps path for file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"_YCIwl",
			"index":15,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"path"
					],
					"properties":{
						"fileDetails":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details"
						},
						"externalMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"External Metadata"
						},
						"path":{
							"type":"string",
							"title":"Path"
						}
					}
				},
				"code":"def chunkMetadata = [:]\nif(binding.hasVariable('fileDetails')) chunkMetadata.putAll(fileDetails)\nchunkMetadata.put(\"referenceUrl\", path)\nchunkMetadata.put('date' , System.currentTimeMillis())\nreturn [ \"chunkMetadata\" : chunkMetadata]",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"path":"{{ _63ZMo.outputs.path }}",
					"fileDetails":"{{ Ogj2K.outputs.file }}"
				}
			},
			"skip":false,
			"subTitle":"make chunk metadata",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":447,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"n_93YKr",
			"index":16,
			"inputs":{
				"filters":[
					{
						"property":"{{ 9wNwo.outputs.metadataIndexing }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					},
					{
						"filters":[
							{
								"property":"{{ OYJGP.outputs.result.mimeType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
								}
							},
							{
								"property":"{{ OYJGP.outputs.result.mimeType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"text/csv"
								}
							}
						],
						"operator":"OR"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"metadataIndexing",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":592,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_93YKr@7eLiR-1@y",
			"id":"n_bNmaO",
			"index":17,
			"inputs":{
				"automationId":"6729177526f70f5310b25dcf",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"file":"{{ Ogj2K.outputs.file }}",
					"knowledgeId":"{{ H7ng4.outputs.id }}",
					"mimeType":"{{ OYJGP.outputs.result.mimeType }}",
					"uniqueEntityId":"{{ 9wNwo.outputs.addToAgentId }}_{{ 9wNwo.outputs.caseId }}_{{ OYJGP.outputs.result.randomString }}",
					"chunkMetadata":"{{ _YCIwl.outputs.result.chunkMetadata }}"
				}
			},
			"skip":false,
			"subTitle":"Excel File Indexing For SQL",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":16,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_93YKr@7eLiR-1@y",
			"id":"_YNXZm",
			"index":18,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ H7ng4.outputs.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"COMPLETED"
					},
					{
						"fieldName":"properties.readVersion",
						"actionType":"SET",
						"setValue":"1"
					},
					{
						"fieldName":"properties.enabled",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"update",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":583,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_93YKr@7eLiR-1@y",
			"id":"n_4oFIP",
			"index":19,
			"inputs":{
				"result":{
					"response":"true",
					"knowledgeId":"{{ H7ng4.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Respond To Automation",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":44,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"0NXbR",
			"index":20,
			"inputs":{
				"automationId":"6708d0a1e5c64343ba9b24c8",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"fileDetails":"{{ Ogj2K.outputs.file }}",
					"mimeType":"{{ OYJGP.outputs.result.mimeType }}",
					"knowledgeId":"{{ H7ng4.outputs.id }}",
					"sharedWithIds":{
						"items":"GLOBAL",
						"ua:type":"mappedArray"
					},
					"chunkMetadata":"{{ _YCIwl.outputs.result.chunkMetadata }}",
					"uniqueEntityId":"{{ 9wNwo.outputs.addToAgentId }}_{{ 9wNwo.outputs.caseId }}_{{ OYJGP.outputs.result.randomString }}"
				}
			},
			"skip":false,
			"subTitle":"file chunker",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":438,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"n_VVej6",
			"index":21,
			"inputs":{
				"filters":[
					{
						"property":"{{ 0NXbR.outputs.chunks[0].text }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":54,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_VVej6@7eLiR-1@y",
			"id":"_FsnjW",
			"index":22,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"items":"GLOBAL",
								"ua:type":"mappedArray"
							},
							"data":"{{ 0NXbR.outputs.chunks[0].text }}"
						},
						"source":"{{ 0NXbR.outputs.chunks }}"
					},
					"chunkMetadata":"{{ _YCIwl.outputs.result.chunkMetadata }}",
					"knowledgeId":"{{ H7ng4.outputs.id }}",
					"knowledgeVersion":1
				}
			},
			"skip":false,
			"subTitle":"Knowledge Indexer  With RBAC",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":96,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"_cRmRF",
			"index":23,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ 0NXbR.outputs.chunks }}",
				"captureIterations":false
			},
			"skip":true,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":54,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cRmRF@7eLiR-1@l",
			"id":"_GIVc5",
			"index":24,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"items":"GLOBAL",
								"ua:type":"mappedArray"
							},
							"data":"{{ _cRmRF.outputs.item.text }}"
						}
					},
					"chunkMetadata":"{{ _YCIwl.outputs.result.chunkMetadata }}",
					"knowledgeId":"{{ H7ng4.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Indexer  With RBAC",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":16,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"burne",
			"index":25,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ H7ng4.outputs.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"COMPLETED"
					},
					{
						"fieldName":"properties.readVersion",
						"actionType":"SET",
						"setValue":"1"
					},
					{
						"fieldName":"properties.enabled",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"update",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":41,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7eLiR-1",
			"id":"AyORW",
			"index":26,
			"inputs":{
				"result":{
					"response":"true",
					"knowledgeId":"{{ H7ng4.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1866,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent",
		"Knowledge"
	],
	"version":105
}