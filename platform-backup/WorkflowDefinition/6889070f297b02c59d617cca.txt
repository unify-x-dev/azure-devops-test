{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1756411336918,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760529864297,
		"deployedBy":0,
		"deployedDefinitionId":"68ef8dc815076a51390878d0",
		"status":"DEPLOYED",
		"version":30,
		"workflowVersion":70
	},
	"edges":[
		{
			"fromNodeId":"n_xXJiu",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3YNQ6",
			"type":"next"
		},
		{
			"fromNodeId":"n_3YNQ6",
			"priority":0,
			"skip":false,
			"toNodeId":"n_YDBww",
			"type":"next"
		},
		{
			"fromNodeId":"n_YDBww",
			"priority":0,
			"skip":false,
			"toNodeId":"n_vwlk4",
			"type":"next"
		},
		{
			"fromNodeId":"n_vwlk4",
			"priority":0,
			"skip":false,
			"toNodeId":"n_WdizY",
			"type":"next"
		},
		{
			"fromNodeId":"n_WdizY",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_AgGox",
			"type":"if"
		},
		{
			"fromNodeId":"n_AgGox",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ufzSl",
			"type":"next"
		},
		{
			"fromNodeId":"n_ufzSl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DRAm9",
			"type":"next"
		},
		{
			"fromNodeId":"n_WdizY",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DRAm9",
			"type":"next"
		},
		{
			"fromNodeId":"n_DRAm9",
			"priority":0,
			"skip":false,
			"toNodeId":"n_nhrwX",
			"type":"next"
		},
		{
			"fromNodeId":"n_nhrwX",
			"priority":0,
			"skip":false,
			"toNodeId":"n_68Ofb",
			"type":"next"
		},
		{
			"fromNodeId":"n_68Ofb",
			"priority":0,
			"skip":false,
			"toNodeId":"n_bCAt5",
			"type":"next"
		},
		{
			"fromNodeId":"n_bCAt5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Lymmi",
			"type":"next"
		},
		{
			"fromNodeId":"n_Lymmi",
			"priority":0,
			"skip":false,
			"toNodeId":"_0otai",
			"type":"next"
		},
		{
			"fromNodeId":"_0otai",
			"priority":0,
			"skip":false,
			"toNodeId":"n_SFWaQ",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6889070f297b02c59d617cca",
	"lastModifiedBy":0,
	"lcName":"workflow agent | scheduled deployment",
	"modifiedTime":1761722767766,
	"name":"Workflow Agent | Scheduled deployment",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":445,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_xXJiu",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"aiAgent":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Ai Agent"
						},
						"workflowDefinition":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Definition"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":457,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_3YNQ6",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deployedVersion":{
							"type":"string",
							"title":"Deployed Version"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"deployedVersion":{
							"type":"string",
							"title":"Deployed Version"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"deployed version",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":344,
				"resourceName":"standard_entities_get_deploy_entity",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_YDBww",
			"index":3,
			"inputs":{
				"entityType":"ai_agent",
				"id":"{{ n_xXJiu.outputs.aiAgent.id }}"
			},
			"skip":false,
			"subTitle":"Get deployed agent",
			"title":"Get Deploy Entity",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":446,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_vwlk4",
			"index":4,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_3YNQ6.outputs.deployedVersion }}",
						"value":"{{ n_YDBww.outputs.deployedEntityVersion }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Update deployed version",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":438,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_WdizY",
			"index":5,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_YDBww.outputs.deployedEntityVersion }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ n_YDBww.outputs.deployedEntityVersion }}",
						"filter":{
							"operator":"LTE",
							"value":"0"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"is not deployed?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":345,
				"resourceName":"standard_entities_deploy_entity",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_WdizY@_6b1PN-1@y",
			"id":"n_AgGox",
			"index":6,
			"inputs":{
				"deployChildEntities":true,
				"entityType":"ai_agent",
				"deploymentTag":"aiAgentDeployment",
				"id":"{{ n_xXJiu.outputs.aiAgent.id }}"
			},
			"skip":false,
			"subTitle":"Deployed agent",
			"title":"Deploy entity",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":446,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_WdizY@_6b1PN-1@y",
			"id":"n_ufzSl",
			"index":7,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_3YNQ6.outputs.deployedVersion }}",
						"value":"{{ n_AgGox.outputs.deploymentState.version }}"
					}
				]
			},
			"skip":false,
			"subTitle":"update deployed version",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_DRAm9",
			"index":8,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"aiAgentDeployment":{
							"type":"object",
							"properties":{
								"isDeployed":{
									"type":"boolean",
									"title":"isDeployed"
								},
								"name":{
									"type":"string",
									"title":"name"
								},
								"aiAgentId":{
									"type":"string",
									"title":"aiAgentId"
								},
								"type":{
									"type":"string",
									"title":"type"
								},
								"trigger":{
									"type":"object",
									"properties":{
										"context":{
											"type":"object",
											"properties":{
												"appName":{
													"type":"string",
													"title":"appName"
												},
												"resourceName":{
													"type":"string",
													"title":"resourceName"
												}
											},
											"title":"context",
											"additionalProperties":false
										},
										"type":{
											"type":"string",
											"title":"type"
										},
										"triggerResourceName":{
											"type":"string",
											"title":"triggerResourceName"
										},
										"inputs":{
											"type":"object",
											"properties":{
												"agentId":{
													"type":"string",
													"title":"agentId"
												},
												"data":{
													"type":"object",
													"properties":{
														"inputs":{
															"type":"object",
															"properties":{
																"interval":{
																	"type":"integer",
																	"title":"interval"
																},
																"frequency":{
																	"type":"string",
																	"title":"frequency"
																},
																"query":{
																	"type":"string",
																	"title":"query"
																},
																"cron":{
																	"type":"string",
																	"title":"cron"
																}
															},
															"title":"inputs",
															"additionalProperties":false
														}
													},
													"title":"data",
													"additionalProperties":false
												},
												"params":{
													"type":"object",
													"properties":{
														"templateId":{
															"type":"string",
															"title":"templateId"
														},
														"appName":{
															"type":"string",
															"title":"appName"
														}
													},
													"title":"params",
													"additionalProperties":false
												}
											},
											"title":"inputs",
											"additionalProperties":false
										},
										"triggerAutomationId":{
											"type":"string",
											"title":"triggerAutomationId"
										}
									},
									"title":"trigger",
									"additionalProperties":false
								},
								"strategy":{
									"type":"string",
									"title":"strategy"
								},
								"agentVersion":{
									"type":"string",
									"title":"agentVersion"
								}
							},
							"additionalProperties":false
						},
						"inputSchema":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input Schema"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"aiAgent":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Ai Agent"
						},
						"deployedVersion":{
							"type":"integer",
							"title":"Deployed Version"
						},
						"workflowDefinition":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Definition"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.time.ZonedDateTime\nimport java.time.ZoneId\nimport java.time.ZoneOffset\nimport java.time.Instant\nimport java.time.format.DateTimeFormatter\n\n\n\n\n\nif(binding.hasVariable('aiAgent') && binding.hasVariable('workflowDefinition'))\n{\n    if (!aiAgent?.id || !workflowDefinition?.name) {\n            return [:]\n        }\n\n    // Change in workflowDefinition\n    def inputSchema = buildScheduleConfig(workflowDefinition?.nodes[0]?.inputs?:[:])\n\n    def aiAgentId = aiAgent.id\n    def name = workflowDefinition.name\n    def version = binding.hasVariable('deployedVersion') ? deployedVersion : 1\n\n    // Construct the deployment object\n    def aiAgentDeployment = [\n        isDeployed : false,\n        name       : name,\n        aiAgentId  : aiAgentId,\n        type       : \"SCHEDULE\",\n        strategy   : \"FULL_DEPLOYMENT\",\n        agentVersion: \"${aiAgentId}_${version}_ai_agent_deployed\".toString(),\n        trigger    : [\n            context: [\n                appName     : \"schedule\",\n                resourceName: \"schedule\"\n            ],\n            type               : \"SCHEDULED\",\n            triggerResourceName: \"schedule_default\",\n            inputs             : [\n                agentId: aiAgentId,\n                data   : [\n                    inputs: inputSchema\n                ],\n                params : [\n                    templateId: \"67d11471a7e34c66968d08fd\",\n                    appName   : \"schedule\"\n                ]\n            ]\n        ]\n    ]\n\n    return [ 'aiAgentDeployment': aiAgentDeployment, 'inputSchema': inputSchema ]\n}\n\nMap buildScheduleConfig(Map input) {\n\n    Map output = [:]\n    def isoString = input?.startsOn ?: ZonedDateTime.now(ZoneOffset.UTC).toInstant().toString()\n\n    // Parse it as Instant (UTC)\n    def instant = Instant.parse(isoString)\n\n    // Set desired timezone (example: Asia/Kolkata)\n    def zoneId = ZoneId.of(input?.timezone?:'UTC')\n\n    // Convert to ZonedDateTime in that timezone\n    def zonedDateTime = instant.atZone(zoneId)\n\n    // Set triggerAt fields\n    def formatter = DateTimeFormatter.ofPattern(\"HH:mm:ss\")\n    def triggerAt = zonedDateTime.format(formatter)\n\n    // Extract components\n    def year = zonedDateTime.year\n    def month = zonedDateTime.monthValue  // 1 to 12\n    def day = zonedDateTime.dayOfMonth\n    def hour = zonedDateTime.hour\n    def minute = zonedDateTime.minute\n\n\n\n\n    // Set timezone\n    output.timezone = input.timezone ?: 'UTC'\n    output.cron = \"INTERVAL\"\n    output.triggerAt = triggerAt\n\n    // Determine recurrence logic\n    switch (input.recurrence) {\n        case \"ONCE\":\n            output.frequency = \"MONTHS\"\n            output.interval = 12\n            output.daysOfMonth = [day]\n            break\n\n        case \"DAILY\":\n            output.frequency = \"DAYS\"\n            output.interval = input?.interval?:1\n            break\n\n        case \"WEEKLY\":\n        // WEEKLY on tuesday\n            output.frequency = \"WEEKS\"\n            output.interval = input?.interval?:1\n            output.daysOfWeek = [\"TUESDAY\"]\n            break\n\n        case \"WEEKDAYS\":\n            output.frequency = \"WEEKS\"\n            output.interval = input?.interval?:1\n            output.daysOfWeek = [\"MONDAY\", \"TUESDAY\", \"WEDNESDAY\", \"THURSDAY\", \"FRIDAY\"]\n            break\n\n        case \"MONTHLY\":\n            output.frequency = \"MONTHS\"\n            output.interval = 1\n            output.daysOfMonth = [1]\n            break\n\n        case \"ANNUALLY\":\n            output.frequency = \"MONTHS\"\n            output.interval = 12\n            output.daysOfMonth = [1]\n            break\n\n        case \"CUSTOM\":\n            def freq = input.frequency ?: \"DAYS\"\n            output.frequency = freq\n            output.interval = input.interval ?: 1\n\n            if (freq == \"WEEKS\" && input.daysOfWeek) {\n                output.daysOfWeek = input.daysOfWeek\n            }\n\n            if (freq == \"MONTHS\" && input.daysOfMonth) {\n                output.daysOfMonth = input.daysOfMonth\n            }\n\n            if(freq == \"YEARS\") {\n                output.interval = 12\n            }\n            break\n\n        default:\n            // Fallback if no recurrence\n            output.frequency = \"MONTHS\"\n            output.interval = 12\n            output.daysOfMonth = [day]\n    }\n\n    return output\n}\n\n",
				"parameters":{
					"aiAgent":"{{ n_xXJiu.outputs.aiAgent }}",
					"workflowDefinition":"{{ n_xXJiu.outputs.workflowDefinition }}",
					"deployedVersion":"{{ n_3YNQ6.outputs.deployedVersion }}"
				}
			},
			"skip":false,
			"subTitle":"ai agent deployment ",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.publish.items.inputs",
					"root.record.publish.items.context.appName",
					"root.record.publish.items.context.connectionId",
					"root.record.publish.items.context.resourceName",
					"root.record.publish.items.triggerResourceName",
					"root.record.publish.items.type",
					"root.record.trigger.inputs",
					"root.record.trigger.context.appName",
					"root.record.trigger.context.connectionId",
					"root.record.trigger.context.resourceName",
					"root.record.trigger.triggerAutomationId",
					"root.record.trigger.sourceTemplateId",
					"root.record.trigger.triggerResourceName",
					"root.record.trigger.type",
					"root.record.publishedChannels.items"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":468,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_nhrwX",
			"index":9,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"ai_agent_deployment",
				"record":{
					"strategy":"FULL_DEPLOYMENT",
					"trigger":{
						"context":{
							"appName":"schedule",
							"resourceName":"schedule"
						},
						"type":"SCHEDULED",
						"inputs":"{{ n_DRAm9.outputs.result.aiAgentDeployment.trigger.inputs }}",
						"triggerResourceName":"{{ n_DRAm9.outputs.result.aiAgentDeployment.trigger.triggerResourceName }}"
					},
					"type":"SCHEDULE",
					"isDeployed":"{{ n_DRAm9.outputs.result.aiAgentDeployment.isDeployed }}",
					"name":"{{ n_DRAm9.outputs.result.aiAgentDeployment.name }}",
					"aiAgentId":"{{ n_DRAm9.outputs.result.aiAgentDeployment.aiAgentId }}",
					"agentVersion":"{{ n_DRAm9.outputs.result.aiAgentDeployment.agentVersion }}"
				}
			},
			"skip":false,
			"subTitle":"aiagentDeployment",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_68Ofb",
			"index":10,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"workflowDefiniton":{
							"type":"string",
							"title":"Workflow Definiton"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputSchema":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Input Schema"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def schema = [\n  \"cron\": \"INTERVAL\",\n  \"frequency\": \"MONTHS\",\n  \"interval\": 12,\n  \"daysOfMonth\": [1]\n]\nif(binding.hasVariable('inputSchema')) {\n   schema = inputSchema\n}\n\ndef static resolveQuery(String v)\n{\n  v = v + \"}}\"\n  return \"{{\" + v\n}\n\n\ndef workflowDefiniton = [\n      \"appsUsed\": [],\n      \"deleted\": false,\n      \"edges\": [\n        [\n          \"fromNodeId\": \"llJgd\",\n          \"priority\": 0,\n          \"toNodeId\": \"TZgdm\",\n          \"type\": \"next\"\n        ],\n        [\n          \"fromNodeId\": \"TZgdm\",\n          \"priority\": 0,\n          \"toNodeId\": \"T2NAc\",\n          \"type\": \"next\"\n        ],\n        [\n          \"fromNodeId\": \"T2NAc\",\n          \"priority\": 0,\n          \"toNodeId\": \"PWfFL\",\n          \"type\": \"next\"\n        ]\n      ],\n      \"lcName\": \"Scheduler deployment | workflow agent\",\n      \"name\": \"scheduler_workflow\",\n      \"nodes\": [\n        [\n          \"context\": [\n            \"appName\": \"schedule\",\n            \"resourceName\": \"schedule_default\"\n          ],\n          \"dirty\": false,\n          \"fallbackMode\": \"STOP\",\n          \"groupId\": \"U9EYx-1\",\n          \"id\": \"llJgd\",\n          \"inputs\": schema,\n          \"skip\": false,\n          \"subTitle\": \"Schedule\",\n          \"title\": \"New recurring event\",\n          \"trigger\": [\n            \"type\": \"SCHEDULED\"\n          ],\n          \"type\": \"START\"\n        ],\n        [\n          \"context\": [\n            \"appName\": \"callables\",\n            \"resourceVersion\": 402,\n            \"resourceName\": \"callables_call_automation\",\n            \"type\": \"APPLICATION\"\n          ],\n          \"dirty\": false,\n          \"fallbackMode\": \"STOP\",\n          \"groupId\": \"U9EYx-1\",\n          \"id\": \"TZgdm\",\n          \"inputs\": [\n            \"automationId\": \"674afe5adefb851816d61959\",\n            \"runtimeConnections\": [],\n            \"synchronous\": true,\n            \"version\": \"-1\",\n            \"parameters\": [\n              \"caseAssociationType\": \"PREVIOUS_FAN_MESSAGE\",\n              \"channelName\": \"schedule\",\n              \"text\": \"Hi\",\n              \"messageType\": \"FAN\",\n              \"triggeredFromAutomationId\": resolveQuery(\" __RUN__.outputs.workflowId\"),\n              \"toCustomerUserId\": aiAgentId,\n              \"temporaryMessage\": false,\n              \"channelSpecificUserId\": resolveQuery(\" __RUN__.outputs.executionId\")\n            ]\n          ],\n          \"skip\": false,\n          \"subTitle\": \"Callable\",\n          \"title\": \"Call automation\",\n          \"type\": \"CALL_WORKFLOW\"\n        ],\n        [\n          \"context\": [\n            \"appName\": \"callables\",\n            \"resourceVersion\": 402,\n            \"resourceName\": \"callables_call_automation\",\n            \"type\": \"APPLICATION\"\n          ],\n          \"dirty\": false,\n          \"fallbackMode\": \"STOP\",\n          \"groupId\": \"U9EYx-1\",\n          \"id\": \"T2NAc\",\n          \"inputs\": [\n            \"automationId\": \"6732f70850384a29acf312fd\",\n            \"runtimeConnections\": [],\n            \"synchronous\": true,\n            \"version\": \"-1\",\n            \"parameters\": [\n              \"caseId\": resolveQuery(\"TZgdm.outputs.caseId\"),\n              \"messageId\": resolveQuery(\"TZgdm.outputs.messageId\"),\n              \"userQuery\": \"Hi\",\n              \"aiAgentId\": aiAgentId\n            ]\n          ],\n          \"skip\": false,\n          \"subTitle\": \"Callable\",\n          \"title\": \"Call automation\",\n          \"type\": \"CALL_WORKFLOW\"\n        ],\n        [\n          \"context\": [\n            \"appName\": \"stop\"\n          ],\n          \"dirty\": false,\n          \"fallbackMode\": \"STOP\",\n          \"groupId\": \"U9EYx-1\",\n          \"id\": \"PWfFL\",\n          \"skip\": false,\n          \"subTitle\": \"Stop\",\n          \"title\": \"Stop\",\n          \"type\": \"STOP\"\n        ]\n      ],\n      \"schemaReferences\": [],\n      \"settings\": [\n        \"enableNodeLevelLogging\": true,\n        \"enableRunLogging\": true\n      ],\n      \"standard\": false,\n      \"tags\": [],\n      \"version\": 0\n    ]\n\n\nreturn [ 'workflowDefiniton': workflowDefiniton ]",
				"parameters":{
					"inputSchema":"{{ n_DRAm9.outputs.result.inputSchema }}",
					"aiAgentId":"{{ n_xXJiu.outputs.aiAgent.id }}"
				}
			},
			"skip":false,
			"subTitle":"Workflowdefinition",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":4,
				"resourceName":"standard_entities_upsert_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_bCAt5",
			"index":11,
			"inputs":{
				"workflowObject":"{{ n_68Ofb.outputs.result.workflowDefiniton }}"
			},
			"skip":false,
			"subTitle":"Create scheduler",
			"title":"Upsert Automation",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":2,
				"resourceName":"standard_entities_deploy_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_Lymmi",
			"index":12,
			"inputs":{
				"workflowId":"{{ n_bCAt5.outputs.id }}"
			},
			"skip":false,
			"subTitle":"Deploy scheduler",
			"title":"Deploy automation",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":334,
				"resourceName":"storage_by_unifyapps_upsert_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"_0otai",
			"index":13,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"ai_agent_deployment",
				"updateFields":[
					{
						"fieldName":"properties.trigger.triggerAutomationId",
						"actionType":"SET",
						"setValue":"{{ n_bCAt5.outputs.id }}"
					},
					{
						"fieldName":"properties.isDeployed",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"id":"{{ n_nhrwX.outputs.id }}"
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"cacheKey":"{{ TRoZH.outputs.aiAgentId }}",
					"enabled":false,
					"timeToLive":"3600",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"aiAgentDeployment",
			"title":"Upsert Record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6b1PN-1",
			"id":"n_SFWaQ",
			"index":14,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":-1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":72
}