{
	"appsUsed":[
		
	],
	"createdTime":1741254244034,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760606511074,
		"deployedBy":44109,
		"deployedDefinitionId":"68f0b92f07745464c63eb455",
		"status":"DEPLOYED",
		"version":66,
		"workflowVersion":86
	},
	"edges":[
		{
			"fromNodeId":"5eZmi",
			"priority":0,
			"skip":false,
			"toNodeId":"fHb2Q",
			"type":"next"
		},
		{
			"fromNodeId":"fHb2Q",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DS4VJ",
			"type":"next"
		},
		{
			"fromNodeId":"n_DS4VJ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_S00Jo",
			"type":"next"
		},
		{
			"fromNodeId":"n_S00Jo",
			"priority":0,
			"skip":false,
			"toNodeId":"bXFKn",
			"type":"next"
		},
		{
			"fromNodeId":"bXFKn",
			"priority":0,
			"skip":false,
			"toNodeId":"L2IpJ",
			"type":"next"
		},
		{
			"fromNodeId":"L2IpJ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_UThit",
			"type":"next"
		},
		{
			"fromNodeId":"n_UThit",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Figd6",
			"type":"next"
		},
		{
			"fromNodeId":"n_Figd6",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_jKb98",
			"type":"if"
		},
		{
			"fromNodeId":"_jKb98",
			"priority":0,
			"skip":false,
			"toNodeId":"IrNzc",
			"type":"next"
		},
		{
			"fromNodeId":"n_Figd6",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"IrNzc",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67c89525ab51f86320c5f5f1",
	"lastModifiedBy":0,
	"lcName":"publish searching block",
	"modifiedTime":1761722878619,
	"name":"Publish Searching Block",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":119,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"5eZmi",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"coPilotBlocks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Co Pilot Blocks"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"queries":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Queries"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"deepResearchEnabled":{
							"type":"boolean",
							"title":"Deep Research Enabled"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":142,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"fHb2Q",
			"index":2,
			"inputs":{
				"automationId":"67d3db6a94de00038c6005c3",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ 5eZmi.outputs.caseId }}",
					"Text":"Searching"
				}
			},
			"skip":true,
			"subTitle":"translated static text",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":453,
				"resourceName":"standard_entities_lookup_entities",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"n_DS4VJ",
			"index":3,
			"inputs":{
				"keys":[
					"Searching"
				],
				"lookupType":"ENTITY_ID:e_translations",
				"type":"ByKeys"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"cacheKey":"Searching_{{ __USER__.outputs.locale }}",
					"enabled":true,
					"timeToLive":"60",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Lookup Request",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":452,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"n_S00Jo",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"translatedText":{
							"type":"string",
							"title":"Translated Text"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"response":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Response"
						}
					}
				},
				"code":"if (!binding.hasVariable('response')) {\n  response = [:]\n}\n\n\ndef translatedText = response?.objects?.Searching?.properties?.label\n\nif (translatedText == null) {\n  translatedText = 'Searching'\n}\n\nreturn [translatedText : translatedText]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"response":"{{ n_DS4VJ.outputs.response }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":119,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"bXFKn",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"copilotBlocks":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Copilot Blocks"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"data",
						"translatedText"
					],
					"properties":{
						"data":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Data"
						},
						"translatedText":{
							"type":"string",
							"title":"Translated Text"
						}
					}
				},
				"code":"static Map<String, Object> safeMap(Object obj) {\n    return (obj instanceof Map) ? (Map<String, Object>) obj : Collections.emptyMap()\n}\n\nList<Map<String, Object>> copilotBlocks = []\n\nString translatedText = binding.hasVariable(\"translatedText\") ? binding.getVariable(\"translatedText\")?.toString() : \"\"\n\nif (translatedText == \"\" || translatedText == null) {\n    translatedText = \"Searching\"\n} \nList<Object> data = binding.hasVariable(\"data\") ? (List<Object>) binding.getVariable(\"data\") : []\n\nMap<String, Object> searchingBlock = [\n    blockType : \"Typography\",\n    data      : [\n        text   : translatedText,\n        animate: true\n    ],\n    appearance:[\n        variant: \"text-xs\",\n        color: \"text-quaternary\",\n        styles: [\n            margin: [\n                t: \"mt-xs\"\n            ]\n        ]\n    ]\n]\n\ncopilotBlocks.add(searchingBlock)\n\nMap<String, Object> stackBlock = [\n    blockType : \"Stack\",\n    appearance: [\n        alignItems    : \"center\",\n        wrapContent   : true,\n        styles        : [\n            gap : [all: \"gap-sm\"],\n            width: \"w-full\"\n        ],\n        justifyContent: \"flex-start\",\n        direction     : \"row\"\n    ]\n]\n\nMap<String, Object> dataList = [:]\nfor (int i = 0; i < data.size(); i++) {\n    dataList[(i + 1).toString()] = [\n        blockType: \"Tag\",\n        data     : [label: data[i]]\n    ]\n}\n\nstackBlock[\"data\"] = dataList\ncopilotBlocks.add(stackBlock)\n\nreturn [\"copilotBlocks\": copilotBlocks]\n",
				"compile_static":true,
				"captureStdOutput":false,
				"parameters":{
					"translatedText":"{{ n_S00Jo.outputs.result.translatedText }}",
					"data":{
						"source":"{{ 5eZmi.outputs.queries }}",
						"ua:type":"mappedArray",
						"items":"{{ 5eZmi.outputs.queries[0] }}"
					}
				}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":true,
					"timeToLive":"60",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"conv_ai_by_unifyapps",
				"resourceVersion":116,
				"resourceName":"conv_ai_by_unifyapps_publish_response",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"L2IpJ",
			"index":6,
			"inputs":{
				"callableInterfaceId":"__ua__publish_response_interface",
				"defaultFallbackWorkflowId":"66fbed229edc4e0b6303cefd",
				"parameters":{
					"responses":[
						{
							"language":"en"
						}
					],
					"caseId":"{{ 5eZmi.outputs.caseId }}",
					"publishToEndUser":true,
					"temporaryMessage":true,
					"async":false,
					"deepResearchEnabled":"{{ 5eZmi.outputs.deepResearchEnabled }}",
					"coPilotBlocks":{
						"source":"{{ bXFKn.outputs.result.copilotBlocks }}",
						"ua:type":"mappedArray",
						"items":"{{ bXFKn.outputs.result.copilotBlocks[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Conversation AI by UnifyApps",
			"title":"Publish Response",
			"type":"CALL_INTERFACE_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":542,
				"resourceName":"variable_by_unifyapps_get_session_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"n_UThit",
			"index":7,
			"inputs":{
				"variableSchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"parentCaseId":{
							"type":"string",
							"title":"Parent Case Id"
						},
						"parentAgentId":{
							"type":"string",
							"title":"Parent Agent Id"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Get Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":447,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"n_Figd6",
			"index":8,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_UThit.outputs.parentCaseId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Workflow parent agent",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"conv_ai_by_unifyapps",
				"resourceVersion":116,
				"resourceName":"conv_ai_by_unifyapps_publish_response",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Figd6@mIO4x-1@y",
			"id":"_jKb98",
			"index":9,
			"inputs":{
				"callableInterfaceId":"__ua__publish_response_interface",
				"defaultFallbackWorkflowId":"66fbed229edc4e0b6303cefd",
				"parameters":{
					"responses":[
						{
							"language":"en"
						}
					],
					"caseId":"{{ n_UThit.outputs.parentCaseId }}",
					"publishToEndUser":true,
					"temporaryMessage":true,
					"async":false,
					"deepResearchEnabled":"{{ 5eZmi.outputs.deepResearchEnabled }}",
					"coPilotBlocks":{
						"source":"{{ bXFKn.outputs.result.copilotBlocks }}",
						"ua:type":"mappedArray",
						"items":"{{ bXFKn.outputs.result.copilotBlocks[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Conversation AI by UnifyApps",
			"title":"Publish Response",
			"type":"CALL_INTERFACE_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":121,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mIO4x-1",
			"id":"IrNzc",
			"index":10,
			"inputs":{
				"result":{
					"coPilotBlocks":{
						"source":"{{ bXFKn.outputs.result.copilotBlocks }}",
						"ua:type":"mappedArray",
						"items":"{{ bXFKn.outputs.result.copilotBlocks[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1866,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":87
}