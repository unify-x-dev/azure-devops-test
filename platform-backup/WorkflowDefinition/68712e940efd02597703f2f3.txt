{
	"appsUsed":[
		
	],
	"createdTime":1752511449026,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296304678,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd70d60dd816d7799136",
		"status":"DEPLOYED",
		"version":35,
		"workflowVersion":53
	},
	"edges":[
		{
			"fromNodeId":"_tLVO6",
			"priority":0,
			"skip":false,
			"toNodeId":"RaNgI",
			"type":"next"
		},
		{
			"fromNodeId":"RaNgI",
			"priority":0,
			"skip":false,
			"toNodeId":"_wqcpd",
			"type":"next"
		},
		{
			"fromNodeId":"_wqcpd",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_EwXW3",
			"type":"if"
		},
		{
			"fromNodeId":"_EwXW3",
			"priority":0,
			"skip":false,
			"toNodeId":"4Azly",
			"type":"next"
		},
		{
			"fromNodeId":"_wqcpd",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4Azly",
			"type":"next"
		},
		{
			"fromNodeId":"4Azly",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"4Azly@1",
			"type":"branch"
		},
		{
			"fromNodeId":"4Azly@1",
			"priority":0,
			"skip":false,
			"toNodeId":"undefined_iv2vy",
			"type":"next"
		},
		{
			"fromNodeId":"4Azly",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"4Azly@2",
			"type":"branch"
		},
		{
			"fromNodeId":"4Azly@2",
			"priority":0,
			"skip":false,
			"toNodeId":"spEqn",
			"type":"next"
		},
		{
			"fromNodeId":"undefined_iv2vy",
			"priority":0,
			"skip":false,
			"toNodeId":"_0YdcZ",
			"type":"next"
		},
		{
			"fromNodeId":"spEqn",
			"priority":0,
			"skip":false,
			"toNodeId":"_0YdcZ",
			"type":"next"
		},
		{
			"fromNodeId":"4Azly",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"_0YdcZ",
			"type":"branch"
		},
		{
			"fromNodeId":"_0YdcZ",
			"priority":0,
			"skip":false,
			"toNodeId":"_wvKrV",
			"type":"next"
		},
		{
			"fromNodeId":"_wvKrV",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_qt2Ob",
			"type":"if"
		},
		{
			"fromNodeId":"_qt2Ob",
			"priority":0,
			"skip":false,
			"toNodeId":"_Lmvy7",
			"type":"next"
		},
		{
			"fromNodeId":"_wvKrV",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_Lmvy7",
			"type":"next"
		},
		{
			"fromNodeId":"_Lmvy7",
			"priority":0,
			"skip":false,
			"toNodeId":"_fKJt7",
			"type":"next"
		},
		{
			"fromNodeId":"_fKJt7",
			"priority":0,
			"skip":false,
			"toNodeId":"_ZFB8S",
			"type":"next"
		},
		{
			"fromNodeId":"_ZFB8S",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_ZqiSa",
			"type":"if"
		},
		{
			"fromNodeId":"_ZFB8S",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_8Wdyr",
			"type":"next"
		},
		{
			"fromNodeId":"_8Wdyr",
			"priority":0,
			"skip":false,
			"toNodeId":"_5tl6B",
			"type":"next"
		},
		{
			"fromNodeId":"_5tl6B",
			"priority":0,
			"skip":false,
			"toNodeId":"_Zi4Fj",
			"type":"next"
		},
		{
			"fromNodeId":"_Zi4Fj",
			"priority":0,
			"skip":false,
			"toNodeId":"_upNBL",
			"type":"next"
		},
		{
			"fromNodeId":"_upNBL",
			"priority":0,
			"skip":false,
			"toNodeId":"_G8kTR",
			"type":"next"
		},
		{
			"fromNodeId":"_G8kTR",
			"priority":0,
			"skip":false,
			"toNodeId":"asEiM",
			"type":"next"
		},
		{
			"fromNodeId":"asEiM",
			"priority":0,
			"skip":false,
			"toNodeId":"_iJpss",
			"type":"next"
		},
		{
			"fromNodeId":"_iJpss",
			"priority":0,
			"skip":false,
			"toNodeId":"_MEQlz",
			"type":"next"
		},
		{
			"fromNodeId":"_ZqiSa",
			"priority":0,
			"skip":false,
			"toNodeId":"_OUfIV",
			"type":"next"
		},
		{
			"fromNodeId":"_MEQlz",
			"priority":0,
			"skip":false,
			"toNodeId":"_OUfIV",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68712e940efd02597703f2f3",
	"lastModifiedBy":0,
	"lcName":"data rag - fetch metadata for user query",
	"modifiedTime":1761722858112,
	"name":"DATA RAG - Fetch Metadata for User Query",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_tLVO6",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"metadata":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"knowledgeId"
									},
									"metadata":{
										"type":"string",
										"title":"metadata"
									},
									"column_description":{
										"type":"string",
										"title":"column_description"
									},
									"column_label":{
										"type":"string",
										"title":"column_label"
									},
									"column_name":{
										"type":"string",
										"title":"column_name"
									},
									"platform_name":{
										"type":"string",
										"title":"platform_name"
									},
									"column_datatype":{
										"type":"string",
										"title":"column_datatype"
									},
									"table_name":{
										"type":"string",
										"title":"table_name"
									},
									"tablePrimaryKey":{
										"type":"string",
										"title":"tablePrimaryKey"
									},
									"tableDescription":{
										"type":"string",
										"title":"tableDescription"
									},
									"tableNameUI":{
										"type":"string",
										"title":"tableNameUI"
									}
								},
								"additionalProperties":false
							},
							"title":"metadata"
						},
						"platform":{
							"type":"string",
							"title":"platform"
						},
						"fewShotExamples":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Few Shot Examples"
						},
						"knowledgeInstructions":{
							"type":"string",
							"title":"Knowledge Instructions"
						},
						"knowledges":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Knowledges"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"userQuery":{
							"type":"string",
							"title":"User Query"
						},
						"tableIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Table Ids"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":21,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"RaNgI",
			"index":2,
			"inputs":{
				"automationId":"679c6123a6583456a71988d2",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ _tLVO6.outputs.caseId  }}",
					"aiAgentId":"{{ _tLVO6.outputs.aiAgentId  }}",
					"fetchKnowledgeSetKnowledges":true
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"fetchKnowledges",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":8,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_wqcpd",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ RaNgI.outputs.knowledges }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"=LEN({{ RaNgI.outputs.knowledges }})",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":9,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_wqcpd@ngYSB-1@y",
			"id":"_EwXW3",
			"index":4,
			"inputs":{
				"result":{}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"4Azly",
			"index":5,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"DATA RAG - Search Records "
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"Fetch Few Shot Examples and Instructions"
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4Azly@ngYSB-1@1",
			"id":"4Azly@1",
			"index":6,
			"inputs":{
				"name":"DATA RAG - Search Records "
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":56,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4Azly@ngYSB-1@1",
			"id":"undefined_iv2vy",
			"index":7,
			"inputs":{
				"automationId":"670faba2ed06293383433d38",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"query":"{{ _tLVO6.outputs.userQuery  }}",
					"aiAgentId":"{{ _tLVO6.outputs.aiAgentId  }}",
					"knowledges":{
						"source":"{{ RaNgI.outputs.knowledges }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ RaNgI.outputs.knowledges[0].id }}"
						}
					},
					"tableIds":{
						"source":"{{ _tLVO6.outputs.tableIds }}",
						"ua:type":"mappedArray",
						"items":"{{ _tLVO6.outputs.tableIds[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Metadata RAG",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4Azly@ngYSB-1@2",
			"id":"4Azly@2",
			"index":8,
			"inputs":{
				"name":"Fetch Few Shot Examples and Instructions"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":195,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"4Azly@ngYSB-1@2",
			"id":"spEqn",
			"index":9,
			"inputs":{
				"automationId":"67f3fb6287fcc53cf63d4938",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userQuery":"{{ _tLVO6.outputs.userQuery  }}",
					"knowledges":{
						"source":"{{ RaNgI.outputs.knowledges }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ RaNgI.outputs.knowledges[0].id }}",
							"properties":"{{ RaNgI.outputs.knowledges[0].properties }}"
						}
					},
					"aiAgentId":"{{ _tLVO6.outputs.aiAgentId  }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Few Shot RAG + Instr.",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_0YdcZ",
			"index":10,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"knowledgeId":{
											"type":"string",
											"title":"knowledgeId"
										},
										"metadata":{
											"type":"string",
											"title":"metadata"
										},
										"column_description":{
											"type":"string",
											"title":"column_description"
										},
										"column_label":{
											"type":"string",
											"title":"column_label"
										},
										"column_name":{
											"type":"string",
											"title":"column_name"
										},
										"platform_name":{
											"type":"string",
											"title":"platform_name"
										},
										"column_datatype":{
											"type":"string",
											"title":"column_datatype"
										},
										"table_name":{
											"type":"string",
											"title":"table_name"
										},
										"tablePrimaryKey":{
											"type":"string",
											"title":"tablePrimaryKey"
										},
										"tableDescription":{
											"type":"string",
											"title":"tableDescription"
										},
										"tableNameUI":{
											"type":"string",
											"title":"Table Name UI"
										}
									},
									"additionalProperties":false,
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"source":"{{ undefined_iv2vy.outputs.data }}",
					"items":{
						"knowledgeId":"{{ undefined_iv2vy.outputs.data[0].knowledgeId }}",
						"metadata":"{{ undefined_iv2vy.outputs.data[0].metadata }}",
						"column_description":"{{ undefined_iv2vy.outputs.data[0].column_description }}",
						"column_label":"{{ undefined_iv2vy.outputs.data[0].column_label }}",
						"column_name":"{{ undefined_iv2vy.outputs.data[0].column_name }}",
						"platform_name":"{{ undefined_iv2vy.outputs.data[0].platform_name }}",
						"column_datatype":"{{ undefined_iv2vy.outputs.data[0].column_datatype }}",
						"table_name":"{{ undefined_iv2vy.outputs.data[0].table_name }}",
						"tablePrimaryKey":"{{ undefined_iv2vy.outputs.data[0].tablePrimaryKey }}",
						"tableDescription":"{{ undefined_iv2vy.outputs.data[0].tableDescription }}",
						"tableNameUI":"{{ undefined_iv2vy.outputs.data[0].tableNameUI }}"
					}
				},
				"ua:title":"metadata",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"metadata",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"knowledgeId"
									},
									"metadata":{
										"type":"string",
										"title":"metadata"
									},
									"column_description":{
										"type":"string",
										"title":"column_description"
									},
									"column_label":{
										"type":"string",
										"title":"column_label"
									},
									"column_name":{
										"type":"string",
										"title":"column_name"
									},
									"platform_name":{
										"type":"string",
										"title":"platform_name"
									},
									"column_datatype":{
										"type":"string",
										"title":"column_datatype"
									},
									"table_name":{
										"type":"string",
										"title":"table_name"
									},
									"tablePrimaryKey":{
										"type":"string",
										"title":"tablePrimaryKey"
									},
									"tableDescription":{
										"type":"string",
										"title":"tableDescription"
									},
									"tableNameUI":{
										"type":"string",
										"title":"Table Name UI"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":8,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_wvKrV",
			"index":11,
			"inputs":{
				"filters":[
					{
						"property":"{{ undefined_iv2vy.outputs.data[0].metadata }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":9,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_wvKrV@ngYSB-1@y",
			"id":"_qt2Ob",
			"index":12,
			"inputs":{
				"result":{}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.metadata.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":78,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_Lmvy7",
			"index":13,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"platformNames":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Platform Names"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"metadata":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"// def platformNames = metadata.collect { it.platform_name}.toSet()\n// return [\"platformNames\": platformNames]\n\ndef platformNames = metadata.collect { metadataItem ->\n    switch(metadataItem.platform_name) {\n        case 'unifiedEntityModel':\n        case 'uem':\n        case 'unified_entity_by_unifyapps':\n        case 'storage_by_unifyapps':\n            return 'storage_by_unifyapps'\n        default:\n            return metadataItem.platform_name\n    }\n}.toSet()\n\nreturn [\"platformNames\": platformNames]\n",
				"isAsync":false,
				"parameters":{
					"metadata":{
						"source":"{{ undefined_iv2vy.outputs.data }}",
						"ua:type":"mappedArray",
						"items":"{{ undefined_iv2vy.outputs.data[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"UniquePlatformNames",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":134,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_fKJt7",
			"index":14,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"platform":{
							"type":"string",
							"title":"Platform"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"platform":{
							"type":"string",
							"title":"Platform"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"platformName",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":64,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_ZFB8S",
			"index":15,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ _Lmvy7.outputs.result.platformNames }})",
						"filter":{
							"operator":"EQUAL",
							"value":"1"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"only one platform",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@y",
			"id":"_ZqiSa",
			"index":16,
			"inputs":{
				"variables":[
					{
						"source":"{{ _fKJt7.outputs.platform }}",
						"value":"{{ _Lmvy7.outputs.result.platformNames[0] }}"
					}
				]
			},
			"skip":false,
			"subTitle":"platformName",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"template_by_unifyapps",
				"resourceVersion":87,
				"resourceName":"template_by_unifyapps_compile_template",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_8Wdyr",
			"index":17,
			"inputs":{
				"input_schema":{
					"metadata":"{{ undefined_iv2vy.outputs.data }}",
					"query":"{{ _tLVO6.outputs.userQuery  }}"
				},
				"template_id":"e_67124c1370d57447d9d28b1f"
			},
			"skip":false,
			"subTitle":"selecting_platform",
			"title":"Compile template",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":57,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_5tl6B",
			"index":18,
			"inputs":{
				"automationId":"66dfd76eb70dad256986b784",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"type":"text",
					"response_format":"json_object",
					"aiAgentId":"{{ _tLVO6.outputs.aiAgentId  }}",
					"content":"{{ _8Wdyr.outputs.output }}",
					"caseId":"{{ _tLVO6.outputs.caseId  }}"
				}
			},
			"skip":false,
			"subTitle":"find platform llm",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":24,
				"resourceName":"utility_by_unifyapps_to_json_object",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_Zi4Fj",
			"index":19,
			"inputs":{
				"jsonSchema":{
					"type":"object",
					"properties":{
						"reasoning":{
							"type":"string",
							"title":"reasoning"
						},
						"platform":{
							"type":"string",
							"title":"platform"
						}
					},
					"additionalProperties":false
				},
				"jsonString":"{{ _5tl6B.outputs.llmResponse }}"
			},
			"skip":false,
			"subTitle":"getPlatform",
			"title":"Deserialise string to JSON object",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_upNBL",
			"index":20,
			"inputs":{
				"variables":[
					{
						"source":"{{ _fKJt7.outputs.platform }}",
						"value":"{{ _Zi4Fj.outputs.result.platform }}"
					}
				]
			},
			"skip":false,
			"subTitle":"platformName",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_G8kTR",
			"index":21,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"filteredMetadata":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"knowledgeId":{
										"type":"string",
										"title":"knowledgeId"
									},
									"metadata":{
										"type":"string",
										"title":"metadata"
									},
									"column_description":{
										"type":"string",
										"title":"column_description"
									},
									"column_label":{
										"type":"string",
										"title":"column_label"
									},
									"column_name":{
										"type":"string",
										"title":"column_name"
									},
									"platform_name":{
										"type":"string",
										"title":"platform_name"
									},
									"column_datatype":{
										"type":"string",
										"title":"column_datatype"
									},
									"table_name":{
										"type":"string",
										"title":"table_name"
									},
									"tableNameUI":{
										"type":"string",
										"title":"Table Name UI"
									},
									"tablePrimaryKey":{
										"type":"string",
										"title":"Table Primary Key"
									},
									"tableDescription":{
										"type":"string",
										"title":"Table Description"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Filtered Metadata"
						},
						"platformName":{
							"type":"string",
							"title":"Platform Name"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"metadata":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Metadata"
						},
						"platformName":{
							"type":"string",
							"title":"Platform Name"
						}
					},
					"additionalProperties":false,
					"required":[
						"metadata",
						"platformName"
					]
				},
				"compile_static":false,
				"code":"def updatedMetadata = []\nfor(metadataDetails in metadata) {\n    if(metadataDetails.platform_name != null && metadataDetails.platform_name == platformName) {\n        updatedMetadata.add(metadataDetails)\n    }\n}\n\nif(updatedMetadata.isEmpty()) {\n    for(metadataDetail in metadata) {\n        if(metadataDetail?.platform_name != null && metadataDetail.platform_name.contains(platformName)){\n            platformName = metadataDetail.platform_name\n            break;\n        }\n    }\n\n    for(metadataDetails in metadata) {\n        if(metadataDetails.platform_name != null && metadataDetails.platform_name == platformName) {\n            updatedMetadata.add(metadataDetails)\n        }\n    }\n}\n\nreturn [\"filteredMetadata\": updatedMetadata, \"platformName\": platformName]",
				"parameters":{
					"metadata":{
						"source":"{{ _0YdcZ.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ _0YdcZ.outputs.items[0] }}"
					},
					"platformName":"{{ _fKJt7.outputs.platform }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":452,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"asEiM",
			"index":22,
			"inputs":{
				"variables":[
					{
						"source":"{{ _fKJt7.outputs.platform }}",
						"value":"{{ _G8kTR.outputs.result.platformName }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"variable_by_unifyapps_clear_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_iJpss",
			"index":23,
			"inputs":{
				"listName":"{{ _0YdcZ.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Remove all items from list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemsToAdd.items.knowledgeId",
					"root.itemsToAdd.items.metadata",
					"root.itemsToAdd.items.column_description",
					"root.itemsToAdd.items.column_label",
					"root.itemsToAdd.items.column_name",
					"root.itemsToAdd.items.platform_name",
					"root.itemsToAdd.items.column_datatype",
					"root.itemsToAdd.items.table_name",
					"root.itemsToAdd.items.tablePrimaryKey",
					"root.itemsToAdd.items.tableDescription",
					"root.itemsToAdd.items.tableNameUI"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"variable_by_unifyapps_add_items_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ZFB8S@ngYSB-1@n",
			"id":"_MEQlz",
			"index":24,
			"inputs":{
				"insertLocation":"END",
				"itemsToAdd":{
					"ua:type":"mappedArray",
					"items":{
						"knowledgeId":"{{ _G8kTR.outputs.result.filteredMetadata[0].knowledgeId }}",
						"metadata":"{{ _G8kTR.outputs.result.filteredMetadata[0].metadata }}",
						"column_description":"{{ _G8kTR.outputs.result.filteredMetadata[0].column_description }}",
						"column_label":"{{ _G8kTR.outputs.result.filteredMetadata[0].column_label }}",
						"column_name":"{{ _G8kTR.outputs.result.filteredMetadata[0].column_name }}",
						"platform_name":"{{ _G8kTR.outputs.result.filteredMetadata[0].platform_name }}",
						"column_datatype":"{{ _G8kTR.outputs.result.filteredMetadata[0].column_datatype }}",
						"table_name":"{{ _G8kTR.outputs.result.filteredMetadata[0].table_name }}",
						"tableNameUI":"{{ _G8kTR.outputs.result.filteredMetadata[0].tableNameUI }}",
						"tablePrimaryKey":"{{ _G8kTR.outputs.result.filteredMetadata[0].tablePrimaryKey }}",
						"tableDescription":"{{ _G8kTR.outputs.result.filteredMetadata[0].tableDescription }}"
					},
					"source":"{{ _G8kTR.outputs.result.filteredMetadata }}"
				},
				"listName":"{{ _0YdcZ.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add items to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ngYSB-1",
			"id":"_OUfIV",
			"index":25,
			"inputs":{
				"result":{
					"metadata":{
						"source":"{{ _0YdcZ.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"knowledgeId":"{{ _0YdcZ.outputs.items[0].knowledgeId }}",
							"metadata":"{{ _0YdcZ.outputs.items[0].metadata }}",
							"column_description":"{{ _0YdcZ.outputs.items[0].column_description }}",
							"column_label":"{{ _0YdcZ.outputs.items[0].column_label }}",
							"column_name":"{{ _0YdcZ.outputs.items[0].column_name }}",
							"platform_name":"{{ _0YdcZ.outputs.items[0].platform_name }}",
							"column_datatype":"{{ _0YdcZ.outputs.items[0].column_datatype }}",
							"table_name":"{{ _0YdcZ.outputs.items[0].table_name }}",
							"tablePrimaryKey":"{{ _0YdcZ.outputs.items[0].tablePrimaryKey }}",
							"tableDescription":"{{ _0YdcZ.outputs.items[0].tableDescription }}",
							"tableNameUI":"{{ _0YdcZ.outputs.items[0].tableNameUI }}"
						}
					},
					"platform":"{{ _fKJt7.outputs.platform }}",
					"fewShotExamples":{
						"source":"{{ spEqn.outputs.fewShotExamples }}",
						"ua:type":"mappedArray",
						"items":"{{ spEqn.outputs.fewShotExamples[0] }}"
					},
					"knowledgeInstructions":"{{ spEqn.outputs.instructions }}",
					"knowledges":{
						"source":"{{ RaNgI.outputs.knowledges }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ RaNgI.outputs.knowledges[0].id }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":32562,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":55
}