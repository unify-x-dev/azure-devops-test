{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1722666759211,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1761288016734,
		"deployedBy":635,
		"deployedDefinitionId":"68fb1f50cc36024e0ca63b09",
		"status":"DEPLOYED",
		"version":134,
		"workflowVersion":803
	},
	"edges":[
		{
			"fromNodeId":"NJu5U",
			"priority":0,
			"skip":false,
			"toNodeId":"sgMGe",
			"type":"next"
		},
		{
			"fromNodeId":"sgMGe",
			"priority":0,
			"skip":false,
			"toNodeId":"cbX1G",
			"type":"next"
		},
		{
			"fromNodeId":"cbX1G",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"rEntB",
			"type":"if"
		},
		{
			"fromNodeId":"cbX1G",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_kntop",
			"type":"next"
		},
		{
			"fromNodeId":"rEntB",
			"priority":0,
			"skip":false,
			"toNodeId":"wa2dQ",
			"type":"next"
		},
		{
			"fromNodeId":"_kntop",
			"priority":0,
			"skip":false,
			"toNodeId":"wa2dQ",
			"type":"next"
		},
		{
			"fromNodeId":"wa2dQ",
			"priority":0,
			"skip":false,
			"toNodeId":"0lHBs",
			"type":"next"
		},
		{
			"fromNodeId":"0lHBs",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"LILT3",
			"type":"next"
		},
		{
			"fromNodeId":"LILT3",
			"priority":0,
			"skip":false,
			"toNodeId":"hsp6A",
			"type":"next"
		},
		{
			"fromNodeId":"0lHBs",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"hsp6A",
			"type":"error"
		},
		{
			"fromNodeId":"hsp6A",
			"priority":0,
			"skip":false,
			"toNodeId":"lwJc1",
			"type":"next"
		},
		{
			"fromNodeId":"lwJc1",
			"priority":0,
			"skip":false,
			"toNodeId":"vtWGA",
			"type":"next"
		},
		{
			"fromNodeId":"vtWGA",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"FJBqv",
			"type":"if"
		},
		{
			"fromNodeId":"FJBqv",
			"priority":0,
			"skip":false,
			"toNodeId":"2ULeI",
			"type":"next"
		},
		{
			"fromNodeId":"2ULeI",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ikm1R",
			"type":"next"
		},
		{
			"fromNodeId":"vtWGA",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ikm1R",
			"type":"next"
		},
		{
			"fromNodeId":"_Ikm1R",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_lzuRj",
			"type":"if"
		},
		{
			"fromNodeId":"_lzuRj",
			"priority":0,
			"skip":false,
			"toNodeId":"_AsB1c",
			"type":"next"
		},
		{
			"fromNodeId":"_AsB1c",
			"priority":0,
			"skip":false,
			"toNodeId":"WRCyn",
			"type":"next"
		},
		{
			"fromNodeId":"_Ikm1R",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"WRCyn",
			"type":"next"
		},
		{
			"fromNodeId":"WRCyn",
			"priority":0,
			"skip":false,
			"toNodeId":"ZZ5dN",
			"type":"next"
		},
		{
			"fromNodeId":"ZZ5dN",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"ZZ5dN@1",
			"type":"branch"
		},
		{
			"fromNodeId":"ZZ5dN@1",
			"priority":0,
			"skip":false,
			"toNodeId":"VeB1U",
			"type":"next"
		},
		{
			"fromNodeId":"VeB1U",
			"priority":0,
			"skip":false,
			"toNodeId":"oPY5O",
			"type":"next"
		},
		{
			"fromNodeId":"oPY5O",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"EIUbu",
			"type":"if"
		},
		{
			"fromNodeId":"EIUbu",
			"priority":0,
			"skip":false,
			"toNodeId":"9qi0u",
			"type":"next"
		},
		{
			"fromNodeId":"9qi0u",
			"priority":0,
			"skip":false,
			"toNodeId":"Ejyrh",
			"type":"next"
		},
		{
			"fromNodeId":"Ejyrh",
			"priority":0,
			"skip":false,
			"toNodeId":"4QrAm",
			"type":"next"
		},
		{
			"fromNodeId":"oPY5O",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4QrAm",
			"type":"next"
		},
		{
			"fromNodeId":"4QrAm",
			"priority":0,
			"skip":false,
			"toNodeId":"n_LDl8F",
			"type":"next"
		},
		{
			"fromNodeId":"n_LDl8F",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ObZrg",
			"type":"if"
		},
		{
			"fromNodeId":"n_ObZrg",
			"priority":0,
			"skip":false,
			"toNodeId":"FLEro",
			"type":"next"
		},
		{
			"fromNodeId":"FLEro",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pOaCE",
			"type":"next"
		},
		{
			"fromNodeId":"n_LDl8F",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4xf64",
			"type":"next"
		},
		{
			"fromNodeId":"ZZ5dN",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"ZZ5dN@2",
			"type":"branch"
		},
		{
			"fromNodeId":"ZZ5dN@2",
			"priority":0,
			"skip":false,
			"toNodeId":"qQWoM",
			"type":"next"
		},
		{
			"fromNodeId":"qQWoM",
			"priority":0,
			"skip":false,
			"toNodeId":"Cfjm0",
			"type":"next"
		},
		{
			"fromNodeId":"ZZ5dN",
			"name":"3",
			"priority":0,
			"skip":false,
			"toNodeId":"ZZ5dN@3",
			"type":"branch"
		},
		{
			"fromNodeId":"ZZ5dN@3",
			"priority":0,
			"skip":false,
			"toNodeId":"JbZEH",
			"type":"next"
		},
		{
			"fromNodeId":"JbZEH",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"YZBWr",
			"type":"if"
		},
		{
			"fromNodeId":"YZBWr",
			"priority":0,
			"skip":false,
			"toNodeId":"WLeog",
			"type":"next"
		},
		{
			"fromNodeId":"JbZEH",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"WLeog",
			"type":"next"
		},
		{
			"fromNodeId":"WLeog",
			"priority":0,
			"skip":false,
			"toNodeId":"n_lxcmj",
			"type":"next"
		},
		{
			"fromNodeId":"n_lxcmj",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ra044",
			"type":"next"
		},
		{
			"fromNodeId":"n_ra044",
			"priority":0,
			"skip":false,
			"toNodeId":"n_CuKoO",
			"type":"next"
		},
		{
			"fromNodeId":"n_CuKoO",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_msW3u",
			"type":"if"
		},
		{
			"fromNodeId":"n_CuKoO",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_9Bmlc",
			"type":"next"
		},
		{
			"fromNodeId":"ZZ5dN",
			"name":"4",
			"priority":0,
			"skip":false,
			"toNodeId":"ZZ5dN@4",
			"type":"branch"
		},
		{
			"fromNodeId":"ZZ5dN@4",
			"priority":0,
			"skip":false,
			"toNodeId":"_6uT7X",
			"type":"next"
		},
		{
			"fromNodeId":"_6uT7X",
			"priority":0,
			"skip":false,
			"toNodeId":"_fFbh6",
			"type":"next"
		},
		{
			"fromNodeId":"ZZ5dN",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"UAxwR",
			"type":"branch"
		},
		{
			"fromNodeId":"UAxwR",
			"priority":0,
			"skip":false,
			"toNodeId":"kkN4o",
			"type":"next"
		},
		{
			"fromNodeId":"kkN4o",
			"priority":0,
			"skip":false,
			"toNodeId":"9UqQn",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66adcf070fbab558a8313d55",
	"lastModifiedBy":0,
	"lcName":"knowledge enablement handler",
	"modifiedTime":1761722762168,
	"name":"Knowledge Enablement Handler",
	"nodes":[
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2221,
				"resourceName":"storage_by_unifyapps_on_any_change"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"NJu5U",
			"index":1,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"{{ NJu5U.outputs.object.properties.status }}",
							"filter":{
								"operator":"EQUAL",
								"value":"DRAFT"
							}
						},
						{
							"property":"{{ NJu5U.outputs.object.properties.enabled }}",
							"filter":{
								"operator":"EQUAL",
								"value":"true"
							}
						},
						{
							"property":"{{ NJu5U.outputs.change_type }}",
							"filter":{
								"operator":"NOT_EQUAL",
								"value":"DELETED"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge"
			},
			"skip":false,
			"subTitle":"knowledge",
			"title":"Changed record",
			"trigger":{
				"type":"EVENT"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":326,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"sgMGe",
			"index":2,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch knowledge",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":314,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"cbX1G",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ sgMGe.outputs.properties.status }}",
						"filter":{
							"operator":"EQUAL",
							"value":"SYNCING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Already syncing (Added for race condition)",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"cbX1G@T3ls7-1@y",
			"id":"rEntB",
			"index":4,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1770,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"cbX1G@T3ls7-1@n",
			"id":"_kntop",
			"index":5,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"SYNCING"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Status: SYNCING",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":304,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"wa2dQ",
			"index":6,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"model":{
							"type":"string",
							"title":"Model"
						},
						"vectorStore":{
							"type":"string",
							"title":"Vector Store"
						},
						"vectorStoreConnectionId":{
							"type":"string",
							"title":"Vector Store Connection Id"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"model":{
							"type":"string",
							"title":"Model"
						},
						"vectorStore":{
							"type":"string",
							"title":"Vector Store"
						},
						"vectorStoreConnectionId":{
							"type":"string",
							"title":"Vector Store Connection Id"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":20,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"T3ls7-1",
			"id":"0lHBs",
			"index":7,
			"inputs":{
				"automationId":"679b63bad2256d4d7f32464f",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"fetchFromIndexingSettings":true,
					"knowledgeId":"{{ NJu5U.outputs.object.id }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"embedding Model",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":240,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0lHBs@T3ls7-1@success",
			"id":"LILT3",
			"index":8,
			"inputs":{
				"variables":[
					{
						"source":"{{ wa2dQ.outputs.model }}",
						"value":"{{ 0lHBs.outputs.modelId }}"
					},
					{
						"source":"{{ wa2dQ.outputs.vectorStore }}",
						"value":"{{ 0lHBs.outputs.vectorStore }}"
					},
					{
						"source":"{{ wa2dQ.outputs.vectorStoreConnectionId }}",
						"value":"{{ 0lHBs.outputs.vectorStoreConnectionId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":200,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"hsp6A",
			"index":9,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"userId"
					],
					"properties":{
						"userId":{
							"type":"string",
							"title":"User Id"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"userId"
					],
					"properties":{
						"userId":{
							"type":"string",
							"title":"User Id"
						}
					}
				},
				"code":"return [userId:userId.toString()]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"userId":"{{ NJu5U.outputs.object.lastModifiedBy }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":12,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"lwJc1",
			"index":10,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"additional":{
							"type":"object",
							"properties":{
								"knowledgeId":{
									"type":"string",
									"title":"Knowledge Id"
								},
								"status":{
									"type":"string",
									"title":"Status"
								},
								"version":{
									"type":"integer",
									"title":"Version"
								},
								"lastSyncTime":{
									"type":"integer",
									"title":"Last Sync Time"
								}
							},
							"additionalProperties":false,
							"title":"Additional",
							"required":[]
						},
						"userId":{
							"type":"string",
							"title":"User Id"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"additional":{
					"version":"=SUM({{ NJu5U.outputs.object.version }},1)",
					"status":"SYNCING",
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"lastSyncTime":"{{ NJu5U.outputs.object.properties.lastSyncTime }}"
				},
				"userId":"{{ hsp6A.outputs.result.userId }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"additional":{
							"type":"object",
							"properties":{
								"knowledgeId":{
									"type":"string",
									"title":"Knowledge Id"
								},
								"status":{
									"type":"string",
									"title":"Status"
								},
								"version":{
									"type":"integer",
									"title":"Version"
								},
								"lastSyncTime":{
									"type":"integer",
									"title":"Last Sync Time"
								}
							},
							"additionalProperties":false,
							"title":"Additional",
							"required":[]
						},
						"userId":{
							"type":"string",
							"title":"User Id"
						},
						"_ua_variableDetails":{
							"items":{
								"type":"object",
								"properties":{
									"dataType":{
										"type":"string",
										"description":"Data type of the variable"
									},
									"name":{
										"type":"string",
										"description":"Name of the variable"
									},
									"description":{
										"type":"string",
										"description":"Description of the variable"
									}
								}
							},
							"type":"array",
							"title":"Variable Details"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":409,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"vtWGA",
			"index":11,
			"inputs":{
				"filters":[
					{
						"property":"{{ wa2dQ.outputs.model }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Model present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1770,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vtWGA@T3ls7-1@y",
			"id":"FJBqv",
			"index":12,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.additionalDetails.embeddingModel",
						"actionType":"SET",
						"setValue":"{{ wa2dQ.outputs.model }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Add embedding model",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":135,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"vtWGA@T3ls7-1@y",
			"id":"2ULeI",
			"index":13,
			"inputs":{
				"variables":[
					{
						"source":"{{ lwJc1.outputs.additional }}",
						"value":{
							"knowledgeId":"{{ lwJc1.outputs.additional.knowledgeId }}",
							"status":"{{ lwJc1.outputs.additional.status }}",
							"version":"=SUM({{ lwJc1.outputs.additional.version }},1)",
							"lastSyncTime":"{{ lwJc1.outputs.additional.lastSyncTime }}"
						}
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":409,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"_Ikm1R",
			"index":14,
			"inputs":{
				"filters":[
					{
						"property":"{{ wa2dQ.outputs.vectorStore }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ wa2dQ.outputs.vectorStoreConnectionId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"VectorStore present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1770,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ikm1R@T3ls7-1@y",
			"id":"_lzuRj",
			"index":15,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"updateFields":[
					{
						"actionType":"SET",
						"setValue":"{{ wa2dQ.outputs.vectorStore }}",
						"fieldName":"properties.additionalDetails.vectorStore"
					},
					{
						"actionType":"SET",
						"setValue":"{{ wa2dQ.outputs.vectorStoreConnectionId }}",
						"fieldName":"properties.additionalDetails.vectorStoreConnectionId"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Add vector store and connection",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":135,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Ikm1R@T3ls7-1@y",
			"id":"_AsB1c",
			"index":16,
			"inputs":{
				"variables":[
					{
						"source":"{{ lwJc1.outputs.additional }}",
						"value":{
							"knowledgeId":"{{ lwJc1.outputs.additional.knowledgeId }}",
							"status":"{{ lwJc1.outputs.additional.status }}",
							"version":"=SUM({{ lwJc1.outputs.additional.version }},1)",
							"lastSyncTime":"{{ lwJc1.outputs.additional.lastSyncTime }}"
						}
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"chat_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"chat_by_unifyapps_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"T3ls7-1",
			"id":"WRCyn",
			"index":17,
			"inputs":{
				"payload":{
					"additional":"{{ lwJc1.outputs.additional }}"
				},
				"userId":"{{ lwJc1.outputs.userId }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Chat by UnifyApps",
			"title":"Send message",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"T3ls7-1",
			"id":"ZZ5dN",
			"index":18,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"Application",
							"conditions":{
								"filters":[
									{
										"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"APPLICATION"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"Website",
							"conditions":{
								"filters":[
									{
										"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"WEBSITE"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"3",
						"inputs":{
							"name":"File",
							"conditions":{
								"filters":[
									{
										"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"FILE"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"4",
						"inputs":{
							"name":"Data Catalog",
							"conditions":{
								"filters":[
									{
										"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"DATA_CATALOG"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":34,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@1",
			"id":"ZZ5dN@1",
			"index":19,
			"inputs":{
				"name":"Application",
				"conditions":{
					"filters":[
						{
							"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"APPLICATION"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1285,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@1",
			"id":"VeB1U",
			"index":20,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.properties.applicationInfo.context.resourceName }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_source",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Knowledge source",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":16,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@1",
			"id":"oPY5O",
			"index":21,
			"inputs":{
				"filters":[
					{
						"property":"{{ VeB1U.outputs.properties.metadataIndexing }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"metadataIndexing",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1770,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"oPY5O@ZZ5dN@T3ls7-1@1@y",
			"id":"EIUbu",
			"index":22,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.additionalDetails.metadataIndexing",
						"actionType":"SET",
						"setValue":"{{ VeB1U.outputs.properties.metadataIndexing }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"metadata Indexing",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":135,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"oPY5O@ZZ5dN@T3ls7-1@1@y",
			"id":"9qi0u",
			"index":23,
			"inputs":{
				"variables":[
					{
						"source":"{{ lwJc1.outputs.additional }}",
						"value":{
							"knowledgeId":"{{ lwJc1.outputs.additional.knowledgeId }}",
							"status":"{{ lwJc1.outputs.additional.status }}",
							"version":"=SUM({{ lwJc1.outputs.additional.version }},1)",
							"lastSyncTime":"{{ lwJc1.outputs.additional.lastSyncTime }}"
						}
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"chat_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"chat_by_unifyapps_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"oPY5O@ZZ5dN@T3ls7-1@1@y",
			"id":"Ejyrh",
			"index":24,
			"inputs":{
				"payload":{
					"additional":"{{ lwJc1.outputs.additional }}"
				},
				"userId":"{{ lwJc1.outputs.userId }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Chat by UnifyApps",
			"title":"Send message",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.grabbingFrequency.items",
					"root.parameters.indexerAutomations.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@1",
			"id":"4QrAm",
			"index":25,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"params":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Params"
						},
						"connections":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Connections"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"connectionId":{
							"type":"string",
							"title":"Connection Id"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						}
					}
				},
				"code":"\ndef map = [\n    \"knowledgeId\": knowledgeId, \n]\n\nif (binding.hasVariable('inputs') && inputs != null) {\n    map.put(\"inputs\", inputs)\n    map.putAll(inputs)\n}\n\nreturn [\n    \"params\": map,\n    \"connections\": binding.hasVariable('connectionId') && binding.hasVariable('appName') ? [(appName):connectionId] : null\n]",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"inputs":"{{ NJu5U.outputs.object.properties.applicationInfo.inputs }}",
					"connectionId":"{{ NJu5U.outputs.object.properties.applicationInfo.context.connectionId }}",
					"appName":"{{ NJu5U.outputs.object.properties.applicationInfo.context.appName }}"
				}
			},
			"skip":false,
			"subTitle":"prepare Inputs",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":437,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@1",
			"id":"n_LDl8F",
			"index":26,
			"inputs":{
				"filters":[
					{
						"property":"{{ VeB1U.outputs.properties.newIndexingFlowEnabled }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"New Indexing flow?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":570,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_LDl8F@ZZ5dN@T3ls7-1@1@y",
			"id":"n_ObZrg",
			"index":27,
			"inputs":{
				"automationId":"68dfd2e9ff54bc77a8a18919",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"knowledgeSource":"{{ VeB1U.outputs.properties }}",
					"knowledge":"{{ NJu5U.outputs.object.properties }}"
				}
			},
			"skip":false,
			"subTitle":"Initialize Knowledge Object",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":54,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_LDl8F@ZZ5dN@T3ls7-1@1@y",
			"id":"FLEro",
			"index":28,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"importerParams"
					],
					"properties":{
						"importerParams":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Importer Params"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"importerParams"
					],
					"properties":{
						"importerParams":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Importer Params"
						},
						"knowledge":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Knowledge"
						}
					}
				},
				"code":"importerParams.put('knowledge', knowledge)\nreturn [\n  \"importerParams\":importerParams\n]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"importerParams":"{{ 4QrAm.outputs.result.params }}",
					"knowledge":"{{ n_ObZrg.outputs.knowledge }}"
				}
			},
			"skip":false,
			"subTitle":"TODO : need to handle this for all resources at one place (currently used in refresher)",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":459,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_LDl8F@ZZ5dN@T3ls7-1@1@y",
			"id":"n_pOaCE",
			"index":29,
			"inputs":{
				"automationId":"68542b2278cd2411657b613d",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"importerParams":"{{ FLEro.outputs.result.importerParams }}",
					"importerConnections":"{{ 4QrAm.outputs.result.connections }}",
					"downloaderAutomation":"{{ VeB1U.outputs.properties.downloaderAutomationId }}",
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"syncMode":"{{ VeB1U.outputs.properties.syncMode }}",
					"timeBasedIndexingSupported":"{{ VeB1U.outputs.properties.timeBasedIndexingSupported }}",
					"webhookTemplateId":"{{ VeB1U.outputs.properties.webhookTemplateId }}",
					"knowledgeScheduleEnabled":"{{ n_ObZrg.outputs.knowledge.knowledgeScheduleEnabled }}",
					"grabbingFrequency":{
						"source":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency }}",
						"ua:type":"mappedArray",
						"items":{
							"unit":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].unit }}",
							"duration":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].duration }}",
							"type":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].type }}",
							"grabberType":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].grabberType }}",
							"scheduleType":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].scheduleType }}",
							"daysOfWeek":{
								"source":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].daysOfWeek }}",
								"ua:type":"mappedArray",
								"items":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].daysOfWeek[0] }}"
							},
							"daysOfMonth":{
								"source":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].daysOfMonth }}",
								"ua:type":"mappedArray",
								"items":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].daysOfMonth[0] }}"
							},
							"expression":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].expression }}",
							"triggerAt":"{{ n_ObZrg.outputs.knowledge.grabbingFrequency[0].triggerAt }}"
						}
					},
					"indexerAutomations":{
						"source":"{{ VeB1U.outputs.properties.indexerAutomations }}",
						"ua:type":"mappedArray",
						"items":{
							"type":"{{ VeB1U.outputs.properties.indexerAutomations[0].type }}",
							"automationId":"{{ VeB1U.outputs.properties.indexerAutomations[0].automationId }}",
							"batchSize":"{{ VeB1U.outputs.properties.indexerAutomations[0].batchSize }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Knowledge Processor",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_LDl8F@ZZ5dN@T3ls7-1@1@n",
			"id":"4xf64",
			"index":30,
			"inputs":{
				"automationId":"66cc691b66e9a451803eb8f9",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"importerParams":"{{ 4QrAm.outputs.result.params }}",
					"importerAutomationId":"{{ VeB1U.outputs.properties.completeSyncAutomationId }}",
					"importerConnections":"{{ 4QrAm.outputs.result.connections }}"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Importer",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":34,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@2",
			"id":"ZZ5dN@2",
			"index":31,
			"inputs":{
				"name":"Website",
				"conditions":{
					"filters":[
						{
							"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"WEBSITE"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.url_list.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":55,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@2",
			"id":"qQWoM",
			"index":32,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"params":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Params"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"ai_agent_id":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"test":{
							"type":"string",
							"title":"Test"
						},
						"specific_webpages":{
							"type":"boolean",
							"title":"Specific Webpages",
							"default":false
						},
						"url_list":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Url List"
						},
						"knowledge_id":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"includeDocuments":{
							"type":"boolean",
							"title":"Include Documents"
						},
						"webpageFetchLimit":{
							"type":"integer",
							"title":"Webpage Fetch Limit"
						},
						"crawlDepth":{
							"type":"integer",
							"title":"Crawl Depth"
						}
					}
				},
				"code":"// def formattedUrlList = (binding.hasVariable('url_list') ? url_list : []).collect { url ->\n//     [\n//         \"depth\": max_depth,\n//         \"url\"  : url\n//     ]\n// }\n\ndef formattedUrlList = (binding.hasVariable('url_list') ? url_list : [])\ndef crawlDepth = (binding.hasVariable('crawlDepth') ? crawlDepth : 2)\ndef webpageFetchLimit = (binding.hasVariable('webpageFetchLimit') ? webpageFetchLimit : 100)\ndef includeDocuments = (binding.hasVariable('includeDocuments') ? includeDocuments : false)\n\ndef params = [\n    \"knowledge_id\": knowledge_id,\n    \"test\": test,\n    \"specific_webpages\": specific_webpages,\n    \"url_list\": formattedUrlList,\n    \"max_depth\": crawlDepth,\n    \"agenticProcessing\":true,\n    \"agenticProcessingModelId\":\"e_ai_agent_openai_gpt_4.1_nano\",\n    \"websiteFetchLimit\":webpageFetchLimit,\n    \"downloadFilesAndIndex\":includeDocuments,\n    \"downloadFilesAndIndexLimit\":10\n]\n\nreturn [\"params\": params]\n",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"test":"false",
					"specific_webpages":"{{ NJu5U.outputs.object.properties.websiteImportInfo.specificWebpages }}",
					"knowledge_id":"{{ NJu5U.outputs.object.id }}",
					"includeDocuments":"{{ NJu5U.outputs.object.properties.websiteImportInfo.includeDocuments }}",
					"webpageFetchLimit":"{{ NJu5U.outputs.object.properties.websiteImportInfo.webpageFetchLimit }}",
					"crawlDepth":"{{ NJu5U.outputs.object.properties.websiteImportInfo.crawlDepth }}",
					"url_list":{
						"ua:type":"mappedArray",
						"source":"{{ NJu5U.outputs.object.properties.websiteImportInfo.urlList }}",
						"items":"{{ NJu5U.outputs.object.properties.websiteImportInfo.urlList[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":51,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@2",
			"id":"Cfjm0",
			"index":33,
			"inputs":{
				"automationId":"66cc691b66e9a451803eb8f9",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"importerParams":"{{ qQWoM.outputs.result.params }}",
					"importerAutomationId":"67dd2df5f1df631bbae2f509"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Importer",
			"title":"Fallback title for node, please add this in NodesFactory",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":34,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"ZZ5dN@3",
			"index":34,
			"inputs":{
				"name":"File",
				"conditions":{
					"filters":[
						{
							"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"FILE"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":37,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"JbZEH",
			"index":35,
			"inputs":{
				"filters":[
					{
						"property":"{{ NJu5U.outputs.object.properties.fileDetails.sourceType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"URL"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":37,
				"resourceName":"utility_by_unifyapps_create_unifyapps_file_from_url",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"JbZEH@ZZ5dN@T3ls7-1@3@y",
			"id":"YZBWr",
			"index":36,
			"inputs":{
				"url":"{{ NJu5U.outputs.object.properties.fileDetails.url }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps file from url",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"WLeog",
			"index":37,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"params":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Params"
						},
						"knowledgeVersion":{
							"type":"string",
							"title":"Knowledge Version"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"fileDetailsFromPath"
					],
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"fileDetails":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details",
							"required":[]
						},
						"fileDetailsFromPath":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details From Path"
						},
						"indexingVersion":{
							"type":"integer",
							"title":"Indexing Version"
						}
					}
				},
				"code":"def finalFileDetails = fileDetails;\nif(fileDetails?.sourceType == \"URL\") {\n    finalFileDetails = new HashMap<>(fileDetailsFromPath)\n    finalFileDetails.put(\"fileType\", fileDetails.fileType)\n}\n\ndef params = [\n    \"knowledge_id\": binding.hasVariable('knowledgeId') ? knowledgeId : null,\n    \"ai_agent_id\": binding.hasVariable('aiAgentId') ? aiAgentId : null,\n    \"fileDetails\": binding.hasVariable('fileDetails') ? [\n        \"name\": finalFileDetails.name,\n        \"source\": finalFileDetails.source,\n        \"fileType\": finalFileDetails.fileType,\n        \"sourceType\":finalFileDetails.sourceType\n    ] : null,\n    \"isDeepIndexing\": false,\n    \"depth\": 1\n]\n\nif (!finalFileDetails.containsKey(\"sourceType\")){\n    params.fileDetails[\"sourceType\"] = \"CLOUD_STORAGE\"\n}\nreturn [\n    \"params\": params,\n    \"knowledgeVersion\": (binding.hasVariable(\"indexingVersion\") ? indexingVersion : 0 ) + 1\n]",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"fileDetails":"{{ NJu5U.outputs.object.properties.fileDetails }}",
					"fileDetailsFromPath":"{{ YZBWr.outputs.file }}",
					"indexingVersion":"{{ NJu5U.outputs.object.properties.indexingVersion }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":592,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"n_lxcmj",
			"index":38,
			"inputs":{
				"automationId":"6867a54b78989b484e92345e",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"sourceResponse":"{{ WLeog.outputs.result.params }}",
					"knowledgeVersion":"{{ WLeog.outputs.result.knowledgeVersion }}",
					"resourceType":"file",
					"uniqueEntityId":"{{ NJu5U.outputs.object.id }}",
					"isTypeFile":true,
					"knowledgeSetId":"{{ NJu5U.outputs.object.properties.knowledgeSetId }}",
					"sharedWithIds":{
						"items":"GLOBAL",
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Store Knowledge Raw Data",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":465,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"n_ra044",
			"index":39,
			"inputs":{
				"automationId":"66cc691b66e9a451803eb8f9",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"importerParams":"{{ WLeog.outputs.result.params }}",
					"importerAutomationId":"66a784c1c2d78732bf240022"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Importer",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":447,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@3",
			"id":"n_CuKoO",
			"index":40,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_ra044.outputs.success }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":764,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CuKoO@ZZ5dN@T3ls7-1@3@y",
			"id":"n_msW3u",
			"index":41,
			"inputs":{
				"recordId":"{{ n_lxcmj.outputs.id }}",
				"writeThroughSessionVariables":false,
				"object_type":"knowledge_raw_data_store",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"PROCESSED"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":764,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_CuKoO@ZZ5dN@T3ls7-1@3@n",
			"id":"_9Bmlc",
			"index":42,
			"inputs":{
				"recordId":"{{ n_lxcmj.outputs.id }}",
				"writeThroughSessionVariables":false,
				"object_type":"knowledge_raw_data_store",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"FAILED"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":11,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@4",
			"id":"ZZ5dN@4",
			"index":43,
			"inputs":{
				"name":"Data Catalog",
				"conditions":{
					"filters":[
						{
							"property":"{{ NJu5U.outputs.object.properties.sourceType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"DATA_CATALOG"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@4",
			"id":"_6uT7X",
			"index":44,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"params":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Params"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"dataCatalogInfo":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Data Catalog Info"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def params = [\n    \"knowledge_id\": binding.hasVariable('knowledgeId') ? knowledgeId : null,\n    \"dataCatalogInfo\": binding.hasVariable('dataCatalogInfo') ? [\n        \"id\": dataCatalogInfo.id\n    ] : null\n]\nreturn [\"params\": params]",
				"isAsync":false,
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"dataCatalogInfo":"{{ NJu5U.outputs.object.properties.dataCatalogInfo }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":51,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@4",
			"id":"_fFbh6",
			"index":45,
			"inputs":{
				"automationId":"66cc691b66e9a451803eb8f9",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ NJu5U.outputs.object.id }}",
					"importerAutomationId":"675ea20b4d76b7784c28447d",
					"importerParams":"{{ _6uT7X.outputs.result.params }}"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Importer",
			"title":"Fallback title for node, please add this in NodesFactory",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1291,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@default",
			"id":"UAxwR",
			"index":46,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ NJu5U.outputs.object.id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"updateFields":[
					{
						"fieldName":"properties.status",
						"actionType":"SET",
						"setValue":"FAILED"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"knowledge Status Failed",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":135,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@default",
			"id":"kkN4o",
			"index":47,
			"inputs":{
				"variables":[
					{
						"source":"{{ lwJc1.outputs.additional }}",
						"value":{
							"knowledgeId":"{{ lwJc1.outputs.additional.knowledgeId }}",
							"version":"=SUM({{ lwJc1.outputs.additional.version }},1)",
							"lastSyncTime":"{{ lwJc1.outputs.additional.lastSyncTime }}",
							"status":"FAILED"
						}
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"chat_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"chat_by_unifyapps_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"ZZ5dN@T3ls7-1@default",
			"id":"9UqQn",
			"index":48,
			"inputs":{
				"payload":{
					"additional":"{{ lwJc1.outputs.additional }}"
				},
				"userId":"{{ lwJc1.outputs.userId }}"
			},
			"skip":false,
			"subTitle":"Chat by UnifyApps",
			"title":"Send message",
			"type":"ACTION"
		}
	],
	"ownerUserId":1866,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":804
}