{
	"appsUsed":[
		
	],
	"createdTime":1754285406417,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296247835,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd370c3d19149a9e35ce",
		"status":"DEPLOYED",
		"version":24,
		"workflowVersion":64
	},
	"edges":[
		{
			"fromNodeId":"n_YFuhI",
			"priority":0,
			"skip":false,
			"toNodeId":"n_FeUgW",
			"type":"next"
		},
		{
			"fromNodeId":"n_FeUgW",
			"priority":0,
			"skip":false,
			"toNodeId":"VciuA",
			"type":"next"
		},
		{
			"fromNodeId":"VciuA",
			"priority":0,
			"skip":false,
			"toNodeId":"fuLyt",
			"type":"next"
		},
		{
			"fromNodeId":"fuLyt",
			"priority":0,
			"skip":false,
			"toNodeId":"n_POMRK",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6857dea0c42da15675ef3827",
	"lastModifiedBy":0,
	"lcName":"knowledge indexer | slack | message",
	"modifiedTime":1761722795020,
	"name":"Knowledge Indexer | Slack | Message",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":436,
				"resourceName":"callables_from_interface"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hNHYl-1",
			"id":"n_YFuhI",
			"index":1,
			"inputs":{
				"result":{
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success"
						}
					},
					"required":[]
				},
				"callableInterfaceId":"686e0f90c92a3538c991f984",
				"setup":{
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"properties":{
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"resourceType":{
							"type":"string",
							"title":"Resource Type"
						},
						"sourceResponse":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Source Response"
						},
						"sharedWithIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Shared With Ids"
						},
						"knowledgeVersion":{
							"type":"integer",
							"title":"Knowledge Version"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger interface",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hNHYl-1",
			"id":"n_FeUgW",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunk":{
							"type":"string",
							"title":"Chunk"
						},
						"referenceUrl":{
							"type":"string",
							"title":"Reference Url"
						},
						"response":{
							"type":"object",
							"properties":{
								"message":{
									"type":"object",
									"properties":{
										"files":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"id":{
														"type":"string",
														"title":"id"
													},
													"created":{
														"type":"integer",
														"title":"created"
													},
													"timestamp":{
														"type":"integer",
														"title":"timestamp"
													},
													"name":{
														"type":"string",
														"title":"name"
													},
													"title":{
														"type":"string",
														"title":"title"
													},
													"mimetype":{
														"type":"string",
														"title":"mimetype"
													},
													"filetype":{
														"type":"string",
														"title":"filetype"
													},
													"pretty_type":{
														"type":"string",
														"title":"pretty_type"
													},
													"user":{
														"type":"string",
														"title":"user"
													},
													"user_team":{
														"type":"string",
														"title":"user_team"
													},
													"editable":{
														"type":"boolean",
														"title":"editable"
													},
													"size":{
														"type":"integer",
														"title":"size"
													},
													"mode":{
														"type":"string",
														"title":"mode"
													},
													"is_external":{
														"type":"boolean",
														"title":"is_external"
													},
													"external_type":{
														"type":"string",
														"title":"external_type"
													},
													"is_public":{
														"type":"boolean",
														"title":"is_public"
													},
													"public_url_shared":{
														"type":"boolean",
														"title":"public_url_shared"
													},
													"display_as_bot":{
														"type":"boolean",
														"title":"display_as_bot"
													},
													"username":{
														"type":"string",
														"title":"username"
													},
													"url_private":{
														"type":"string",
														"title":"url_private"
													},
													"url_private_download":{
														"type":"string",
														"title":"url_private_download"
													},
													"media_display_type":{
														"type":"string",
														"title":"media_display_type"
													},
													"thumb_pdf":{
														"type":"string",
														"title":"thumb_pdf"
													},
													"thumb_pdf_w":{
														"type":"integer",
														"title":"thumb_pdf_w"
													},
													"thumb_pdf_h":{
														"type":"integer",
														"title":"thumb_pdf_h"
													},
													"permalink":{
														"type":"string",
														"title":"permalink"
													},
													"permalink_public":{
														"type":"string",
														"title":"permalink_public"
													},
													"is_starred":{
														"type":"boolean",
														"title":"is_starred"
													},
													"has_rich_preview":{
														"type":"boolean",
														"title":"has_rich_preview"
													},
													"file_access":{
														"type":"string",
														"title":"file_access"
													}
												},
												"additionalProperties":false
											},
											"title":"files"
										},
										"type":{
											"type":"string",
											"title":"type"
										},
										"client_msg_id":{
											"type":"string",
											"title":"client_msg_id"
										},
										"team":{
											"type":"string",
											"title":"team"
										},
										"blocks":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"type":{
														"type":"string",
														"title":"type"
													},
													"block_id":{
														"type":"string",
														"title":"block_id"
													},
													"elements":{
														"type":"array",
														"items":{
															"type":"object",
															"properties":{
																"type":{
																	"type":"string",
																	"title":"type"
																},
																"elements":{
																	"type":"array",
																	"items":{
																		"type":"object",
																		"properties":{
																			"type":{
																				"type":"string",
																				"title":"type"
																			},
																			"text":{
																				"type":"string",
																				"title":"text"
																			}
																		},
																		"additionalProperties":false
																	},
																	"title":"elements"
																}
															},
															"additionalProperties":false
														},
														"title":"elements"
													}
												},
												"additionalProperties":false
											},
											"title":"blocks"
										},
										"user":{
											"type":"string",
											"title":"user"
										},
										"text":{
											"type":"string",
											"title":"text"
										},
										"thread_ts":{
											"type":"string",
											"title":"thread_ts"
										},
										"reply_count":{
											"type":"integer",
											"title":"reply_count"
										},
										"replies":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"user":{
														"type":"string",
														"title":"user"
													},
													"ts":{
														"type":"string",
														"title":"ts"
													}
												},
												"additionalProperties":false
											},
											"title":"replies"
										},
										"reply_users":{
											"type":"array",
											"items":{
												"type":"string"
											},
											"title":"reply_users"
										},
										"reply_users_count":{
											"type":"integer",
											"title":"reply_users_count"
										},
										"latest_reply":{
											"type":"string",
											"title":"latest_reply"
										},
										"subscribed":{
											"type":"boolean",
											"title":"subscribed"
										},
										"last_read":{
											"type":"string",
											"title":"last_read"
										},
										"unread_count":{
											"type":"integer",
											"title":"unread_count"
										},
										"ts":{
											"type":"string",
											"title":"ts"
										},
										"parent_user_id":{
											"type":"string",
											"title":"parent_user_id"
										},
										"attachments":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"service_name":{
														"type":"string",
														"title":"service_name"
													},
													"text":{
														"type":"string",
														"title":"text"
													},
													"fallback":{
														"type":"string",
														"title":"fallback"
													},
													"thumb_url":{
														"type":"string",
														"title":"thumb_url"
													},
													"thumb_width":{
														"type":"integer",
														"title":"thumb_width"
													},
													"thumb_height":{
														"type":"integer",
														"title":"thumb_height"
													},
													"id":{
														"type":"integer",
														"title":"id"
													}
												},
												"additionalProperties":false
											},
											"title":"attachments"
										}
									},
									"title":"message",
									"additionalProperties":false
								},
								"channel_actions_count":{
									"type":"integer",
									"title":"channel_actions_count"
								},
								"ok":{
									"type":"boolean",
									"title":"ok"
								},
								"has_more":{
									"type":"boolean",
									"title":"has_more"
								},
								"pin_count":{
									"type":"integer",
									"title":"pin_count"
								},
								"oldest":{
									"type":"string",
									"title":"oldest"
								},
								"latest":{
									"type":"string",
									"title":"latest"
								},
								"response_metadata":{
									"type":"object",
									"properties":{
										"next_cursor":{
											"type":"string",
											"title":"next_cursor"
										}
									},
									"title":"response_metadata",
									"additionalProperties":false
								},
								"IncludeAttachment":{
									"type":"boolean",
									"title":"IncludeAttachment"
								},
								"channel":{
									"type":"object",
									"properties":{
										"Id":{
											"type":"string",
											"title":"Id"
										},
										"Name":{
											"type":"string",
											"title":"Name"
										},
										"isPrivate":{
											"type":"boolean",
											"title":"isPrivate"
										},
										"is_ext_shared":{
											"type":"boolean",
											"title":"is_ext_shared"
										},
										"is_shared":{
											"type":"boolean",
											"title":"is_shared"
										}
									},
									"title":"channel",
									"additionalProperties":false
								},
								"channelList":{
									"type":"array",
									"items":{
										"type":"string"
									},
									"title":"channelList"
								},
								"connectionId":{
									"type":"string",
									"title":"connectionId"
								},
								"endDate":{
									"type":"string",
									"title":"endDate"
								},
								"knowledgeId":{
									"type":"string",
									"title":"knowledgeId"
								},
								"readVersion":{
									"type":"integer",
									"title":"readVersion"
								},
								"startDate":{
									"type":"string",
									"title":"startDate"
								},
								"visibility":{
									"type":"string",
									"title":"visibility"
								}
							},
							"additionalProperties":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"sourceResponse":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Source Response"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return sourceResponse",
				"parameters":{
					"sourceResponse":"{{ n_YFuhI.outputs.sourceResponse }}"
				}
			},
			"skip":false,
			"subTitle":"Resolve Input",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hNHYl-1",
			"id":"VciuA",
			"index":3,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunk_metadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"channelId":{
							"type":"string",
							"title":"Channel Id"
						},
						"channelName":{
							"type":"string",
							"title":"Channel Name"
						},
						"referenceUrl":{
							"type":"string",
							"title":"Reference Url"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def chunk_metadata = [:]\nchunk_metadata << ['appName':'slack']\nchunk_metadata << (binding.hasVariable('channelId') && channelId ? [\"channelId\": channelId] : [:])\nchunk_metadata << (binding.hasVariable('channelName') && channelName ? [\"name\": channelName] : [:])\nchunk_metadata << (binding.hasVariable('referenceUrl') && referenceUrl ? [\"referenceUrl\": referenceUrl] : [:])\n\nreturn [\"chunk_metadata\":chunk_metadata]",
				"isAsync":false,
				"parameters":{
					"referenceUrl":"{{ n_FeUgW.outputs.result.referenceUrl }}",
					"channelId":"{{ n_FeUgW.outputs.result.response.channel.Id }}",
					"channelName":"{{ n_FeUgW.outputs.result.response.channel.Name }}"
				}
			},
			"skip":false,
			"subTitle":"Chunk Metadata",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hNHYl-1",
			"id":"fuLyt",
			"index":4,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"items":{
							"data":"{{ n_FeUgW.outputs.result.chunk }}",
							"sharedWithIds":{
								"source":"{{ n_YFuhI.outputs.sharedWithIds }}",
								"ua:type":"mappedArray",
								"items":"{{ n_YFuhI.outputs.sharedWithIds[0] }}"
							}
						},
						"ua:type":"mappedArray"
					},
					"chunkMetadata":"{{ VciuA.outputs.result.chunk_metadata }}",
					"knowledgeId":"{{ n_YFuhI.outputs.knowledgeId }}",
					"uniqueEntityId":"{{ n_FeUgW.outputs.result.response.message.client_msg_id }}",
					"knowledgeVersion":"{{ n_YFuhI.outputs.knowledgeVersion }}"
				}
			},
			"skip":false,
			"subTitle":"Indexer With RBAC",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":454,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hNHYl-1",
			"id":"n_POMRK",
			"index":5,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":-1,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"knowledge_v2"
	],
	"version":66
}