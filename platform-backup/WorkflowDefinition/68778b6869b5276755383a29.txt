{
	"appsUsed":[
		
	],
	"createdTime":1757060049358,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296212128,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd140c3d19149a9e351d",
		"status":"DEPLOYED",
		"version":13,
		"workflowVersion":52
	},
	"edges":[
		{
			"fromNodeId":"n_zLnJZ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_nUwPD",
			"type":"next"
		},
		{
			"fromNodeId":"n_nUwPD",
			"priority":0,
			"skip":false,
			"toNodeId":"n_6P1jo",
			"type":"next"
		},
		{
			"fromNodeId":"n_6P1jo",
			"priority":0,
			"skip":false,
			"toNodeId":"n_zMqep",
			"type":"next"
		},
		{
			"fromNodeId":"n_zMqep",
			"priority":0,
			"skip":false,
			"toNodeId":"_312qg",
			"type":"next"
		},
		{
			"fromNodeId":"_312qg",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pTWbE",
			"type":"next"
		},
		{
			"fromNodeId":"n_pTWbE",
			"priority":0,
			"skip":false,
			"toNodeId":"n_sUpLa",
			"type":"next"
		},
		{
			"fromNodeId":"n_sUpLa",
			"priority":0,
			"skip":false,
			"toNodeId":"n_bB7w6",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68778b6869b5276755383a29",
	"lastModifiedBy":0,
	"lcName":"[indexing dashboard] fetch indexer cursor specific schedulers",
	"modifiedTime":1761722747750,
	"name":"[Indexing Dashboard] Fetch Indexer Cursor Specific Schedulers",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":445,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_zLnJZ",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"schedulerRunInfo":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"url":{
										"type":"string",
										"title":"Url"
									},
									"status":{
										"type":"string",
										"title":"Status"
									},
									"processedCount":{
										"type":"integer",
										"title":"Processed Count"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Scheduler Run Info"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"parentEntityId":{
							"type":"string",
							"title":"Parent Entity Id"
						},
						"indexingVersion":{
							"type":"integer",
							"title":"Indexing Version"
						}
					},
					"additionalProperties":false,
					"required":[
						"indexingVersion"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_nUwPD",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"domain":{
							"type":"string",
							"title":"Domain"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"domain":"{{ __ENV__.outputs.PlatformDomain }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"domain":{
							"type":"string",
							"title":"Domain"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":443,
				"resourceName":"analytics_by_unifyapps_execute_query",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_6P1jo",
			"index":3,
			"inputs":{
				"outputSchema":{
					"type":"object",
					"properties":{
						"id":{
							"type":"string",
							"title":"Id"
						},
						"status":{
							"type":"string",
							"title":"Status"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"query":"SELECT id, status\nFROM WORKFLOW_EXECUTION\nWHERE workflowId = '68593c745c7a1473d6a4f195'\n  AND JSON_QUERY(startNodeOutput, '$.dataType') = '{{ n_zLnJZ.outputs.parentEntityId }}'\n  AND JSON_QUERY(startNodeOutput, '$.knowledgeId') = '{{ n_zLnJZ.outputs.knowledgeId }}'\n  AND JSON_QUERY(startNodeOutput, '$.indexingVersion') = {{ n_zLnJZ.outputs.indexingVersion }}\nORDER BY startTime DESC;",
				"group":"PLATFORM"
			},
			"skip":false,
			"subTitle":"Analytics by UnifyApps",
			"title":"Execute Analytics SQL Query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.executionIds.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_zMqep",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"filter":{
							"type":"string",
							"title":"Filter"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"executionIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Execution Ids"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"ids = []\nif (binding.hasVariable('executionIds')) {\n    ids = executionIds\n}\n\ndef builder = new StringBuilder()\nbuilder.append('(')\n\nfor (int i = 0; i < ids.size(); i++) {\n    def transformedId = ids[i] + '_n_xHwpp'\n    builder.append(\"'\").append(transformedId).append(\"'\")\n    if (i < ids.size() - 1) {\n        builder.append(', ')\n    }\n}\n\nbuilder.append(')')\n\ndef result = builder.toString()\nreturn [\"filter\": result]",
				"parameters":{
					"executionIds":{
						"ua:type":"mappedArray",
						"items":"{{ n_6P1jo.outputs.objects[0].columns.id }}",
						"source":"{{ n_6P1jo.outputs.objects }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":443,
				"resourceName":"analytics_by_unifyapps_execute_query",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"_312qg",
			"index":5,
			"inputs":{
				"outputSchema":{
					"type":"object",
					"properties":{
						"executionInstanceId":{
							"type":"string",
							"title":"Execution Instance Id"
						},
						"processedCount":{
							"type":"integer",
							"title":"Processed Count"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"query":"SELECT \n  executionInstanceId,\n  JSON_QUERY(outputs, '$.processedCount') AS processedCount\nFROM \n  WORKFLOW_NODE_EXECUTION\nWHERE \n  id IN {{ n_zMqep.outputs.result.filter }};\n",
				"group":"PLATFORM"
			},
			"skip":false,
			"subTitle":"Analytics by UnifyApps",
			"title":"Execute Analytics SQL Query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.processedCountList.items.processedCount",
					"root.parameters.processedCountList.items.id",
					"root.parameters.statusList.items.id",
					"root.parameters.statusList.items.status"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_pTWbE",
			"index":6,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"runInfo":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									},
									"status":{
										"type":"string",
										"title":"Status"
									},
									"processedCount":{
										"type":"integer",
										"title":"Processed Count"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Run Info"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"processedCountList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"processedCount":{
										"type":"integer",
										"title":"Processed Count"
									},
									"id":{
										"type":"string",
										"title":"Id"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Processed Count List"
						},
						"statusList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									},
									"status":{
										"type":"string",
										"title":"Status"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Status List"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def merged = []\n\nif (statusList) {\n    merged = statusList.findAll { it?.id }.collect { statusEntry ->\n        def id = statusEntry.id\n        def status = statusEntry?.status ?: 'UNKNOWN'\n        \n        def count = 0\n\n        if(binding.hasVariable('processedCountList'))\n        {\n            def countEntry = processedCountList.find { it?.id == id }\n            def countStr = countEntry?.processedCount ?: \"0\"\n            count = countStr.isInteger() ? countStr.toInteger() : 0\n        }\n\n        [\n            id              : id,\n            processedCount  : count,\n            status          : status\n        ]\n    }\n}\n\nreturn [\"runInfo\": merged]\n",
				"parameters":{
					"processedCountList":{
						"source":"{{ _312qg.outputs.objects }}",
						"ua:type":"mappedArray",
						"items":{
							"processedCount":"{{ _312qg.outputs.objects[0].columns.processedCount }}",
							"id":"{{ _312qg.outputs.objects[0].columns.executionInstanceId }}"
						}
					},
					"statusList":{
						"source":"{{ n_6P1jo.outputs.objects }}",
						"ua:type":"mappedArray",
						"items":{
							"status":"{{ n_6P1jo.outputs.objects[0].columns.status }}",
							"id":"{{ n_6P1jo.outputs.objects[0].columns.id }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.runsInfo.items.id",
					"root.parameters.runsInfo.items.status",
					"root.parameters.runsInfo.items.processedCount"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_sUpLa",
			"index":7,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"schedulerRunInfo":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"url":{
										"type":"string",
										"title":"Url"
									},
									"status":{
										"type":"string",
										"title":"Status"
									},
									"processedCount":{
										"type":"integer",
										"title":"Processed Count"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Scheduler Run Info"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"runsInfo":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									},
									"status":{
										"type":"string",
										"title":"Status"
									},
									"processedCount":{
										"type":"integer",
										"title":"Processed Count"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Runs Info"
						},
						"domain":{
							"type":"string",
							"title":"Domain"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def schedulerRunInfo = []\nif(binding.hasVariable('runsInfo')) {\n   for(run in runsInfo) {\n      def url = \"https://\" + domain + \"/p/0/automations/68593c745c7a1473d6a4f195\" + \"/runs/\" + run.id\n      schedulerRunInfo.add([\"url\":url, \"status\": run.status, \"processedCount\": run.processedCount])\n   }\n}\n\nreturn [\"schedulerRunInfo\": schedulerRunInfo]",
				"parameters":{
					"domain":"{{ n_nUwPD.outputs.domain }}",
					"runsInfo":{
						"source":"{{ n_pTWbE.outputs.result.runInfo }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ n_pTWbE.outputs.result.runInfo[0].id }}",
							"status":"{{ n_pTWbE.outputs.result.runInfo[0].status }}",
							"processedCount":"{{ n_pTWbE.outputs.result.runInfo[0].processedCount }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Create schedulerRunInfo - RunLink + Status",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_f055c-1",
			"id":"n_bB7w6",
			"index":8,
			"inputs":{
				"result":{
					"schedulerRunInfo":{
						"source":"{{ n_sUpLa.outputs.result.schedulerRunInfo }}",
						"ua:type":"mappedArray",
						"items":{
							"url":"{{ n_sUpLa.outputs.result.schedulerRunInfo[0].url }}",
							"status":"{{ n_sUpLa.outputs.result.schedulerRunInfo[0].status }}",
							"processedCount":"{{ n_sUpLa.outputs.result.schedulerRunInfo[0].processedCount }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":44104,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":false,
		"enableRunLogging":false,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"version":54
}