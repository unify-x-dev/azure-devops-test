{
	"appsUsed":[
		"microsoft_teams",
		"slack",
		"storage_by_unifyapps"
	],
	"createdTime":1726672587863,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296259336,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd430c3d19149a9e35e4",
		"status":"DEPLOYED",
		"version":86,
		"workflowVersion":128
	},
	"description":"",
	"edges":[
		{
			"fromNodeId":"8GiDP",
			"priority":0,
			"skip":false,
			"toNodeId":"v4R2H",
			"type":"next"
		},
		{
			"fromNodeId":"v4R2H",
			"priority":0,
			"skip":false,
			"toNodeId":"HOE3G",
			"type":"next"
		},
		{
			"fromNodeId":"HOE3G",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"BRmjO",
			"type":"if"
		},
		{
			"fromNodeId":"BRmjO",
			"priority":0,
			"skip":false,
			"toNodeId":"j5utX",
			"type":"next"
		},
		{
			"fromNodeId":"HOE3G",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"j5utX",
			"type":"next"
		},
		{
			"fromNodeId":"j5utX",
			"priority":0,
			"skip":false,
			"toNodeId":"MiW8R",
			"type":"next"
		},
		{
			"fromNodeId":"MiW8R",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"BWfIx",
			"type":"if"
		},
		{
			"fromNodeId":"MiW8R",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_KBkEc",
			"type":"next"
		},
		{
			"fromNodeId":"_KBkEc",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"_KBkEc@1",
			"type":"branch"
		},
		{
			"fromNodeId":"_KBkEc@1",
			"priority":0,
			"skip":false,
			"toNodeId":"_UOIlS",
			"type":"next"
		},
		{
			"fromNodeId":"_UOIlS",
			"priority":0,
			"skip":false,
			"toNodeId":"_3mjrw",
			"type":"next"
		},
		{
			"fromNodeId":"_3mjrw",
			"priority":0,
			"skip":false,
			"toNodeId":"_NtK4O",
			"type":"next"
		},
		{
			"fromNodeId":"_KBkEc",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"_KBkEc@2",
			"type":"branch"
		},
		{
			"fromNodeId":"_KBkEc@2",
			"priority":0,
			"skip":false,
			"toNodeId":"n_LyPZh",
			"type":"next"
		},
		{
			"fromNodeId":"n_LyPZh",
			"priority":0,
			"skip":false,
			"toNodeId":"_xWAA9",
			"type":"next"
		},
		{
			"fromNodeId":"_xWAA9",
			"priority":0,
			"skip":false,
			"toNodeId":"_lAluA",
			"type":"next"
		},
		{
			"fromNodeId":"_KBkEc",
			"name":"3",
			"priority":0,
			"skip":false,
			"toNodeId":"_KBkEc@3",
			"type":"branch"
		},
		{
			"fromNodeId":"_KBkEc@3",
			"priority":0,
			"skip":false,
			"toNodeId":"_jPFMN",
			"type":"next"
		},
		{
			"fromNodeId":"_jPFMN",
			"priority":0,
			"skip":false,
			"toNodeId":"_ORzHt",
			"type":"next"
		},
		{
			"fromNodeId":"_KBkEc",
			"name":"4",
			"priority":0,
			"skip":false,
			"toNodeId":"_KBkEc@4",
			"type":"branch"
		},
		{
			"fromNodeId":"_KBkEc@4",
			"priority":0,
			"skip":false,
			"toNodeId":"LQ4NX",
			"type":"next"
		},
		{
			"fromNodeId":"LQ4NX",
			"priority":0,
			"skip":false,
			"toNodeId":"9PuFE",
			"type":"next"
		},
		{
			"fromNodeId":"_KBkEc",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"_x1Z7f",
			"type":"branch"
		},
		{
			"fromNodeId":"_x1Z7f",
			"priority":0,
			"skip":false,
			"toNodeId":"n_UjXIz",
			"type":"next"
		},
		{
			"fromNodeId":"n_UjXIz",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"6pYQC",
			"type":"if"
		},
		{
			"fromNodeId":"6pYQC",
			"priority":0,
			"skip":false,
			"toNodeId":"Dpsuq",
			"type":"next"
		},
		{
			"fromNodeId":"Dpsuq",
			"priority":0,
			"skip":false,
			"toNodeId":"z3Xd3",
			"type":"next"
		},
		{
			"fromNodeId":"n_UjXIz",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"z3Xd3",
			"type":"next"
		},
		{
			"fromNodeId":"z3Xd3",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"oRGhe",
			"type":"if"
		},
		{
			"fromNodeId":"oRGhe",
			"priority":0,
			"skip":false,
			"toNodeId":"GqoJE",
			"type":"next"
		},
		{
			"fromNodeId":"z3Xd3",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"1aBWo",
			"type":"next"
		},
		{
			"fromNodeId":"1aBWo",
			"priority":0,
			"skip":false,
			"toNodeId":"KYCMw",
			"type":"next"
		},
		{
			"fromNodeId":"KYCMw",
			"priority":0,
			"skip":false,
			"toNodeId":"Eg5kG",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66eaeecb5dd77636e1fcc1f9",
	"lastModifiedBy":0,
	"lcName":"get or create customerprofile",
	"modifiedTime":1761722807071,
	"name":"Get Or Create CustomerProfile",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":37,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"8GiDP-1",
			"id":"8GiDP",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"customerProfileId":{
							"type":"string",
							"title":"customerProfileId"
						}
					},
					"additionalProperties":false,
					"required":[
						"customerProfileId"
					],
					"dynamic":true
				},
				"triggerInputCondition":{
					"filters":[
						{
							"property":"",
							"filter":{
								"operator":"EQUAL",
								"value":""
							}
						}
					],
					"operator":"AND"
				},
				"setup":{
					"type":"object",
					"properties":{
						"channelName":{
							"type":"string",
							"title":"channelName"
						},
						"channelSpecificId":{
							"type":"string",
							"title":"channelSpecificId"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					},
					"additionalProperties":false,
					"required":[
						"channelName",
						"channelSpecificId"
					]
				}
			},
			"skip":false,
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"8GiDP-1",
			"id":"v4R2H",
			"index":2,
			"inputs":{
				"object_type":"customer_profile",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"id":"{{ 8GiDP.outputs.channelSpecificId }}",
				"readThroughSessionVariables":true
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":55,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"8GiDP-1",
			"id":"HOE3G",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ v4R2H.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":56,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"HOE3G@8GiDP-1@y",
			"id":"BRmjO",
			"index":4,
			"inputs":{
				"result":{
					"customerProfileId":"{{ v4R2H.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":40,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"8GiDP-1",
			"id":"j5utX",
			"index":5,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_channelName",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ 8GiDP.outputs.channelName }}"
							}
						},
						{
							"property":"properties_channelSpecificId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ 8GiDP.outputs.channelSpecificId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"customer_profile",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":35,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"8GiDP-1",
			"id":"MiW8R",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ j5utX.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":33,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"MiW8R@8GiDP-1@y",
			"id":"BWfIx",
			"index":7,
			"inputs":{
				"result":{
					"customerProfileId":"{{ j5utX.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"MiW8R@8GiDP-1@n",
			"id":"_KBkEc",
			"index":8,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"Branch 1",
							"conditions":{
								"filters":[
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"SLACK"
										}
									},
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"slack"
										}
									}
								],
								"operator":"OR"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"Branch 2",
							"conditions":{
								"filters":[
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"MSTEAMS"
										}
									},
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"AZURE_BOT"
										}
									}
								],
								"operator":"OR"
							}
						}
					},
					{
						"id":"3",
						"inputs":{
							"name":"voice",
							"conditions":{
								"filters":[
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"VOICE"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"4",
						"inputs":{
							"name":"Branch 4",
							"conditions":{
								"filters":[
									{
										"property":"{{ 8GiDP.outputs.channelName }}",
										"filter":{
											"operator":"EQUAL",
											"value":"gmail"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":39,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@1",
			"id":"_KBkEc@1",
			"index":9,
			"inputs":{
				"name":"Branch 1",
				"conditions":{
					"filters":[
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"SLACK"
							}
						},
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"slack"
							}
						}
					],
					"operator":"OR"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"slack",
				"resourceVersion":2339,
				"connectionId":"66a7e9d5d9b2fb0ec5db29f3",
				"resourceName":"slack_get_user_info_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@1",
			"id":"_UOIlS",
			"index":10,
			"inputs":{
				"include_locale":false,
				"user":"{{ 8GiDP.outputs.channelSpecificId }}"
			},
			"skip":false,
			"subTitle":"Slack",
			"title":"Get user info by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":53,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@1",
			"id":"_3mjrw",
			"index":11,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"skipIfBlank":false,
				"record":{
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"name":"{{ _UOIlS.outputs.user.profile.display_name }}",
					"email":"{{ _UOIlS.outputs.user.profile.email }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":33,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@1",
			"id":"_NtK4O",
			"index":12,
			"inputs":{
				"result":{
					"customerProfileId":"{{ _3mjrw.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":39,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@2",
			"id":"_KBkEc@2",
			"index":13,
			"inputs":{
				"name":"Branch 2",
				"conditions":{
					"filters":[
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"MSTEAMS"
							}
						},
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"AZURE_BOT"
							}
						}
					],
					"operator":"OR"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"microsoft_teams",
				"resourceVersion":2539,
				"resourceName":"microsoft_teams_get_user_info_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@2",
			"id":"n_LyPZh",
			"index":14,
			"inputs":{
				"user_id":"{{ 8GiDP.outputs.channelSpecificId }}"
			},
			"skip":false,
			"subTitle":"Microsoft Teams",
			"title":"Get user info by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":53,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@2",
			"id":"_xWAA9",
			"index":15,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"skipIfBlank":false,
				"record":{
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"name":"{{ n_LyPZh.outputs.displayName }}",
					"email":"{{ n_LyPZh.outputs.mail }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":53,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@2",
			"id":"_lAluA",
			"index":16,
			"inputs":{
				"result":{
					"customerProfileId":"{{ _vPvlu.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":11,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@3",
			"id":"_KBkEc@3",
			"index":17,
			"inputs":{
				"name":"voice",
				"conditions":{
					"filters":[
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"VOICE"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2147,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@3",
			"id":"_jPFMN",
			"index":18,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"record":{
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"name":"voice",
					"email":"customer@voice.com"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":146,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@3",
			"id":"_ORzHt",
			"index":19,
			"inputs":{
				"result":{
					"customerProfileId":"{{ _jPFMN.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":170,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@4",
			"id":"_KBkEc@4",
			"index":20,
			"inputs":{
				"name":"Branch 4",
				"conditions":{
					"filters":[
						{
							"property":"{{ 8GiDP.outputs.channelName }}",
							"filter":{
								"operator":"EQUAL",
								"value":"gmail"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2147,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@4",
			"id":"LQ4NX",
			"index":21,
			"inputs":{
				"object_type":"customer_profile",
				"record":{
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"email":"{{ 8GiDP.outputs.channelSpecificId }}",
					"name":"{{ 8GiDP.outputs.channelSpecificId }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":146,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@4",
			"id":"9PuFE",
			"index":22,
			"inputs":{
				"result":{
					"customerProfileId":"{{ LQ4NX.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":55,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@default",
			"id":"_x1Z7f",
			"index":23,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userId":{
							"type":"string",
							"title":"User Id"
						},
						"coPilotType":{
							"type":"string",
							"title":"Co Pilot Type"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"flag":{
							"type":"boolean",
							"title":"Flag"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userIdWithCopilot":{
							"type":"string",
							"title":"User Id With Co Pilot"
						},
						"userName":{
							"type":"string",
							"title":"User Name"
						}
					}
				},
				"code":"def result = [:]\n\nif (binding.hasVariable('userIdWithCopilot') && userIdWithCopilot.contains(\"#\")) {\n    def variables = userIdWithCopilot.split(\"#\")\n    def userId = variables[0]\n\n    // If userId matches userName, set it to 0\n    if (userId == userName) {\n        userId = 0\n    }\n\n    result = [\n        \"userId\"      : userId,\n        \"coPilotType\" : variables[1]\n    ]\n\n    if (variables.size() > 2) {\n        result[\"aiAgentId\"] = variables[2]\n    }\n} else {\n    return [\"flag\": false]\n}\n\nreturn result\n",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"userIdWithCopilot":"{{ 8GiDP.outputs.channelSpecificId }}",
					"userName":"{{ __USER__.outputs.username }}"
				}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Extract platformUserId ",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@default",
			"id":"n_UjXIz",
			"index":24,
			"inputs":{
				"filters":[
					{
						"property":"{{ _x1Z7f.outputs.result.flag }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":53,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_UjXIz@_KBkEc@MiW8R@8GiDP-1@n@default@y",
			"id":"6pYQC",
			"index":25,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"skipIfBlank":false,
				"record":{
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"email":"{{ 8GiDP.outputs.channelSpecificId }}",
					"name":"{{ 8GiDP.outputs.channelSpecificId }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":234,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_UjXIz@_KBkEc@MiW8R@8GiDP-1@n@default@y",
			"id":"Dpsuq",
			"index":26,
			"inputs":{
				"result":{
					"customerProfileId":"{{ 6pYQC.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":202,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KBkEc@MiW8R@8GiDP-1@n@default",
			"id":"z3Xd3",
			"index":27,
			"inputs":{
				"filters":[
					{
						"property":"{{ __RUN__.outputs.isAnonymousUser }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					},
					{
						"property":"{{ _x1Z7f.outputs.result.userId }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ _x1Z7f.outputs.result.userId }}",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":53,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z3Xd3@_KBkEc@MiW8R@8GiDP-1@n@default@y",
			"id":"oRGhe",
			"index":28,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"skipIfBlank":false,
				"record":{
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"name":"{{ __RUN__.outputs.executionId }}",
					"email":"{{ __RUN__.outputs.executionId }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":33,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z3Xd3@_KBkEc@MiW8R@8GiDP-1@n@default@y",
			"id":"GqoJE",
			"index":29,
			"inputs":{
				"result":{
					"customerProfileId":"{{ oRGhe.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":9,
				"resourceName":"standard_entities_fetch_user",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z3Xd3@_KBkEc@MiW8R@8GiDP-1@n@default@n",
			"id":"1aBWo",
			"index":30,
			"inputs":{
				"fetchBy":"id",
				"applicationId":"",
				"user":"{{ _x1Z7f.outputs.result.userId }}"
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Fetch User",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":53,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z3Xd3@_KBkEc@MiW8R@8GiDP-1@n@default@n",
			"id":"KYCMw",
			"index":31,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"customer_profile",
				"skipIfBlank":false,
				"record":{
					"channelSpecificId":"{{ 8GiDP.outputs.channelSpecificId }}",
					"channelName":"{{ 8GiDP.outputs.channelName }}",
					"name":"{{ 1aBWo.outputs.name }}",
					"email":"{{ 1aBWo.outputs.username }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":33,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z3Xd3@_KBkEc@MiW8R@8GiDP-1@n@default@n",
			"id":"Eg5kG",
			"index":32,
			"inputs":{
				"result":{
					"customerProfileId":"{{ KYCMw.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":311,
	"projectId":63,
	"runtimeConnectionAppNames":[
		"microsoft_teams",
		"slack"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":130
}