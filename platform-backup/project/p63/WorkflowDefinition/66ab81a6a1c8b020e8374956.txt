{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1722515878558,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1760296201151,
		"deployedBy":-1,
		"deployedDefinitionId":"68ebfd09d60dd816d7798fb5",
		"status":"DEPLOYED",
		"version":279,
		"workflowVersion":428
	},
	"edges":[
		{
			"fromNodeId":"gB6Bl",
			"priority":0,
			"skip":false,
			"toNodeId":"3iMEr",
			"type":"next"
		},
		{
			"fromNodeId":"3iMEr",
			"priority":0,
			"skip":false,
			"toNodeId":"53LAF",
			"type":"next"
		},
		{
			"fromNodeId":"53LAF",
			"priority":0,
			"skip":false,
			"toNodeId":"BVoEZ",
			"type":"next"
		},
		{
			"fromNodeId":"BVoEZ",
			"priority":0,
			"skip":false,
			"toNodeId":"PjdYr",
			"type":"next"
		},
		{
			"fromNodeId":"PjdYr",
			"priority":0,
			"skip":false,
			"toNodeId":"xSckx",
			"type":"next"
		},
		{
			"fromNodeId":"xSckx",
			"priority":0,
			"skip":false,
			"toNodeId":"tSpCM",
			"type":"next"
		},
		{
			"fromNodeId":"tSpCM",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"0xiLv",
			"type":"if"
		},
		{
			"fromNodeId":"0xiLv",
			"priority":0,
			"skip":false,
			"toNodeId":"QAfpt",
			"type":"next"
		},
		{
			"fromNodeId":"QAfpt",
			"priority":0,
			"skip":false,
			"toNodeId":"Xkdj0",
			"type":"next"
		},
		{
			"fromNodeId":"tSpCM",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"Xkdj0",
			"type":"next"
		},
		{
			"fromNodeId":"Xkdj0",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"PgMqd",
			"type":"if"
		},
		{
			"fromNodeId":"PgMqd",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DE2OM",
			"type":"next"
		},
		{
			"fromNodeId":"Xkdj0",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_DE2OM",
			"type":"next"
		},
		{
			"fromNodeId":"n_DE2OM",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_J5PJe",
			"type":"if"
		},
		{
			"fromNodeId":"n_J5PJe",
			"priority":0,
			"skip":false,
			"toNodeId":"gwbz8",
			"type":"next"
		},
		{
			"fromNodeId":"n_DE2OM",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"gwbz8",
			"type":"next"
		},
		{
			"fromNodeId":"gwbz8",
			"priority":0,
			"skip":false,
			"toNodeId":"n_oYQI4",
			"type":"next"
		},
		{
			"fromNodeId":"n_oYQI4",
			"priority":0,
			"skip":false,
			"toNodeId":"n_NAtbr",
			"type":"next"
		},
		{
			"fromNodeId":"n_NAtbr",
			"priority":0,
			"skip":false,
			"toNodeId":"e7Ek1",
			"type":"next"
		},
		{
			"fromNodeId":"e7Ek1",
			"priority":0,
			"skip":false,
			"toNodeId":"lFchM",
			"type":"next"
		},
		{
			"fromNodeId":"lFchM",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"FhW9j",
			"type":"next"
		},
		{
			"fromNodeId":"lFchM",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"4amlK",
			"type":"if"
		},
		{
			"fromNodeId":"FhW9j",
			"priority":0,
			"skip":false,
			"toNodeId":"4amlK",
			"type":"next"
		},
		{
			"fromNodeId":"4amlK",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"4amlK@1",
			"type":"branch"
		},
		{
			"fromNodeId":"4amlK@1",
			"priority":0,
			"skip":false,
			"toNodeId":"_InTni",
			"type":"next"
		},
		{
			"fromNodeId":"4amlK",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"4amlK@2",
			"type":"branch"
		},
		{
			"fromNodeId":"4amlK@2",
			"priority":0,
			"skip":false,
			"toNodeId":"7CQ58",
			"type":"next"
		},
		{
			"fromNodeId":"_InTni",
			"priority":0,
			"skip":false,
			"toNodeId":"eejy1",
			"type":"next"
		},
		{
			"fromNodeId":"7CQ58",
			"priority":0,
			"skip":false,
			"toNodeId":"eejy1",
			"type":"next"
		},
		{
			"fromNodeId":"4amlK",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"eejy1",
			"type":"branch"
		},
		{
			"fromNodeId":"eejy1",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"NxPgU",
			"type":"if"
		},
		{
			"fromNodeId":"NxPgU",
			"priority":0,
			"skip":false,
			"toNodeId":"n_T5LQ2",
			"type":"next"
		},
		{
			"fromNodeId":"n_T5LQ2",
			"priority":0,
			"skip":false,
			"toNodeId":"n_kbMNz",
			"type":"next"
		},
		{
			"fromNodeId":"n_kbMNz",
			"priority":0,
			"skip":false,
			"toNodeId":"n_LwCWz",
			"type":"next"
		},
		{
			"fromNodeId":"n_LwCWz",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_T83FY",
			"type":"if"
		},
		{
			"fromNodeId":"n_T83FY",
			"priority":0,
			"skip":false,
			"toNodeId":"_ibwHA",
			"type":"next"
		},
		{
			"fromNodeId":"n_LwCWz",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_ibwHA",
			"type":"next"
		},
		{
			"fromNodeId":"_ibwHA",
			"priority":0,
			"skip":false,
			"toNodeId":"_DMVpO",
			"type":"next"
		},
		{
			"fromNodeId":"_DMVpO",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_VZI4I",
			"type":"if"
		},
		{
			"fromNodeId":"_VZI4I",
			"priority":0,
			"skip":false,
			"toNodeId":"jYk0o",
			"type":"next"
		},
		{
			"fromNodeId":"_DMVpO",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"jYk0o",
			"type":"next"
		},
		{
			"fromNodeId":"jYk0o",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Uolh6",
			"type":"next"
		},
		{
			"fromNodeId":"n_Uolh6",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_R9Adl",
			"type":"if"
		},
		{
			"fromNodeId":"n_R9Adl",
			"priority":0,
			"skip":false,
			"toNodeId":"eFGqy",
			"type":"next"
		},
		{
			"fromNodeId":"n_Uolh6",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"eFGqy",
			"type":"next"
		},
		{
			"fromNodeId":"eFGqy",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"IZFra",
			"type":"if"
		},
		{
			"fromNodeId":"IZFra",
			"priority":0,
			"skip":false,
			"toNodeId":"gAEqn",
			"type":"next"
		},
		{
			"fromNodeId":"gAEqn",
			"priority":0,
			"skip":false,
			"toNodeId":"bm5Yu",
			"type":"next"
		},
		{
			"fromNodeId":"eFGqy",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"bm5Yu",
			"type":"next"
		},
		{
			"fromNodeId":"bm5Yu",
			"priority":0,
			"skip":false,
			"toNodeId":"FULbt",
			"type":"next"
		},
		{
			"fromNodeId":"FULbt",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"hhZSs",
			"type":"if"
		},
		{
			"fromNodeId":"hhZSs",
			"priority":0,
			"skip":false,
			"toNodeId":"FVtbn",
			"type":"next"
		},
		{
			"fromNodeId":"eejy1",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"t1AB6",
			"type":"next"
		},
		{
			"fromNodeId":"t1AB6",
			"priority":0,
			"skip":false,
			"toNodeId":"GT21F",
			"type":"next"
		},
		{
			"fromNodeId":"GT21F",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"LiT8I",
			"type":"if"
		},
		{
			"fromNodeId":"LiT8I",
			"priority":0,
			"skip":false,
			"toNodeId":"WJNXp",
			"type":"next"
		},
		{
			"fromNodeId":"WJNXp",
			"priority":0,
			"skip":false,
			"toNodeId":"k3y4e",
			"type":"next"
		},
		{
			"fromNodeId":"GT21F",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"k3y4e",
			"type":"next"
		},
		{
			"fromNodeId":"k3y4e",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_N8pYj",
			"type":"if"
		},
		{
			"fromNodeId":"n_N8pYj",
			"priority":0,
			"skip":false,
			"toNodeId":"4H5cw",
			"type":"next"
		},
		{
			"fromNodeId":"k3y4e",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4H5cw",
			"type":"next"
		},
		{
			"fromNodeId":"4H5cw",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"8CfiS",
			"type":"if"
		},
		{
			"fromNodeId":"8CfiS",
			"priority":0,
			"skip":false,
			"toNodeId":"Fo5Vo",
			"type":"next"
		},
		{
			"fromNodeId":"Fo5Vo",
			"priority":0,
			"skip":false,
			"toNodeId":"_5T7Pu",
			"type":"next"
		},
		{
			"fromNodeId":"4H5cw",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_5T7Pu",
			"type":"next"
		},
		{
			"fromNodeId":"_5T7Pu",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_LDXna",
			"type":"if"
		},
		{
			"fromNodeId":"FVtbn",
			"priority":0,
			"skip":false,
			"toNodeId":"_psst0",
			"type":"next"
		},
		{
			"fromNodeId":"FULbt",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_psst0",
			"type":"next"
		},
		{
			"fromNodeId":"_LDXna",
			"priority":0,
			"skip":false,
			"toNodeId":"_psst0",
			"type":"next"
		},
		{
			"fromNodeId":"_5T7Pu",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_psst0",
			"type":"next"
		},
		{
			"fromNodeId":"_psst0",
			"priority":0,
			"skip":false,
			"toNodeId":"n_GRSny",
			"type":"next"
		},
		{
			"fromNodeId":"n_GRSny",
			"priority":0,
			"skip":false,
			"toNodeId":"YdFvl",
			"type":"next"
		},
		{
			"fromNodeId":"YdFvl",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_gcC3v",
			"type":"if"
		},
		{
			"fromNodeId":"_gcC3v",
			"priority":0,
			"skip":false,
			"toNodeId":"_eKFNu",
			"type":"next"
		},
		{
			"fromNodeId":"YdFvl",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_eKFNu",
			"type":"next"
		},
		{
			"fromNodeId":"_eKFNu",
			"priority":0,
			"skip":false,
			"toNodeId":"Sjm6z",
			"type":"next"
		},
		{
			"fromNodeId":"Sjm6z",
			"priority":0,
			"skip":false,
			"toNodeId":"UTbcT",
			"type":"next"
		},
		{
			"fromNodeId":"UTbcT",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"0vPyM",
			"type":"if"
		},
		{
			"fromNodeId":"0vPyM",
			"priority":0,
			"skip":false,
			"toNodeId":"78ND0",
			"type":"next"
		},
		{
			"fromNodeId":"78ND0",
			"priority":0,
			"skip":false,
			"toNodeId":"2O7Q5",
			"type":"next"
		},
		{
			"fromNodeId":"UTbcT",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"2O7Q5",
			"type":"next"
		},
		{
			"fromNodeId":"2O7Q5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_rFaE4",
			"type":"next"
		},
		{
			"fromNodeId":"n_rFaE4",
			"priority":0,
			"skip":false,
			"toNodeId":"_6SGfe",
			"type":"next"
		},
		{
			"fromNodeId":"_6SGfe",
			"priority":0,
			"skip":false,
			"toNodeId":"n_UxJAx",
			"type":"next"
		},
		{
			"fromNodeId":"n_UxJAx",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_M8gYY",
			"type":"if"
		},
		{
			"fromNodeId":"n_UxJAx",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_zCNIL",
			"type":"next"
		},
		{
			"fromNodeId":"n_zCNIL",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_R1Oqw",
			"type":"if"
		},
		{
			"fromNodeId":"n_M8gYY",
			"priority":0,
			"skip":false,
			"toNodeId":"n_7BWvg",
			"type":"next"
		},
		{
			"fromNodeId":"n_R1Oqw",
			"priority":0,
			"skip":false,
			"toNodeId":"n_7BWvg",
			"type":"next"
		},
		{
			"fromNodeId":"n_zCNIL",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_7BWvg",
			"type":"next"
		},
		{
			"fromNodeId":"n_7BWvg",
			"priority":0,
			"skip":false,
			"toNodeId":"s1dmO",
			"type":"next"
		},
		{
			"fromNodeId":"s1dmO",
			"priority":0,
			"skip":false,
			"toNodeId":"pN7Hy",
			"type":"next"
		},
		{
			"fromNodeId":"pN7Hy",
			"priority":0,
			"skip":false,
			"toNodeId":"asKZz",
			"type":"next"
		},
		{
			"fromNodeId":"asKZz",
			"priority":0,
			"skip":false,
			"toNodeId":"Q3F3b",
			"type":"next"
		},
		{
			"fromNodeId":"Q3F3b",
			"priority":0,
			"skip":false,
			"toNodeId":"3oBjH",
			"type":"next"
		},
		{
			"fromNodeId":"3oBjH",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Ev3xr",
			"type":"if"
		},
		{
			"fromNodeId":"Ev3xr",
			"priority":0,
			"skip":false,
			"toNodeId":"n_swY99",
			"type":"next"
		},
		{
			"fromNodeId":"n_swY99",
			"priority":0,
			"skip":false,
			"toNodeId":"_uszwz",
			"type":"next"
		},
		{
			"fromNodeId":"_uszwz",
			"priority":0,
			"skip":false,
			"toNodeId":"_N72yq",
			"type":"loop"
		},
		{
			"fromNodeId":"_N72yq",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_P31xT",
			"type":"if"
		},
		{
			"fromNodeId":"_P31xT",
			"priority":0,
			"skip":false,
			"toNodeId":"_o0SFt",
			"type":"next"
		},
		{
			"fromNodeId":"_o0SFt",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_x8owJ",
			"type":"if"
		},
		{
			"fromNodeId":"_x8owJ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_HwpPU",
			"type":"next"
		},
		{
			"fromNodeId":"n_HwpPU",
			"priority":0,
			"skip":false,
			"toNodeId":"_Kp99H",
			"type":"next"
		},
		{
			"fromNodeId":"_Kp99H",
			"priority":0,
			"skip":false,
			"toNodeId":"_JMthO",
			"type":"next"
		},
		{
			"fromNodeId":"_o0SFt",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_JMthO",
			"type":"next"
		},
		{
			"fromNodeId":"_N72yq",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_JMthO",
			"type":"next"
		},
		{
			"fromNodeId":"_JMthO",
			"priority":0,
			"skip":false,
			"toNodeId":"_bGIgi",
			"type":"next"
		},
		{
			"fromNodeId":"_bGIgi",
			"priority":0,
			"skip":false,
			"toNodeId":"_eCySt",
			"type":"next"
		},
		{
			"fromNodeId":"_eCySt",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"_uszwz",
			"type":"next"
		},
		{
			"fromNodeId":"_uszwz",
			"priority":0,
			"skip":false,
			"toNodeId":"n_28601",
			"type":"next"
		},
		{
			"fromNodeId":"n_28601",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_M9xiX",
			"type":"if"
		},
		{
			"fromNodeId":"_M9xiX",
			"priority":0,
			"skip":false,
			"toNodeId":"_xQ6oT",
			"type":"loop"
		},
		{
			"fromNodeId":"_xQ6oT",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_w6C7l",
			"type":"if"
		},
		{
			"fromNodeId":"_w6C7l",
			"priority":0,
			"skip":false,
			"toNodeId":"_CDXcQ",
			"type":"next"
		},
		{
			"fromNodeId":"_CDXcQ",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_C9Qgw",
			"type":"if"
		},
		{
			"fromNodeId":"_C9Qgw",
			"priority":0,
			"skip":false,
			"toNodeId":"n_0u1jh",
			"type":"next"
		},
		{
			"fromNodeId":"n_0u1jh",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iDE9C",
			"type":"next"
		},
		{
			"fromNodeId":"n_iDE9C",
			"priority":0,
			"skip":false,
			"toNodeId":"n_SKGMm",
			"type":"next"
		},
		{
			"fromNodeId":"n_0u1jh",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dcNTu",
			"type":"if"
		},
		{
			"fromNodeId":"n_SKGMm",
			"priority":0,
			"skip":false,
			"toNodeId":"n_dcNTu",
			"type":"next"
		},
		{
			"fromNodeId":"n_dcNTu",
			"priority":0,
			"skip":false,
			"toNodeId":"_C56fM",
			"type":"next"
		},
		{
			"fromNodeId":"_C56fM",
			"priority":0,
			"skip":false,
			"toNodeId":"_PzN8k",
			"type":"next"
		},
		{
			"fromNodeId":"_CDXcQ",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_PzN8k",
			"type":"next"
		},
		{
			"fromNodeId":"_xQ6oT",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_PzN8k",
			"type":"next"
		},
		{
			"fromNodeId":"_PzN8k",
			"priority":0,
			"skip":false,
			"toNodeId":"_iALzb",
			"type":"next"
		},
		{
			"fromNodeId":"_iALzb",
			"priority":0,
			"skip":false,
			"toNodeId":"_Syua4",
			"type":"next"
		},
		{
			"fromNodeId":"_Syua4",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"_M9xiX",
			"type":"next"
		},
		{
			"fromNodeId":"_M9xiX",
			"priority":0,
			"skip":false,
			"toNodeId":"fpruA",
			"type":"next"
		},
		{
			"fromNodeId":"n_28601",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"fpruA",
			"type":"next"
		},
		{
			"fromNodeId":"3oBjH",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"fpruA",
			"type":"next"
		},
		{
			"fromNodeId":"fpruA",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Z29Gd",
			"type":"if"
		},
		{
			"fromNodeId":"n_Z29Gd",
			"priority":0,
			"skip":false,
			"toNodeId":"4HiAv",
			"type":"next"
		},
		{
			"fromNodeId":"4HiAv",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_wynrd",
			"type":"if"
		},
		{
			"fromNodeId":"n_wynrd",
			"priority":0,
			"skip":false,
			"toNodeId":"n_cFqrv",
			"type":"next"
		},
		{
			"fromNodeId":"n_cFqrv",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_L080z",
			"type":"if"
		},
		{
			"fromNodeId":"n_L080z",
			"priority":0,
			"skip":false,
			"toNodeId":"aoQxH",
			"type":"next"
		},
		{
			"fromNodeId":"n_cFqrv",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"aoQxH",
			"type":"next"
		},
		{
			"fromNodeId":"aoQxH",
			"priority":0,
			"skip":false,
			"toNodeId":"SYqV3",
			"type":"next"
		},
		{
			"fromNodeId":"SYqV3",
			"priority":0,
			"skip":false,
			"toNodeId":"h5GIl",
			"type":"next"
		},
		{
			"fromNodeId":"h5GIl",
			"priority":0,
			"skip":false,
			"toNodeId":"VX1o5",
			"type":"next"
		},
		{
			"fromNodeId":"VX1o5",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Oq09K",
			"type":"if"
		},
		{
			"fromNodeId":"Oq09K",
			"priority":0,
			"skip":false,
			"toNodeId":"mMgiu",
			"type":"next"
		},
		{
			"fromNodeId":"VX1o5",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"mMgiu",
			"type":"next"
		},
		{
			"fromNodeId":"4HiAv",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"mMgiu",
			"type":"next"
		},
		{
			"fromNodeId":"fpruA",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"mMgiu",
			"type":"next"
		},
		{
			"fromNodeId":"mMgiu",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_Y0yqo",
			"type":"if"
		},
		{
			"fromNodeId":"_Y0yqo",
			"priority":0,
			"skip":false,
			"toNodeId":"UObGA",
			"type":"next"
		},
		{
			"fromNodeId":"UObGA",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_GKqbn",
			"type":"if"
		},
		{
			"fromNodeId":"_GKqbn",
			"priority":0,
			"skip":false,
			"toNodeId":"EIMEJ",
			"type":"next"
		},
		{
			"fromNodeId":"UObGA",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_BVH1s",
			"type":"next"
		},
		{
			"fromNodeId":"n_BVH1s",
			"priority":0,
			"skip":false,
			"toNodeId":"PsV8U",
			"type":"next"
		},
		{
			"fromNodeId":"EIMEJ",
			"priority":0,
			"skip":false,
			"toNodeId":"03ab3",
			"type":"next"
		},
		{
			"fromNodeId":"PsV8U",
			"priority":0,
			"skip":false,
			"toNodeId":"03ab3",
			"type":"next"
		},
		{
			"fromNodeId":"03ab3",
			"priority":0,
			"skip":false,
			"toNodeId":"3D49p",
			"type":"next"
		},
		{
			"fromNodeId":"3D49p",
			"priority":0,
			"skip":false,
			"toNodeId":"9WRDB",
			"type":"next"
		},
		{
			"fromNodeId":"9WRDB",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"BoYl7",
			"type":"if"
		},
		{
			"fromNodeId":"BoYl7",
			"priority":0,
			"skip":false,
			"toNodeId":"c6LEc",
			"type":"next"
		},
		{
			"fromNodeId":"9WRDB",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"c6LEc",
			"type":"next"
		},
		{
			"fromNodeId":"c6LEc",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM",
			"type":"next"
		},
		{
			"fromNodeId":"mMgiu",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM",
			"type":"next"
		},
		{
			"fromNodeId":"7YmdM",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM@1",
			"type":"branch"
		},
		{
			"fromNodeId":"7YmdM@1",
			"priority":0,
			"skip":false,
			"toNodeId":"S31ML",
			"type":"next"
		},
		{
			"fromNodeId":"S31ML",
			"priority":0,
			"skip":false,
			"toNodeId":"vKaQ7",
			"type":"next"
		},
		{
			"fromNodeId":"vKaQ7",
			"priority":0,
			"skip":false,
			"toNodeId":"J5NQ8",
			"type":"next"
		},
		{
			"fromNodeId":"J5NQ8",
			"priority":0,
			"skip":false,
			"toNodeId":"Wskf1",
			"type":"next"
		},
		{
			"fromNodeId":"7YmdM",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM@2",
			"type":"branch"
		},
		{
			"fromNodeId":"7YmdM@2",
			"priority":0,
			"skip":false,
			"toNodeId":"VB8KC",
			"type":"next"
		},
		{
			"fromNodeId":"7YmdM",
			"name":"3",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM@3",
			"type":"branch"
		},
		{
			"fromNodeId":"7YmdM@3",
			"priority":0,
			"skip":false,
			"toNodeId":"BGH8H",
			"type":"next"
		},
		{
			"fromNodeId":"7YmdM",
			"name":"4",
			"priority":0,
			"skip":false,
			"toNodeId":"7YmdM@4",
			"type":"branch"
		},
		{
			"fromNodeId":"7YmdM@4",
			"priority":0,
			"skip":false,
			"toNodeId":"_dRFQL",
			"type":"next"
		},
		{
			"fromNodeId":"Wskf1",
			"priority":0,
			"skip":false,
			"toNodeId":"iI6Et",
			"type":"next"
		},
		{
			"fromNodeId":"VB8KC",
			"priority":0,
			"skip":false,
			"toNodeId":"iI6Et",
			"type":"next"
		},
		{
			"fromNodeId":"BGH8H",
			"priority":0,
			"skip":false,
			"toNodeId":"iI6Et",
			"type":"next"
		},
		{
			"fromNodeId":"_dRFQL",
			"priority":0,
			"skip":false,
			"toNodeId":"iI6Et",
			"type":"next"
		},
		{
			"fromNodeId":"7YmdM",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"iI6Et",
			"type":"branch"
		},
		{
			"fromNodeId":"iI6Et",
			"priority":0,
			"skip":false,
			"toNodeId":"YgElt",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66ab81a6a1c8b020e8374956",
	"lastModifiedBy":0,
	"lcName":"generic_co_pilot_create_case",
	"modifiedTime":1761722736853,
	"name":"GENERIC_CO_PILOT_Create_Case",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":46,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"gB6Bl",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"messageCreatedTime":{
							"type":"string",
							"title":"Message Created Time"
						},
						"fromCustomerUserId":{
							"type":"string",
							"title":"From Customer User Id"
						},
						"streamingAccumulatorStarted":{
							"type":"boolean",
							"title":"Streaming Accumulator Started"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"additional":{
							"type":"object",
							"properties":{
								"parentMessageId":{
									"type":"string",
									"title":"Parent Message Id"
								}
							},
							"additionalProperties":false,
							"title":"Additional",
							"required":[]
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"messageContentType",
						"formData",
						"workflowInputs"
					],
					"properties":{
						"message":{
							"type":"string",
							"title":"Message"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"promptContent":{
							"type":"string",
							"title":"Prompt Content"
						},
						"promptVariables":{
							"type":"string",
							"title":"Prompt Variables"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"copilotType":{
							"type":"string",
							"title":"Copilot Type"
						},
						"runVariables":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Run Variables"
						},
						"contextMessageId":{
							"type":"string",
							"title":"Context Message Id"
						},
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"Id"
									},
									"url":{
										"type":"string",
										"title":"Url"
									},
									"name":{
										"type":"string",
										"title":"Name"
									},
									"fileType":{
										"type":"string",
										"title":"File Type"
									},
									"mimeType":{
										"type":"string",
										"title":"Mime Type"
									},
									"temporaryUrl":{
										"type":"string",
										"title":"Temporary Url"
									},
									"key":{
										"type":"string",
										"title":"Key"
									},
									"sourceType":{
										"type":"string",
										"title":"Source Type"
									},
									"source":{
										"type":"string",
										"title":"Source"
									},
									"size":{
										"type":"string",
										"title":"Size"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Attachments",
							"required":[]
						},
						"workflowJson":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Json"
						},
						"messageContentType":{
							"type":"string",
							"title":"Message Content Type"
						},
						"internalMessageType":{
							"type":"string",
							"title":"Internal Message Type"
						},
						"preFilledChatMessage":{
							"type":"string",
							"title":"Pre Filled Chat Message"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"filter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Filter"
						},
						"settings":{
							"type":"object",
							"properties":{
								"taskExecutionModel":{
									"type":"string",
									"title":"Task Execution Model"
								}
							},
							"additionalProperties":false,
							"title":"Settings",
							"required":[]
						},
						"defaultTools":{
							"type":"object",
							"properties":{
								"webSearch":{
									"type":"boolean",
									"title":"Web Search"
								},
								"deepResearch":{
									"type":"boolean",
									"title":"Deep Research"
								},
								"documentVision":{
									"type":"boolean",
									"title":"Document Vision"
								}
							},
							"additionalProperties":false,
							"title":"Default Tools",
							"required":[]
						},
						"formData":{
							"type":"object",
							"properties":{
								"id":{
									"type":"string",
									"title":"Id"
								},
								"data":{
									"type":"object",
									"properties":{},
									"additionalProperties":false,
									"title":"Data"
								},
								"brandMessageId":{
									"type":"string",
									"title":"Brand Message Id"
								}
							},
							"additionalProperties":false,
							"required":[]
						},
						"reference":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Reference"
						},
						"inReplyToMessageId":{
							"type":"string",
							"title":"In Reply To Message Id"
						},
						"workflowInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Inputs"
						},
						"spaceId":{
							"type":"string",
							"title":"Space Id"
						},
						"runtimeContext":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Runtime Context"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":395,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"3iMEr",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"reference":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Reference"
						},
						"filter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Filter"
						},
						"workflowInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Inputs"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"reference":"{{ gB6Bl.outputs.reference }}",
				"filter":"{{ gB6Bl.outputs.filter }}",
				"workflowInputs":"{{ gB6Bl.outputs.workflowInputs }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"reference":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Reference"
						},
						"filter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Filter"
						},
						"workflowInputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Inputs"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":220,
				"resourceName":"variable_by_unifyapps_get_session_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"53LAF",
			"index":3,
			"inputs":{
				"variableSchema":{
					"type":"object",
					"properties":{
						"ai_agent_use_deployed_entity":{
							"type":"boolean",
							"title":"Ai Agent Use Deployed Entity"
						},
						"ai_agent_deployed_version":{
							"type":"integer",
							"title":"Ai Agent Deployed Version"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Get Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":219,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"BVoEZ",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"execId":{
							"type":"string",
							"title":"Exec Id"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"execId":{
							"type":"string",
							"title":"Exec Id"
						}
					}
				},
				"code":"return [\"execId\" : execId, \"hostName\":com.unifyapps.infra.utils.EnvUtils.getHostName()]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"execId":"{{ __RUN__.outputs.executionId }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":74,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"PjdYr",
			"index":5,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"type":"object",
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"coPilotType":{
							"type":"string",
							"title":"Co Pilot Type"
						},
						"streamingAccumulatorStarted":{
							"type":"boolean",
							"title":"Streaming Accumulator Started"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"coPilotType":"{{ gB6Bl.outputs.copilotType }}",
				"aiAgentId":"{{ gB6Bl.outputs.aiAgentId }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"coPilotType":{
							"type":"string",
							"title":"Co Pilot Type"
						},
						"streamingAccumulatorStarted":{
							"type":"boolean",
							"title":"Streaming Accumulator Started"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"ai agent and copilot variables",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"xSckx",
			"index":6,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_type",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ gB6Bl.outputs.copilotType }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"co_pilot_config",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"cacheKey":"{{ gB6Bl.outputs.copilotType }}",
					"enabled":true,
					"timeToLive":"36000",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Storage",
			"title":"Fetch Co-pilot Config",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"tSpCM",
			"index":7,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ PjdYr.outputs.aiAgentId }}",
								"filter":{
									"operator":"MISSING"
								}
							},
							{
								"filters":[
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"LIVE_CHAT"
										}
									},
									{
										"property":"{{ PjdYr.outputs.aiAgentId }}",
										"filter":{
											"operator":"MISSING"
										}
									}
								],
								"operator":"AND"
							}
						],
						"operator":"OR"
					},
					{
						"property":"{{ PjdYr.outputs.coPilotType }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"AI_AGENT_TEST_PROMPT"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"AI Agent Id Missing ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tSpCM@4RMnk-1@y",
			"id":"0xiLv",
			"index":8,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_type",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ PjdYr.outputs.coPilotType }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"co_pilot_config",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Fetch Co-pilot Config",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tSpCM@4RMnk-1@y",
			"id":"QAfpt",
			"index":9,
			"inputs":{
				"variables":[
					{
						"source":"{{ PjdYr.outputs.aiAgentId }}",
						"value":"=IF(ISBLANK({{ 0xiLv.outputs.properties.aiAgentId }}),{{ PjdYr.outputs.coPilotType }},{{ 0xiLv.outputs.properties.aiAgentId }})"
					}
				]
			},
			"skip":false,
			"subTitle":"Update AI AgentId",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":355,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"Xkdj0",
			"index":10,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.formData }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":375,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Xkdj0@4RMnk-1@y",
			"id":"PgMqd",
			"index":11,
			"inputs":{
				"automationId":"682efc40ffa5cb15e93a3101",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"formData":{
						"id":"{{ gB6Bl.outputs.formData.id }}",
						"messageId":"{{ gB6Bl.outputs.formData.brandMessageId }}",
						"data":"{{ gB6Bl.outputs.formData.data }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":420,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_DE2OM",
			"index":12,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.aiAgentId }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ gB6Bl.outputs.copilotType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"LIVE_CHAT"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":428,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_DE2OM@4RMnk-1@y",
			"id":"n_J5PJe",
			"index":13,
			"inputs":{
				"variables":[
					{
						"source":"{{ PjdYr.outputs.aiAgentId }}",
						"value":"{{ gB6Bl.outputs.aiAgentId }}"
					},
					{
						"source":"{{ PjdYr.outputs.coPilotType }}",
						"value":"AI_AGENT_TEST"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":74,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"gwbz8",
			"index":14,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"type":"object",
					"properties":{
						"caseID":{
							"type":"string",
							"title":"Case ID"
						},
						"defaultAccountId":{
							"type":"string",
							"title":"Default Account Id",
							"description":"Default Account Id used for the Co Pilot messages"
						},
						"coPilotChannelName":{
							"type":"string",
							"title":"Co Pilot Channel Name"
						},
						"aiCoPilotId":{
							"type":"string",
							"title":"Ai Co Pilot Id"
						},
						"userIdWithCoPilot":{
							"type":"string",
							"title":"User Id With Co Pilot"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"coPilotChannelName":"{{ PjdYr.outputs.coPilotType }}",
				"caseID":"{{ gB6Bl.outputs.caseId }}",
				"aiCoPilotId":"AI_CO_PILOT_ID",
				"defaultAccountId":"-100",
				"messageId":"{{ gB6Bl.outputs.messageId }}",
				"defaultToCustomerId":"AI_CO_PILOT_ID"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"caseID":{
							"type":"string",
							"title":"Case ID"
						},
						"defaultAccountId":{
							"type":"string",
							"title":"Default Account Id",
							"description":"Default Account Id used for the Co Pilot messages"
						},
						"coPilotChannelName":{
							"type":"string",
							"title":"Co Pilot Channel Name"
						},
						"aiCoPilotId":{
							"type":"string",
							"title":"Ai Co Pilot Id"
						},
						"userIdWithCoPilot":{
							"type":"string",
							"title":"User Id With Co Pilot"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Case id variable",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":483,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_oYQI4",
			"index":15,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userIdWithCoPilot":{
							"type":"string",
							"title":"User Id With Co Pilot"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userId":{
							"type":"string",
							"title":"User Id"
						},
						"copilotType":{
							"type":"string",
							"title":"Copilot Type"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"userName":{
							"type":"string",
							"title":"User Name"
						}
					}
				},
				"code":"def userIdWithCoPilot = \"\"\n\nif (binding.hasVariable('userId')) {\n    userId = userId.toString()\n}\n\nif (!binding.hasVariable('userId') || userId == \"0\") {\n    userIdWithCoPilot = userName + \"#\" + copilotType + \"#\" + aiAgentId\n} else {\n    userIdWithCoPilot = userId + \"#\" + copilotType + \"#\" + aiAgentId\n}\n\nreturn [\"userIdWithCoPilot\": userIdWithCoPilot]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"userId":"{{ __RUN__.outputs.userId }}",
					"copilotType":"{{ PjdYr.outputs.coPilotType }}",
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}",
					"userName":"{{ __USER__.outputs.username }}"
				}
			},
			"skip":false,
			"subTitle":"Create customerProfileId",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":476,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_NAtbr",
			"index":16,
			"inputs":{
				"variables":[
					{
						"source":"{{ gwbz8.outputs.userIdWithCoPilot }}",
						"value":"{{ n_oYQI4.outputs.result.userIdWithCoPilot }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":125,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"4RMnk-1",
			"id":"e7Ek1",
			"index":17,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"GetAgentCached",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":118,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"lFchM",
			"index":18,
			"inputs":{
				"filters":[
					{
						"property":"{{ e7Ek1.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ PjdYr.outputs.aiAgentId }}",
						"filter":{
							"operator":"EQUAL",
							"value":"{{ PjdYr.outputs.coPilotType }}"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"Agent Accssible?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":122,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"lFchM@4RMnk-1@n",
			"id":"FhW9j",
			"index":19,
			"inputs":{
				"result":{
					"caseId":"{{ gB6Bl.outputs.caseId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"4amlK",
			"index":20,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"Fan Customer Profile",
							"conditions":{
								"filters":[
									{
										"property":"1",
										"filter":{
											"operator":"EQUAL",
											"value":"1"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"Agent Customer Profile",
							"conditions":{
								"filters":[
									{
										"property":"1",
										"filter":{
											"operator":"EQUAL",
											"value":"1"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":23,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4amlK@4RMnk-1@1",
			"id":"4amlK@1",
			"index":21,
			"inputs":{
				"name":"Fan Customer Profile",
				"conditions":{
					"filters":[
						{
							"property":"1",
							"filter":{
								"operator":"EQUAL",
								"value":"1"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":54,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4amlK@4RMnk-1@1",
			"id":"_InTni",
			"index":22,
			"inputs":{
				"automationId":"66eaeecb5dd77636e1fcc1f9",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"channelSpecificId":"{{ gwbz8.outputs.userIdWithCoPilot }}"
				}
			},
			"skip":false,
			"subTitle":"g/c CustomerProfile",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":23,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4amlK@4RMnk-1@2",
			"id":"4amlK@2",
			"index":23,
			"inputs":{
				"name":"Agent Customer Profile",
				"conditions":{
					"filters":[
						{
							"property":"1",
							"filter":{
								"operator":"EQUAL",
								"value":"1"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":23,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4amlK@4RMnk-1@2",
			"id":"7CQ58",
			"index":24,
			"inputs":{
				"variables":[
					{
						"source":"{{ gwbz8.outputs.aiCoPilotId }}",
						"value":"{{ PjdYr.outputs.aiAgentId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":7,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"eejy1",
			"index":25,
			"inputs":{
				"filters":[
					{
						"property":"{{ gwbz8.outputs.caseID }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"CaseId empty ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.requiredSkills.items.skill",
					"root.record.requiredSkills.items.skillCategory",
					"root.record.requiredSkills.items.op",
					"root.record.customProperties.awbNumber",
					"root.record.customProperties.finoCustom.items.mainGrievance",
					"root.record.customProperties.finoCustom.items.subGrievance",
					"root.record.customProperties.finoCustom.items.deliveryChannel",
					"root.record.customProperties.finoCustom.items.compaintMode",
					"root.record.assignmentDetails.assigneeId",
					"root.record.assignmentDetails.assigneeType",
					"root.record.additional.aiAgentId",
					"root.record.additional.lastAssociatedMassageType",
					"root.record.additional.isBookmarked",
					"root.record.additional.shouldSummarise",
					"root.record.customProperties.toolName",
					"root.record.customProperties.topicName",
					"root.record.additional.latestExecutionId",
					"root.record.additional.generatingResponse",
					"root.record.additional.pinnedMessageIds.items.id",
					"root.record.additional.firstFanMessageId",
					"root.record.additional.firstFanMessageCreatedTime",
					"root.record.additional.lastBrandMessageId",
					"root.record.additional.lastBrandMessageTime",
					"root.record.additional.sessionDuration",
					"root.record.additional.copilotConversationType",
					"root.record.additional.fanProfileIds.items",
					"root.record.additional.lastPreviewDetails",
					"root.record.additional.deepResearchEnabled",
					"root.record.additional.responseGenerationStatus"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":7,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"NxPgU",
			"index":26,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"record":{
					"fromCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"toCustomerUserId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"subject":"{{ gB6Bl.outputs.message }}",
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"additional":{
						"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}",
						"isBookmarked":false,
						"generatingResponse":false,
						"deepResearchEnabled":false,
						"responseGenerationStatus":"completed"
					},
					"customProperties":{}
				}
			},
			"skip":false,
			"subTitle":"Create case",
			"title":"Create Record",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"n_T5LQ2",
			"index":27,
			"inputs":{
				"recordId":"{{ gB6Bl.outputs.aiAgentId }}",
				"writeThroughSessionVariables":false,
				"object_type":"ai_agent",
				"skipIfBlank":false,
				"skipPermissionCheck":true,
				"updateFields":[
					{
						"fieldName":"properties.usedCount",
						"actionType":"INCREMENT",
						"setValue":"1"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.messages.items",
					"root.record.citations.items"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":439,
				"resourceName":"storage_by_unifyapps_update_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"n_kbMNz",
			"index":28,
			"inputs":{
				"recordId":"{{ NxPgU.outputs.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"cached_service_hub_case",
				"record":{
					"caseId":"{{ NxPgU.outputs.id }}"
				},
				"upsert":true
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"n_LwCWz",
			"index":29,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.spaceId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":2,
				"resourceName":"standard_entities_update_space",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_LwCWz@eejy1@4RMnk-1@y@y",
			"id":"n_T83FY",
			"index":30,
			"inputs":{
				"actionType":"SET",
				"spaceId":"{{ gB6Bl.outputs.spaceId }}",
				"entityType":"service_hub_case",
				"entityId":"{{ NxPgU.outputs.id }}"
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Update space",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":19,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"_ibwHA",
			"index":31,
			"inputs":{
				"object_type":"e_ai_agent_conversation_state",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ NxPgU.outputs.id }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":19,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"_DMVpO",
			"index":32,
			"inputs":{
				"filters":[
					{
						"property":"{{ _ibwHA.outputs.id }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.availableFlows.items.name",
					"root.record.availableFlows.items.desc",
					"root.record.availableFlows.items.id",
					"root.record.availableFlows.items.slots.items.name",
					"root.record.availableFlows.items.slots.items.description",
					"root.record.availableFlows.items.slots.items.mandatory",
					"root.record.availableFlows.items.slots.items.additional",
					"root.record.availableTopics.items.name",
					"root.record.availableTopics.items.description",
					"root.record.availableTopics.items.flows.items.name",
					"root.record.availableTopics.items.flows.items.description",
					"root.record.availableTopics.items.id",
					"root.record.currentTopicInstructions.items",
					"root.record.triggerDetails.triggerDeploymentId",
					"root.record.triggerDetails.triggerInput",
					"root.record.triggerDetails.triggeredByUserEmail",
					"root.record.triggerDetails.triggeredByAgentDetails.waitingInstanceId",
					"root.record.triggerDetails.triggeredByAgentDetails.waitingInstanceRunTimeType",
					"root.record.availableKnowledges.items",
					"root.record.availableAgents.items.id",
					"root.record.availableAgents.items.name",
					"root.record.availableAgents.items.description",
					"root.record.agentPreferences.referFromPreviousSessionsEnabled",
					"root.record.agentPreferences.referFromKnowledgeEnabled",
					"root.record.availableTopics.items.flows.items.id",
					"root.record.triggerDetails.preferredMarkupLanguage"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":19,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DMVpO@eejy1@4RMnk-1@y@y",
			"id":"_VZI4I",
			"index":33,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"e_ai_agent_conversation_state",
				"skipIfBlank":false,
				"record":{
					"skipAgentNextIteration":false,
					"caseId":"{{ NxPgU.outputs.id }}",
					"currentAIAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":19,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"jYk0o",
			"index":34,
			"inputs":{
				"variables":[
					{
						"source":"{{ gwbz8.outputs.caseID }}",
						"value":"{{ NxPgU.outputs.id }}"
					}
				]
			},
			"skip":false,
			"subTitle":"set case id",
			"title":"Update Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":442,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"n_Uolh6",
			"index":35,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.runtimeContext }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"runtimeContext?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":524,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_Uolh6@eejy1@4RMnk-1@y@y",
			"id":"n_R9Adl",
			"index":36,
			"inputs":{
				"automationId":"67a31b86addac8605df79166",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"createMessageIfAbsent":true,
					"aiAgentId":"{{ gB6Bl.outputs.aiAgentId }}",
					"internalMessageType":"AGENT_INTERNAL_RESPONSE",
					"messageType":"fan",
					"messageContent":"{{ gB6Bl.outputs.runtimeContext }}"
				}
			},
			"skip":false,
			"subTitle":"Add Context To Agent",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":66,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"eFGqy",
			"index":37,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.preFilledChatMessage }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eFGqy@eejy1@4RMnk-1@y@y",
			"id":"IZFra",
			"index":38,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"creationEpoch":{
							"type":"string",
							"title":"Creation Epoch"
						}
					}
				},
				"input":{
					"type":"object",
					"required":[],
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					}
				},
				"code":"return [\"creationEpoch\": System.currentTimeMillis()];\n\n// def generateRandomString() {\n//     def chars = ('a'..'z') + ('A'..'Z')\n//     def random = new Random()\n//     def randomString = (1..5).collect {\n//         chars[random.nextInt(chars.size())]\n//     }.join()\n//     return randomString\n// }",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"caseId":"{{ gwbz8.outputs.caseID }}"
				}
			},
			"skip":false,
			"subTitle":"epoch",
			"title":"Execute Groovy Code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.cc.items.name",
					"root.record.cc.items.email",
					"root.record.bcc.items.name",
					"root.record.bcc.items.email",
					"root.record.content.text",
					"root.record.content.type",
					"root.record.content.html",
					"root.record.content.choices.items",
					"root.record.content.coPilotBlocks.blocks.items",
					"root.record.content.coPilotBlocks.role",
					"root.record.content.choiceList.items.id",
					"root.record.content.choiceList.items.title",
					"root.record.content.choiceList.items.url",
					"root.record.content.interfaceDetails.interfaceId",
					"root.record.content.interfaceDetails.pageId",
					"root.record.content.interfaceDetails.slug",
					"root.record.content.interfaceDetails.pageInputs",
					"root.record.to.items.name",
					"root.record.to.items.email",
					"root.record.feedback.userFeedback",
					"root.record.feedback.feedbackCategories.items",
					"root.record.feedback.reaction",
					"root.record.additional.contextMessageId",
					"root.record.additional.rephrasedUserMessage",
					"root.record.additional.sqlQuery",
					"root.record.additional.platformUserId",
					"root.record.additional.temporaryMessage",
					"root.record.content.agentResponse.rawLLMResponse",
					"root.record.content.agentResponse.executionOutput",
					"root.record.content.agentResponse.toolOutput",
					"root.record.additional.internalMessageType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eFGqy@eejy1@4RMnk-1@y@y",
			"id":"gAEqn",
			"index":39,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_message",
				"skipIfBlank":false,
				"record":{
					"content":{
						"type":"{{ gB6Bl.outputs.messageContentType }}",
						"text":"{{ gB6Bl.outputs.preFilledChatMessage }}"
					},
					"accountId":"{{ gwbz8.outputs.defaultAccountId }}",
					"type":"brand",
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"messageId":"{{ gwbz8.outputs.caseID }}_prefilled_message_{{ __RUN__.outputs.executionId }}",
					"uniqueId":"{{ gwbz8.outputs.caseID }}_{{ IZFra.outputs.result.creationEpoch }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"additional":{
						"internalMessageType":"{{ gB6Bl.outputs.internalMessageType }}"
					},
					"toCustomerUserIdentityId":"{{ _InTni.outputs.customerProfileId }}",
					"fromCustomerUserIdentityId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"channelModifiedTime":"{{ IZFra.outputs.result.creationEpoch }}",
					"toCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"fromCustomerUserId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"create Brand Message",
			"title":"Create Record",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.attachments.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"bm5Yu",
			"index":40,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"emptyMessage":{
							"type":"boolean",
							"title":"Empty Message"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"message":{
							"type":"string",
							"title":"Message"
						},
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Attachments"
						}
					}
				},
				"code":"if(binding.hasVariable('message')) {\n    if(binding.hasVariable(\"attachments\")){\n        return [\"emptyMessage\": message.length() <= 0 && attachments.size() <= 0]\n    }\n    else{\n        return [\"emptyMessage\": message.length() <= 0]\n    }\n}else if(binding.hasVariable(\"attachments\")){\n    return [\"emptyMessage\": attachments.size() <= 0]\n}\nreturn [\"emptyMessage\" :true]",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"message":"{{ gB6Bl.outputs.message }}",
					"attachments":{
						"source":"{{ gB6Bl.outputs.attachments }}",
						"ua:type":"mappedArray",
						"items":"{{ gB6Bl.outputs.attachments[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"EmptyMessage Check",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@y",
			"id":"FULbt",
			"index":41,
			"inputs":{
				"filters":[
					{
						"property":"{{ bm5Yu.outputs.result.emptyMessage }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"EmptyMessage ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":0,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FULbt@eejy1@4RMnk-1@y@y",
			"id":"hhZSs",
			"index":42,
			"inputs":{
				"automationId":"66966960e8797a59f4a46292",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Trigger prerequisites",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FULbt@eejy1@4RMnk-1@y@y",
			"id":"FVtbn",
			"index":43,
			"inputs":{
				"result":{
					"caseId":"{{ NxPgU.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Return",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@n",
			"id":"t1AB6",
			"index":44,
			"inputs":{
				"object_type":"service_hub_case",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ gwbz8.outputs.caseID }}",
				"readThroughSessionVariables":true
			},
			"skip":false,
			"subTitle":"Fetch Case",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@n",
			"id":"GT21F",
			"index":45,
			"inputs":{
				"filters":[
					{
						"property":"{{ t1AB6.outputs.id }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Case Exists",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.requiredSkills.items.skill",
					"root.record.requiredSkills.items.skillCategory",
					"root.record.requiredSkills.items.op",
					"root.record.customProperties.awbNumber",
					"root.record.customProperties.finoCustom.items.mainGrievance",
					"root.record.customProperties.finoCustom.items.subGrievance",
					"root.record.customProperties.finoCustom.items.deliveryChannel",
					"root.record.customProperties.finoCustom.items.compaintMode",
					"root.record.assignmentDetails.assigneeId",
					"root.record.assignmentDetails.assigneeType",
					"root.record.additional.aiAgentId",
					"root.record.customProperties.toolName",
					"root.record.customProperties.topicName",
					"root.record.additional.lastAssociatedMassageType",
					"root.record.additional.isBookmarked",
					"root.record.additional.shouldSummarise",
					"root.record.additional.latestExecutionId",
					"root.record.additional.generatingResponse",
					"root.record.additional.pinnedMessageIds.items.id",
					"root.record.additional.firstFanMessageId",
					"root.record.additional.firstFanMessageCreatedTime",
					"root.record.additional.lastBrandMessageId",
					"root.record.additional.lastBrandMessageTime",
					"root.record.additional.sessionDuration",
					"root.record.additional.copilotConversationType",
					"root.record.additional.fanProfileIds.items",
					"root.record.additional.lastPreviewDetails",
					"root.record.additional.deepResearchEnabled",
					"root.record.additional.responseGenerationStatus"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2011,
				"resourceName":"storage_by_unifyapps_update_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GT21F@eejy1@4RMnk-1@n@y",
			"id":"LiT8I",
			"index":46,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":true,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"record":{
					"fromCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"toCustomerUserId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"subject":"{{ gB6Bl.outputs.message }}",
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"additional":{
						"aiAgentId":"{{ gB6Bl.outputs.aiAgentId }}",
						"isBookmarked":false,
						"generatingResponse":false,
						"deepResearchEnabled":false,
						"responseGenerationStatus":"completed"
					}
				},
				"upsert":true
			},
			"skip":false,
			"subTitle":"create with CaseId",
			"title":"Update record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":62,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"GT21F@eejy1@4RMnk-1@n@y",
			"id":"WJNXp",
			"index":47,
			"inputs":{
				"variables":[
					{
						"source":"{{ gwbz8.outputs.caseID }}",
						"value":"{{ LiT8I.outputs.object.t1.id }}"
					}
				]
			},
			"skip":true,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@n",
			"id":"k3y4e",
			"index":48,
			"inputs":{
				"filters":[
					{
						"property":"{{ t1AB6.outputs.properties.subject }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ LiT8I.outputs.object.properties.subject }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Subject Exists ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k3y4e@eejy1@4RMnk-1@n@y",
			"id":"n_N8pYj",
			"index":49,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.subject",
						"actionType":"SET",
						"setValue":"{{ gB6Bl.outputs.message }}"
					}
				]
			},
			"skip":false,
			"subTitle":"update Subject",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":0,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@n",
			"id":"4H5cw",
			"index":50,
			"inputs":{
				"filters":[
					{
						"property":"{{ t1AB6.outputs.properties.language }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ PjdYr.outputs.aiAgentId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Language Not present ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":0,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4H5cw@eejy1@4RMnk-1@n@y",
			"id":"8CfiS",
			"index":51,
			"inputs":{
				"automationId":"66e2c210bf7f521f97b36643",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"content":"{{ gB6Bl.outputs.message }}",
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Get Case Language",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4H5cw@eejy1@4RMnk-1@n@y",
			"id":"Fo5Vo",
			"index":52,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":true,
				"object_type":"service_hub_case",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.language",
						"actionType":"SET",
						"setValue":"en"
					}
				]
			},
			"skip":false,
			"subTitle":"set lang in case",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":29,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eejy1@4RMnk-1@n",
			"id":"_5T7Pu",
			"index":53,
			"inputs":{
				"filters":[
					{
						"property":"{{ t1AB6.outputs.properties.status }}",
						"filter":{
							"operator":"EQUAL",
							"value":"Transferred"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Transferred  To Custom",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":30,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_5T7Pu@eejy1@4RMnk-1@n@y",
			"id":"_LDXna",
			"index":54,
			"inputs":{
				"variables":[
					{
						"source":"{{ PjdYr.outputs.coPilotType }}",
						"value":"CUSTOM_COPILOT"
					}
				]
			},
			"skip":false,
			"subTitle":"change copilot type",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"_psst0",
			"index":55,
			"inputs":{
				"object_type":"service_hub_case",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ gwbz8.outputs.caseID }}",
				"readThroughSessionVariables":true
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":513,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_GRSny",
			"index":56,
			"inputs":{
				"recordId":"{{ _psst0.outputs.id }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.fanProfileIds",
						"actionType":"ADD_TO_SET",
						"setValue":"{{ _InTni.outputs.customerProfileId }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Add fanProfileId to case",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":107,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"YdFvl",
			"index":57,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.caseId }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.events.items"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":15,
				"resourceName":"storage_by_unifyapps_update_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"YdFvl@4RMnk-1@y",
			"id":"_gcC3v",
			"index":58,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"debug_agent",
				"skipIfBlank":false,
				"record":{
					"eventData":"START",
					"caseId":"{{ gwbz8.outputs.caseID }}"
				},
				"upsert":true
			},
			"skip":false,
			"subTitle":"debugAgent",
			"title":"Update an existing record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":10,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"_eKFNu",
			"index":59,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"creationEpoch":{
							"type":"string",
							"title":"Creation Epoch"
						}
					}
				},
				"code":"return [\n  \"messageId\": UUID.randomUUID().toString(),\n  \"creationEpoch\": System.currentTimeMillis()\n];",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"caseId":"{{ gwbz8.outputs.caseID }}"
				}
			},
			"skip":false,
			"subTitle":"Generate Message Id",
			"title":"Execute Groovy Code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"Sjm6z",
			"index":60,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.lastAssociatedMassageType",
						"actionType":"SET",
						"setValue":"FAN"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Set fan and generatingResponse",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":145,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"UTbcT",
			"index":61,
			"inputs":{
				"filters":[
					{
						"property":"{{ gwbz8.outputs.messageId }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Message ID?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UTbcT@4RMnk-1@y",
			"id":"0vPyM",
			"index":62,
			"inputs":{
				"object_type":"service_hub_message",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"id":"{{ gwbz8.outputs.messageId }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Fetch message to regen",
			"title":"Fetch record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":128,
				"resourceName":"storage_by_unifyapps_delete_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UTbcT@4RMnk-1@y",
			"id":"78ND0",
			"index":63,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_caseId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ gwbz8.outputs.caseID }}"
							}
						},
						{
							"property":"cTm",
							"filter":{
								"operator":"GTE",
								"value":"{{ 0vPyM.outputs.createdTime }}"
							}
						}
					],
					"operator":"AND"
				},
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_message",
				"numberOfRecordsToDelete":"MULTIPLE",
				"page":{
					"limit":20,
					"offset":0
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Delete conv from this msg",
			"title":"Delete records",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.cc.items.name",
					"root.record.cc.items.email",
					"root.record.bcc.items.name",
					"root.record.bcc.items.email",
					"root.record.content.text",
					"root.record.content.type",
					"root.record.content.html",
					"root.record.content.choices.items",
					"root.record.content.coPilotBlocks.blocks.items",
					"root.record.content.coPilotBlocks.role",
					"root.record.content.choiceList.items.id",
					"root.record.content.choiceList.items.title",
					"root.record.content.choiceList.items.url",
					"root.record.content.interfaceDetails.interfaceId",
					"root.record.content.interfaceDetails.pageId",
					"root.record.content.interfaceDetails.slug",
					"root.record.content.interfaceDetails.pageInputs",
					"root.record.to.items.name",
					"root.record.to.items.email",
					"root.record.feedback.userFeedback",
					"root.record.feedback.feedbackCategories.items",
					"root.record.feedback.reaction",
					"root.record.additional.rephrasedUserMessage",
					"root.record.additional.sqlQuery",
					"root.record.additional.platformUserId",
					"root.record.additional.temporaryMessage",
					"root.record.content.agentResponse.rawLLMResponse",
					"root.record.additional.internalMessageType",
					"root.record.additional.triggeredFromApplicationId",
					"root.record.content.interfaceDetails.interfaceDescription",
					"root.record.content.agentResponse.toolUseDetails.toolId",
					"root.record.content.agentResponse.toolUseDetails.toolName",
					"root.record.content.agentResponse.toolUseDetails.toolInput",
					"root.record.content.agentResponse.toolUseDetails.toolOutput",
					"root.record.content.agentResponse.toolUseDetails.toolResponseTime",
					"root.record.content.agentResponse.toolUseDetails.toolExecutionStatus",
					"root.record.content.agentResponse.observation",
					"root.record.additional.streamingInProgress",
					"root.record.additional.ttsDetails.fileUrl",
					"root.record.additional.parentMessageId",
					"root.record.additional.platformName",
					"root.record.additional.hasMoreData",
					"root.record.additional.IsDataRAGExecuted",
					"root.record.additional.deepResearch",
					"root.record.additional.messageSubType",
					"root.record.additional.inReplyToMessageId",
					"root.record.content.agentResponse.thinkingSignature",
					"root.record.content.citations.items",
					"root.record.additional.isRead",
					"root.record.additional.parallelToolCallEnabled",
					"root.record.additional.relativeCallTime",
					"root.record.additional.messageDeliveryStatus",
					"root.record.customProperties.topicName",
					"root.record.customProperties.toolName"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"2O7Q5",
			"index":64,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_message",
				"skipIfBlank":false,
				"record":{
					"messageId":"{{ _eKFNu.outputs.result.messageId }}",
					"type":"fan",
					"channelCreatedTime":"{{ _eKFNu.outputs.result.creationEpoch }}",
					"content":{
						"text":"{{ gB6Bl.outputs.message }}",
						"type":"{{ gB6Bl.outputs.messageContentType }}"
					},
					"accountId":"{{ gwbz8.outputs.defaultAccountId }}",
					"fromCustomerUserIdentityId":"{{ _InTni.outputs.customerProfileId }}",
					"toCustomerUserIdentityId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"fromCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"channelModifiedTime":"{{ _eKFNu.outputs.result.creationEpoch }}",
					"uniqueId":"{{ _eKFNu.outputs.result.messageId }}",
					"toCustomerUserId":"{{ PjdYr.outputs.aiAgentId }}",
					"additional":{
						"internalMessageType":"{{ gB6Bl.outputs.internalMessageType }}",
						"triggeredFromApplicationId":"{{ __USER__.outputs.applicationId }}",
						"IsDataRAGExecuted":false,
						"inReplyToMessageId":"{{ gB6Bl.outputs.inReplyToMessageId }}",
						"parallelToolCallEnabled":false,
						"messageDeliveryStatus":"SENT"
					}
				}
			},
			"skip":false,
			"subTitle":"create Fan Message",
			"title":"Create Record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":807,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_rFaE4",
			"index":65,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"additional":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Additional"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"userId":{
							"type":"string",
							"title":"User Id"
						}
					}
				},
				"code":"return [\"additional\":[\"messageType\":\"Fan\", \"ownerUserId\": userId]]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"userId":"{{ 2O7Q5.outputs.ownerUserId }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"chat_by_unifyapps",
				"resourceVersion":26,
				"resourceName":"chat_by_unifyapps_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"4RMnk-1",
			"id":"_6SGfe",
			"index":66,
			"inputs":{
				"payload":{
					"messageId":"{{ 2O7Q5.outputs.id }}",
					"conversationId":"{{ gwbz8.outputs.caseID }}",
					"additional":"{{ n_rFaE4.outputs.result.additional }}"
				},
				"topic":"case_{{ gwbz8.outputs.caseID }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"maxLeaseTimeUnit":"SECONDS",
					"maxWaitDurationUnit":"SECONDS"
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Chat by UnifyApps",
			"title":"Send message",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"n_UxJAx",
			"index":67,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.caseId }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ t1AB6.outputs.properties.additional.firstFanMessageId }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"OR"
			},
			"skip":false,
			"subTitle":"First Message For Case?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":509,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_UxJAx@4RMnk-1@y",
			"id":"n_M8gYY",
			"index":68,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.firstFanMessageId",
						"actionType":"SET",
						"setValue":"{{ 2O7Q5.outputs.id }}"
					},
					{
						"fieldName":"properties.additional.firstFanMessageCreatedTime",
						"actionType":"SET",
						"setValue":"{{ 2O7Q5.outputs.createdTime }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Update First Fan Message ID and Time",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_UxJAx@4RMnk-1@n",
			"id":"n_zCNIL",
			"index":69,
			"inputs":{
				"filters":[
					{
						"property":"{{ t1AB6.outputs.properties.additional.firstFanMessageCreatedTime }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ 2O7Q5.outputs.createdTime }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"First Fan Message Present?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":526,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zCNIL@n_UxJAx@4RMnk-1@n@y",
			"id":"n_R1Oqw",
			"index":70,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.sessionDuration",
						"actionType":"SET",
						"setValue":"={{ 2O7Q5.outputs.createdTime }}-{{ t1AB6.outputs.properties.additional.firstFanMessageCreatedTime }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Update Session Duration",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"4RMnk-1",
			"id":"n_7BWvg",
			"index":71,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"cached_service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.messages",
						"actionType":"ADD_TO_SET",
						"setValue":"{{ 2O7Q5.outputs }}"
					}
				],
				"unsetIfNull":false
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":147,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"s1dmO",
			"index":72,
			"inputs":{
				"variables":[
					{
						"source":"{{ gwbz8.outputs.messageId }}",
						"value":"{{ 2O7Q5.outputs.id }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"pN7Hy",
			"index":73,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.messageId }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_message",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.additional.parentMessageId",
						"actionType":"SET",
						"setValue":"{{ gwbz8.outputs.messageId }}"
					}
				],
				"unsetIfNull":false
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"count":3,
					"enabled":true
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"set parentMessageId",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"asKZz",
			"index":74,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_case",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.lastFanMessageId",
						"actionType":"SET",
						"setValue":"{{ gwbz8.outputs.messageId }}"
					},
					{
						"fieldName":"properties.lastFanMessageTime",
						"actionType":"SET",
						"setValue":"{{ 2O7Q5.outputs.createdTime }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"set lastFanMessageId",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":78,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"Q3F3b",
			"index":75,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"lastFanMessageId":{
							"type":"string",
							"title":"Last Fan Message Id"
						},
						"semanticSearchFilter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Semantic Search Filter"
						},
						"ua_taskExecutionModel":{
							"type":"string",
							"title":"Ua Task Execution Model"
						},
						"ai_agent_default_tools":{
							"type":"object",
							"properties":{
								"webSearch":{
									"type":"boolean",
									"title":"Web Search"
								},
								"deepResearch":{
									"type":"boolean",
									"title":"Deep Research"
								},
								"documentVision":{
									"type":"boolean",
									"title":"Document Vision"
								}
							},
							"additionalProperties":false,
							"title":"Ai Agent Default Tools",
							"required":[]
						},
						"channelName":{
							"type":"string",
							"title":"Channel Name"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"lastFanMessageId":"{{ gwbz8.outputs.messageId }}",
				"ua_taskExecutionModel":"{{ gB6Bl.outputs.settings.taskExecutionModel }}",
				"channelName":"{{ _psst0.outputs.properties.channelName }}",
				"semanticSearchFilter":"{{ gB6Bl.outputs.filter }}",
				"ai_agent_default_tools":{
					"webSearch":"{{ gB6Bl.outputs.defaultTools.webSearch }}",
					"deepResearch":"{{ gB6Bl.outputs.defaultTools.deepResearch }}",
					"documentVision":"{{ gB6Bl.outputs.defaultTools.documentVision }}"
				}
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"lastFanMessageId":{
							"type":"string",
							"title":"Last Fan Message Id"
						},
						"semanticSearchFilter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Semantic Search Filter"
						},
						"ua_taskExecutionModel":{
							"type":"string",
							"title":"Ua Task Execution Model"
						},
						"ai_agent_default_tools":{
							"type":"object",
							"properties":{
								"webSearch":{
									"type":"boolean",
									"title":"Web Search"
								},
								"deepResearch":{
									"type":"boolean",
									"title":"Deep Research"
								},
								"documentVision":{
									"type":"boolean",
									"title":"Document Vision"
								}
							},
							"additionalProperties":false,
							"title":"Ai Agent Default Tools",
							"required":[]
						},
						"channelName":{
							"type":"string",
							"title":"Channel Name"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"set in session as well",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"3oBjH",
			"index":76,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.attachments[0].id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Attachments Present ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"3oBjH@4RMnk-1@y",
			"id":"Ev3xr",
			"index":77,
			"inputs":{
				"recordId":"{{ 2O7Q5.outputs.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"service_hub_message",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.hasAttachments",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"hasAttachments in shm",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":74,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"3oBjH@4RMnk-1@y",
			"id":"n_swY99",
			"index":78,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"servicehub_attachment_id":{
											"type":"string",
											"title":"Servicehub Attachment Id"
										},
										"name":{
											"type":"string",
											"title":"Name"
										},
										"source":{
											"type":"string",
											"title":"Source"
										},
										"sourceType":{
											"type":"string",
											"title":"Source Type"
										},
										"fileType":{
											"type":"string",
											"title":"File Type"
										},
										"mimeType":{
											"type":"string",
											"title":"Mime Type"
										},
										"size":{
											"type":"string",
											"title":"Size"
										},
										"url":{
											"type":"string",
											"title":"Url"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"attachements",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"attachements",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"servicehub_attachment_id":{
										"type":"string",
										"title":"Servicehub Attachment Id"
									},
									"name":{
										"type":"string",
										"title":"Name"
									},
									"source":{
										"type":"string",
										"title":"Source"
									},
									"sourceType":{
										"type":"string",
										"title":"Source Type"
									},
									"fileType":{
										"type":"string",
										"title":"File Type"
									},
									"mimeType":{
										"type":"string",
										"title":"Mime Type"
									},
									"size":{
										"type":"string",
										"title":"Size"
									},
									"url":{
										"type":"string",
										"title":"Url"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Attachment list",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":93,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"3oBjH@4RMnk-1@y",
			"id":"_uszwz",
			"index":79,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ gB6Bl.outputs.attachments }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"attachment Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uszwz@3oBjH@4RMnk-1@y@l",
			"id":"_N72yq",
			"index":80,
			"inputs":{
				"filters":[
					{
						"property":"{{ _uszwz.outputs.item.sourceType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"URL"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_N72yq@_uszwz@3oBjH@4RMnk-1@y@l@y",
			"id":"_P31xT",
			"index":81,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"flag":{
							"type":"boolean",
							"title":"Flag"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"path":{
							"type":"string",
							"title":"Path"
						}
					}
				},
				"code":"def flag = false\n\nif (binding.hasVariable('path')) {\n    if (path.startsWith(\"/api/file/download/\")) {\n        flag = true\n    }\n}\n\nreturn [\"flag\": flag]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"path":"{{ _uszwz.outputs.item.url }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_N72yq@_uszwz@3oBjH@4RMnk-1@y@l@y",
			"id":"_o0SFt",
			"index":82,
			"inputs":{
				"filters":[
					{
						"property":"{{ _P31xT.outputs.result.flag }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.fileDetails.source",
					"root.record.fileDetails.sourceType",
					"root.record.fileDetails.size",
					"root.record.images.items.mimeType",
					"root.record.images.items.file.name",
					"root.record.images.items.file.source",
					"root.record.images.items.file.sourceType",
					"root.record.images.items.file.type"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2052,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_o0SFt@_N72yq@_uszwz@3oBjH@4RMnk-1@y@l@y@y",
			"id":"_x8owJ",
			"index":83,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_attachment",
				"skipIfBlank":false,
				"record":{
					"entityType":"MESSAGE",
					"entityId":"{{ 2O7Q5.outputs.properties.messageId }}",
					"url":"{{ _uszwz.outputs.item.url }}",
					"name":"{{ _uszwz.outputs.item.name }}",
					"fileType":"{{ _uszwz.outputs.item.fileType }}",
					"mimeType":"{{ _uszwz.outputs.item.mimeType }}",
					"fileDetailsSource":"{{ gB6Bl.outputs.attachments[0].key }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"fileDetails":{
						"source":"{{ _uszwz.outputs.item.source }}",
						"sourceType":"{{ _uszwz.outputs.item.sourceType }}",
						"size":"=CONCATENATE({{ _uszwz.outputs.item.size }},\"\")"
					}
				}
			},
			"skip":false,
			"subTitle":"Attachment",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_o0SFt@_N72yq@_uszwz@3oBjH@4RMnk-1@y@l@y@y",
			"id":"n_HwpPU",
			"index":84,
			"inputs":{
				"itemToAdd":{
					"servicehub_attachment_id":"{{ _x8owJ.outputs.id }}",
					"name":"{{ _uszwz.outputs.item.name }}",
					"source":"{{ _uszwz.outputs.item.source }}",
					"sourceType":"{{ _uszwz.outputs.item.sourceType }}",
					"fileType":"{{ _uszwz.outputs.item.fileType }}",
					"mimeType":"{{ _uszwz.outputs.item.mimeType }}",
					"size":"{{ _uszwz.outputs.item.size }}",
					"url":"{{ _uszwz.outputs.item.url }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_swY99.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Add attachment to list",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":0,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_o0SFt@_N72yq@_uszwz@3oBjH@4RMnk-1@y@l@y@y",
			"id":"_Kp99H",
			"index":85,
			"inputs":{
				"loop":"_uszwz"
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":372,
				"resourceName":"utility_by_unifyapps_create_unifyapps_path_for_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uszwz@3oBjH@4RMnk-1@y@l",
			"id":"_JMthO",
			"index":86,
			"inputs":{
				"file":"{{ _uszwz.outputs.item }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps path for file",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.fileDetails.source",
					"root.record.fileDetails.sourceType",
					"root.record.fileDetails.size",
					"root.record.images.items.mimeType",
					"root.record.images.items.file.name",
					"root.record.images.items.file.source",
					"root.record.images.items.file.sourceType",
					"root.record.images.items.file.type"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2052,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uszwz@3oBjH@4RMnk-1@y@l",
			"id":"_bGIgi",
			"index":87,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_attachment",
				"skipIfBlank":false,
				"record":{
					"entityType":"MESSAGE",
					"entityId":"{{ 2O7Q5.outputs.properties.messageId }}",
					"url":"{{ _JMthO.outputs.path }}",
					"name":"{{ _uszwz.outputs.item.name }}",
					"fileType":"{{ _uszwz.outputs.item.fileType }}",
					"mimeType":"{{ _uszwz.outputs.item.mimeType }}",
					"fileDetailsSource":"{{ gB6Bl.outputs.attachments[0].key }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"fileDetails":{
						"source":"{{ _uszwz.outputs.item.source }}",
						"sourceType":"{{ _uszwz.outputs.item.sourceType }}",
						"size":"=CONCATENATE({{ _uszwz.outputs.item.size }},\"\")"
					}
				}
			},
			"skip":false,
			"subTitle":"Attachment",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_uszwz@3oBjH@4RMnk-1@y@l",
			"id":"_eCySt",
			"index":88,
			"inputs":{
				"itemToAdd":{
					"name":"{{ _uszwz.outputs.item.name }}",
					"source":"{{ _uszwz.outputs.item.source }}",
					"sourceType":"{{ _uszwz.outputs.item.sourceType }}",
					"fileType":"{{ _uszwz.outputs.item.fileType }}",
					"mimeType":"{{ _uszwz.outputs.item.mimeType }}",
					"size":"{{ _uszwz.outputs.item.size }}",
					"servicehub_attachment_id":"{{ _bGIgi.outputs.id }}",
					"url":"{{ _uszwz.outputs.item.url }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_swY99.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Add attachment to list",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":442,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"3oBjH@4RMnk-1@y",
			"id":"n_28601",
			"index":89,
			"inputs":{
				"filters":[
					{
						"property":"{{ e7Ek1.outputs.properties.preProcessingSettings.disableConvertToImages }}",
						"filter":{
							"operator":"MISSING"
						}
					},
					{
						"property":"{{ e7Ek1.outputs.properties.preProcessingSettings.disableConvertToImages }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"OR"
			},
			"skip":true,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":93,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_28601@3oBjH@4RMnk-1@y@y",
			"id":"_M9xiX",
			"index":90,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ n_swY99.outputs.items }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"attachment Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l",
			"id":"_xQ6oT",
			"index":91,
			"inputs":{
				"filters":[
					{
						"property":"1",
						"filter":{
							"operator":"EQUAL",
							"value":"1"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y",
			"id":"_w6C7l",
			"index":92,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"flag":{
							"type":"boolean",
							"title":"Flag"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"path":{
							"type":"string",
							"title":"Path"
						}
					}
				},
				"code":"def flag = false\n\nif (binding.hasVariable('path')) {\n    if (path.startsWith(\"/api/file/download/\")) {\n        flag = true\n    }\n}\n\nreturn [\"flag\": flag]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"path":"{{ _M9xiX.outputs.item.url }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y",
			"id":"_CDXcQ",
			"index":93,
			"inputs":{
				"filters":[
					{
						"property":"{{ _w6C7l.outputs.result.flag }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":467,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y",
			"id":"_C9Qgw",
			"index":94,
			"inputs":{
				"automationId":"68c7c06aa7e5ad182a4757bc",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"fileObject":{
						"fileType":"{{ _M9xiX.outputs.item.fileType }}",
						"name":"{{ _M9xiX.outputs.item.name }}",
						"source":"{{ _M9xiX.outputs.item.source }}",
						"sourceType":"{{ _M9xiX.outputs.item.sourceType }}"
					},
					"mimeType":"{{ _M9xiX.outputs.item.mimeType }}",
					"size":"{{ _M9xiX.outputs.item.size }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":446,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y",
			"id":"n_0u1jh",
			"index":95,
			"inputs":{
				"filters":[
					{
						"property":"{{ _C9Qgw.outputs.pageCounter }}",
						"filter":{
							"operator":"LTE",
							"value":"10"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":727,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0u1jh@_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y@n",
			"id":"n_iDE9C",
			"index":96,
			"inputs":{
				"recordId":"{{ _M9xiX.outputs.item.servicehub_attachment_id }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_attachment",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.documentExtractedText",
						"actionType":"SET",
						"setValue":"{{ _C9Qgw.outputs.documentExtractedText }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":449,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0u1jh@_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y@n",
			"id":"n_SKGMm",
			"index":97,
			"inputs":{
				"loop":"_M9xiX"
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":712,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y",
			"id":"n_dcNTu",
			"index":98,
			"inputs":{
				"recordId":"{{ _M9xiX.outputs.item.servicehub_attachment_id }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_attachment",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.images",
						"actionType":"SET",
						"setValue":"{{ _C9Qgw.outputs.images }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":0,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_CDXcQ@_xQ6oT@_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l@y@y",
			"id":"_C56fM",
			"index":99,
			"inputs":{
				"loop":"_M9xiX"
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":372,
				"resourceName":"utility_by_unifyapps_create_unifyapps_path_for_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l",
			"id":"_PzN8k",
			"index":100,
			"inputs":{
				"file":"{{ _M9xiX.outputs.item }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps path for file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":467,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l",
			"id":"_iALzb",
			"index":101,
			"inputs":{
				"automationId":"68c7c06aa7e5ad182a4757bc",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"fileObject":{
						"fileType":"{{ _M9xiX.outputs.item.fileType }}",
						"name":"{{ _M9xiX.outputs.item.name }}",
						"source":"{{ _M9xiX.outputs.item.source }}",
						"sourceType":"{{ _M9xiX.outputs.item.sourceType }}"
					},
					"mimeType":"{{ _M9xiX.outputs.item.mimeType }}",
					"size":"{{ _M9xiX.outputs.item.size }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":712,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_M9xiX@n_28601@3oBjH@4RMnk-1@y@y@l",
			"id":"_Syua4",
			"index":102,
			"inputs":{
				"recordId":"{{ _M9xiX.outputs.item.servicehub_attachment_id }}",
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_attachment",
				"skipIfBlank":false,
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.images",
						"actionType":"SET",
						"setValue":"{{ _iALzb.outputs.images }}"
					}
				],
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":71,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"fpruA",
			"index":103,
			"inputs":{
				"filters":[
					{
						"property":"{{ xSckx.outputs.properties.supportsStreaming }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"supports Streaming",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fpruA@4RMnk-1@y",
			"id":"n_Z29Gd",
			"index":104,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":75,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"fpruA@4RMnk-1@y",
			"id":"4HiAv",
			"index":105,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ PjdYr.outputs.coPilotType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"AI_AGENT"
								}
							},
							{
								"property":"{{ PjdYr.outputs.coPilotType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"AI_AGENT_TEST"
								}
							},
							{
								"property":"{{ PjdYr.outputs.coPilotType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"ENTERPRISE_SEARCH"
								}
							},
							{
								"property":"{{ PjdYr.outputs.coPilotType }}",
								"filter":{
									"operator":"EQUAL",
									"value":"AUTOMATION_CHAT"
								}
							}
						],
						"operator":"OR"
					},
					{
						"property":"{{ n_Z29Gd.outputs.properties.responseGenerationSettings.streamingEnabled }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":" enabled for agent ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":525,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"n_wynrd",
			"index":106,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_userId_caseId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ __RUN__.outputs.userId }}_{{ gwbz8.outputs.caseID }}"
							}
						},
						{
							"property":"properties_instanceType",
							"filter":{
								"operator":"NOT_EQUAL",
								"value":"UI_LISTENER"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"e_ai_agent_streaming_detail",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.streamingInProgress",
						"actionType":"SET",
						"setValue":"true"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"n_cFqrv",
			"index":107,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_wynrd.outputs.result }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":522,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_cFqrv@4HiAv@fpruA@4RMnk-1@y@y@y",
			"id":"n_L080z",
			"index":108,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"e_ai_agent_streaming_detail",
				"skipIfBlank":false,
				"record":{
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}",
					"streamingInProgress":true,
					"userId_caseId":"{{ __RUN__.outputs.userId }}_{{ gwbz8.outputs.caseID }}",
					"caseId":"{{ gwbz8.outputs.caseID }}"
				}
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":11,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"aoQxH",
			"index":109,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_caseId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ gwbz8.outputs.caseID }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"debug_agent",
				"skipIfBlank":false,
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"streaming detail added"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				},
				"unsetIfNull":false
			},
			"skip":false,
			"subTitle":"debug Agent",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":75,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"SYqV3",
			"index":110,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"supportsStreaming":{
							"type":"boolean",
							"title":"Supports Streaming"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"supportsStreaming":true
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"supportsStreaming":{
							"type":"boolean",
							"title":"Supports Streaming"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":75,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"h5GIl",
			"index":111,
			"inputs":{
				"automationId":"67b7748b4372d31da7c2e130",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Start Stream Accumulator",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":148,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4HiAv@fpruA@4RMnk-1@y@y",
			"id":"VX1o5",
			"index":112,
			"inputs":{
				"filters":[
					{
						"property":"{{ h5GIl.outputs.result }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"accumulator",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":151,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"VX1o5@4HiAv@fpruA@4RMnk-1@y@y@y",
			"id":"Oq09K",
			"index":113,
			"inputs":{
				"variables":[
					{
						"source":"{{ PjdYr.outputs.streamingAccumulatorStarted }}",
						"value":true
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"mMgiu",
			"index":114,
			"inputs":{
				"filters":[
					{
						"property":"{{ gB6Bl.outputs.copilotType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"AUTOMATION_CHAT"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Automation Copilot ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"_Y0yqo",
			"index":115,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_entityId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ gwbz8.outputs.caseID }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"workflow_co_pilot_metadata",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"workFlowMetadata",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"UObGA",
			"index":116,
			"inputs":{
				"filters":[
					{
						"property":"{{ _Y0yqo.outputs.id }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"metadata present ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UObGA@mMgiu@4RMnk-1@y@y",
			"id":"_GKqbn",
			"index":117,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"workflowJson":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Json"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"workflowJson":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Json"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def workflowJson = binding.hasVariable(\"workflowJson\") ? binding.workflowJson : [:]\ndef nodes = workflowJson.get(\"nodes\")\n\nnodes.each { node ->\n  def keysToRemove = node.keySet().findAll { it == \"height\" || it == \"width\" }\n  keysToRemove.each { node.remove(it) }\n}\n\nreturn [\"workflowJson\": workflowJson]",
				"parameters":{
					"workflowJson":"{{ gB6Bl.outputs.workflowJson }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.updateFields.items.fieldName",
					"root.updateFields.items.actionType"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":438,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UObGA@mMgiu@4RMnk-1@y@y",
			"id":"EIMEJ",
			"index":118,
			"inputs":{
				"recordId":"{{ _Y0yqo.outputs.id }}",
				"writeThroughSessionVariables":true,
				"object_type":"workflow_co_pilot_metadata",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"fieldName":"properties.userModifiedWorkflowJson",
						"actionType":"SET",
						"setValue":"{{ _GKqbn.outputs.result.workflowJson }}"
					},
					{
						"fieldName":"properties.workflowJson",
						"actionType":"SET",
						"setValue":"{{ _GKqbn.outputs.result.workflowJson }}"
					}
				]
			},
			"skip":false,
			"subTitle":"update workflowJson",
			"title":"Update an existing record's fields",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UObGA@mMgiu@4RMnk-1@y@n",
			"id":"n_BVH1s",
			"index":119,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"workflowJson":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Json"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"workflowJson":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Json"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def workflowJson = binding.hasVariable(\"workflowJson\") ? binding.workflowJson : [:]\ndef nodes = workflowJson.get(\"nodes\")\n\nnodes.each { node ->\n  def keysToRemove = node.keySet().findAll { it == \"height\" || it == \"width\" }\n  keysToRemove.each { node.remove(it) }\n}\n\nreturn [\"workflowJson\": workflowJson]",
				"parameters":{
					"workflowJson":"{{ gB6Bl.outputs.workflowJson }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.changedNodeIds.items",
					"root.record.context_actions.items.connector",
					"root.record.context_actions.items.action",
					"root.record.context_actions.items.actionDescription",
					"root.record.context_actions.items.resourcetype",
					"root.record.used_actions.items.connector",
					"root.record.used_actions.items.action",
					"root.record.used_actions.items.actionDescription",
					"root.record.used_actions.items.resourcetype"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2011,
				"resourceName":"storage_by_unifyapps_update_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"UObGA@mMgiu@4RMnk-1@y@n",
			"id":"PsV8U",
			"index":120,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}_workflowCoPilotMetadata",
				"object_type":"workflow_co_pilot_metadata",
				"record":{
					"entityId":"{{ gwbz8.outputs.caseID }}",
					"workflowJson":"{{ n_BVH1s.outputs.result.workflowJson }}",
					"userModifiedWorkflowJson":"{{ n_BVH1s.outputs.result.workflowJson }}"
				},
				"upsert":true
			},
			"skip":false,
			"subTitle":"upsert",
			"title":"Update record by ID",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":329,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"03ab3",
			"index":121,
			"inputs":{
				"automationId":"6811d6a3b7524d514cbcd40b",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"workflowJson":"{{ gB6Bl.outputs.workflowJson }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":19,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"3D49p",
			"index":122,
			"inputs":{
				"object_type":"e_ai_agent_conversation_state",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"id":"{{ gwbz8.outputs.caseID }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Agent Conv State",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":19,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"9WRDB",
			"index":123,
			"inputs":{
				"filters":[
					{
						"property":"{{ 3D49p.outputs.id }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Conv state id not present ?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.availableFlows.items.name",
					"root.record.availableFlows.items.desc",
					"root.record.availableFlows.items.id",
					"root.record.availableFlows.items.slots.items.name",
					"root.record.availableFlows.items.slots.items.description",
					"root.record.availableFlows.items.slots.items.mandatory",
					"root.record.availableFlows.items.slots.items.additional",
					"root.record.availableTopics.items.name",
					"root.record.availableTopics.items.description",
					"root.record.availableTopics.items.flows.items.name",
					"root.record.availableTopics.items.flows.items.description",
					"root.record.availableTopics.items.id",
					"root.record.currentTopicInstructions.items",
					"root.record.triggerDetails.triggerDeploymentId",
					"root.record.triggerDetails.triggerInput",
					"root.record.triggerDetails.triggeredByUserEmail",
					"root.record.triggerDetails.triggeredByAgentDetails.waitingInstanceId",
					"root.record.triggerDetails.triggeredByAgentDetails.waitingInstanceRunTimeType",
					"root.record.availableKnowledges.items",
					"root.record.availableAgents.items.id",
					"root.record.availableAgents.items.name",
					"root.record.availableAgents.items.description",
					"root.record.agentPreferences.referFromPreviousSessionsEnabled",
					"root.record.agentPreferences.referFromKnowledgeEnabled",
					"root.record.availableTopics.items.flows.items.id",
					"root.record.triggerDetails.preferredMarkupLanguage"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":19,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"9WRDB@mMgiu@4RMnk-1@y@y",
			"id":"BoYl7",
			"index":124,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"e_ai_agent_conversation_state",
				"record":{
					"skipAgentNextIteration":false,
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"currentAIAgentId":"{{ PjdYr.outputs.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Create agent  conv state",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":318,
				"resourceName":"storage_by_unifyapps_update_record_fields_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mMgiu@4RMnk-1@y",
			"id":"c6LEc",
			"index":125,
			"inputs":{
				"recordId":"{{ gwbz8.outputs.caseID }}",
				"writeThroughSessionVariables":true,
				"object_type":"e_ai_agent_conversation_state",
				"skipPermissionCheck":false,
				"updateFields":[
					{
						"actionType":"SET",
						"fieldName":"properties.caseContext",
						"setValue":"{{ 03ab3.outputs.caseContext }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"7YmdM",
			"index":126,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"AI_AGENT_TEST_PROMPT",
							"conditions":{
								"filters":[
									{
										"property":"{{ gB6Bl.outputs.copilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"AI_AGENT_TEST_PROMPT"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"AI_AGENT_TEST",
							"conditions":{
								"filters":[
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"AI_AGENT_TEST"
										}
									},
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"AI_AGENT"
										}
									},
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"ENTERPRISE_SEARCH"
										}
									},
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"AUTOMATION_CHAT"
										}
									}
								],
								"operator":"OR"
							}
						}
					},
					{
						"id":"3",
						"inputs":{
							"name":"AI Code Generator",
							"conditions":{
								"filters":[
									{
										"property":"{{ gB6Bl.outputs.copilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"CODE_GENERATOR"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"4",
						"inputs":{
							"name":"Custom COPILOT",
							"conditions":{
								"filters":[
									{
										"property":"{{ PjdYr.outputs.coPilotType }}",
										"filter":{
											"operator":"EQUAL",
											"value":"CUSTOM_COPILOT"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":34,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@1",
			"id":"7YmdM@1",
			"index":127,
			"inputs":{
				"name":"AI_AGENT_TEST_PROMPT",
				"conditions":{
					"filters":[
						{
							"property":"{{ gB6Bl.outputs.copilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"AI_AGENT_TEST_PROMPT"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@1",
			"id":"S31ML",
			"index":128,
			"inputs":{
				"automationId":"66b216c8ab12d571b5b5393b",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"promptContent":"{{ gB6Bl.outputs.promptContent }}",
					"promptVariables":"{{ gB6Bl.outputs.promptVariables }}",
					"aiAgentId":"{{ gB6Bl.outputs.aiAgentId }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"userQuery":"{{ gB6Bl.outputs.message }}"
				}
			},
			"skip":false,
			"subTitle":"Prompt Tester",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@1",
			"id":"vKaQ7",
			"index":129,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"creationEpoch":{
							"type":"string",
							"title":"Creation Epoch"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [\"creationEpoch\": System.currentTimeMillis()];\n\ndef generateRandomString() {\n    def chars = ('a'..'z') + ('A'..'Z')\n    def random = new Random()\n    def randomString = (1..5).collect {\n        chars[random.nextInt(chars.size())]\n    }.join()\n    return randomString\n}",
				"isAsync":false
			},
			"skip":false,
			"subTitle":"epoch",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.cc.items.name",
					"root.record.cc.items.email",
					"root.record.bcc.items.name",
					"root.record.bcc.items.email",
					"root.record.content.text",
					"root.record.content.type",
					"root.record.content.html",
					"root.record.content.choices.items",
					"root.record.content.coPilotBlocks.blocks.items",
					"root.record.content.coPilotBlocks.role",
					"root.record.content.choiceList.items.id",
					"root.record.content.choiceList.items.title",
					"root.record.content.choiceList.items.url",
					"root.record.content.interfaceDetails.interfaceId",
					"root.record.content.interfaceDetails.pageId",
					"root.record.content.interfaceDetails.slug",
					"root.record.content.interfaceDetails.pageInputs",
					"root.record.to.items.name",
					"root.record.to.items.email",
					"root.record.feedback.userFeedback",
					"root.record.feedback.feedbackCategories.items",
					"root.record.feedback.reaction",
					"root.record.additional.contextMessageId",
					"root.record.additional.rephrasedUserMessage",
					"root.record.additional.sqlQuery",
					"root.record.additional.platformUserId"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1368,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@1",
			"id":"J5NQ8",
			"index":130,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"service_hub_message",
				"record":{
					"messageId":"{{ gwbz8.outputs.caseID }}_{{ vKaQ7.outputs.result.creationEpoch }}",
					"content":{
						"text":"{{ S31ML.outputs.response }}",
						"type":"text"
					},
					"accountId":"{{ gwbz8.outputs.defaultAccountId }}",
					"fromCustomerUserIdentityId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"toCustomerUserIdentityId":"{{ _InTni.outputs.customerProfileId }}",
					"fromCustomerUserId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"channelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"channelModifiedTime":"{{ vKaQ7.outputs.result.creationEpoch }}",
					"uniqueId":"{{ gwbz8.outputs.caseID }}_{{ vKaQ7.outputs.result.creationEpoch }}",
					"toCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"type":"bot"
				}
			},
			"skip":false,
			"subTitle":"Brand Message",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"chat_by_unifyapps",
				"resourceVersion":26,
				"resourceName":"chat_by_unifyapps_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@1",
			"id":"Wskf1",
			"index":131,
			"inputs":{
				"payload":{
					"messageId":"{{ J5NQ8.outputs.id }}",
					"conversationId":"{{ gwbz8.outputs.caseID }}"
				},
				"userId":"{{ __RUN__.outputs.userId }}"
			},
			"skip":false,
			"subTitle":"Chat by UnifyApps",
			"title":"Send message",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":34,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@2",
			"id":"7YmdM@2",
			"index":132,
			"inputs":{
				"name":"AI_AGENT_TEST",
				"conditions":{
					"filters":[
						{
							"property":"{{ PjdYr.outputs.coPilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"AI_AGENT_TEST"
							}
						},
						{
							"property":"{{ PjdYr.outputs.coPilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"AI_AGENT"
							}
						},
						{
							"property":"{{ PjdYr.outputs.coPilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"ENTERPRISE_SEARCH"
							}
						},
						{
							"property":"{{ PjdYr.outputs.coPilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"AUTOMATION_CHAT"
							}
						}
					],
					"operator":"OR"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@2",
			"id":"VB8KC",
			"index":133,
			"inputs":{
				"automationId":"66b32d8adb0c6546b93d52e5",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ PjdYr.outputs.aiAgentId }}",
					"userQuery":"{{ gB6Bl.outputs.message }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"defaultAccountId":"{{ gwbz8.outputs.defaultAccountId }}",
					"aiCoPilotId":"{{ gwbz8.outputs.aiCoPilotId }}",
					"coPilotChannelName":"{{ gwbz8.outputs.coPilotChannelName }}",
					"userIdWithCoPilot":"{{ gwbz8.outputs.userIdWithCoPilot }}",
					"messageId":"{{ gwbz8.outputs.messageId }}",
					"userId":"{{ __RUN__.outputs.userId }}",
					"messageContentType":"{{ gB6Bl.outputs.messageContentType }}",
					"hasAttachments":"=IF(LEN({{ gB6Bl.outputs.attachments }})>0, TRUE(), FALSE())"
				}
			},
			"skip":false,
			"subTitle":"AI Agent Executor",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":35,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@3",
			"id":"7YmdM@3",
			"index":134,
			"inputs":{
				"name":"AI Code Generator",
				"conditions":{
					"filters":[
						{
							"property":"{{ gB6Bl.outputs.copilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"CODE_GENERATOR"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":51,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@3",
			"id":"BGH8H",
			"index":135,
			"inputs":{
				"automationId":"66ab7bfba1c8b020e8374880",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"messageId":"{{ gwbz8.outputs.messageId }}",
					"messageContent":"{{ gB6Bl.outputs.message }}",
					"userId":"{{ gB6Bl.outputs.userId }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"runVariables":{
						"source":"{{ gB6Bl.outputs.runVariables }}",
						"ua:type":"mappedArray",
						"items":"{{ gB6Bl.outputs.runVariables[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code Generator",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":8,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@4",
			"id":"7YmdM@4",
			"index":136,
			"inputs":{
				"name":"Custom COPILOT",
				"conditions":{
					"filters":[
						{
							"property":"{{ PjdYr.outputs.coPilotType }}",
							"filter":{
								"operator":"EQUAL",
								"value":"CUSTOM_COPILOT"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":8,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"7YmdM@4RMnk-1@4",
			"id":"_dRFQL",
			"index":137,
			"inputs":{
				"automationId":"675d880d54db1a77c168e65d",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"caseId":"{{ gB6Bl.outputs.caseId }}"
				}
			},
			"skip":false,
			"subTitle":"Custom copilot",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":33,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"iI6Et",
			"index":138,
			"inputs":{
				"result":{
					"messageId":"{{ gwbz8.outputs.messageId }}",
					"caseId":"{{ gwbz8.outputs.caseID }}",
					"messageCreatedTime":"{{ 2O7Q5.outputs.createdTime }}",
					"streamingAccumulatorStarted":"{{ PjdYr.outputs.streamingAccumulatorStarted }}",
					"aiAgentId":"{{ gB6Bl.outputs.aiAgentId }}",
					"fromCustomerUserId":"{{ _InTni.outputs.customerProfileId }}",
					"additional":{
						"parentMessageId":"{{ gwbz8.outputs.messageId }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Return",
			"title":"Return data to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4RMnk-1",
			"id":"YgElt",
			"index":139,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		}
	],
	"ownerUserId":1728,
	"projectId":63,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent"
	],
	"version":430
}